package Y;

import X.C100683xI;
import X.C105084Am;
import X.C105454Bx;
import X.C16880lQ;
import X.C17N;
import X.C19K;
import X.C1GE;
import X.C32I;
import X.C3QE;
import X.C45O;
import X.C46318IFu;
import X.C47261Igj;
import X.C4BH;
import X.C4BI;
import X.C4FF;
import X.C4NJ;
import X.C4XM;
import X.C56308M8a;
import X.C58314Muc;
import X.C61878OQg;
import X.C62846OlW;
import X.C63152dr;
import X.C68322mC;
import X.C71582rS;
import X.C71922s0;
import X.C73340SqO;
import X.C785736n;
import X.C87687YbD;
import X.C90193gN;
import X.C93023kw;
import X.C96283qC;
import X.C99033ud;
import X.EnumC73222u6;
import X.InterfaceC1031843e;
import X.InterfaceC215138cP;
import X.InterfaceC86363aC;
import X.KL2;
import X.OJD;
import X.ORZ;
import X.ViewOnTouchListenerC93253lJ;
import X.X1D;
import X.XKQ;
import X.XKX;
import android.text.Editable;
import android.text.TextUtils;
import android.text.TextWatcher;
import android.view.View;
import android.view.ViewGroup;
import android.view.Window;
import android.view.WindowManager;
import android.widget.EditText;
import android.widget.ImageView;
import android.widget.PopupWindow;
import android.widget.TextView;
import androidx.lifecycle.LifecycleOwnerKt;
import com.ss.android.ugc.aweme.base.model.UrlModel;
import com.ss.android.ugc.aweme.emoji.model.Emoji;
import com.ss.android.ugc.aweme.emoji.stickerstore.model.SetSticker;
import com.ss.android.ugc.aweme.emoji.stickerstore.model.StickerUrlStruct;
import com.ss.android.ugc.aweme.im.sdk.chat.feature.read.viewmodel.ReadStateViewModel;
import com.ss.android.ugc.aweme.im.sdk.chat.ui.base.assems.input.ChatRoomInputVM;
import com.ss.android.ugc.aweme.im.sdk.chat.ui.base.assems.input.edittext.IMInputEditTextAssem;
import com.ss.android.ugc.aweme.im.sdk.chat.ui.base.assems.input.suggestedemoji.SuggestedEmojiAssem;
import com.ss.android.ugc.aweme.im.sdk.chat.ui.base.assems.input.suggestedemoji.SuggestedEmojiViewModel;
import com.ss.android.ugc.aweme.im.sdk.chat.ui.base.assems.readstate.ReadStateAssem;
import com.ss.android.ugc.aweme.im.sdk.relations.ui.fragment.RelationSelectFragment;
import com.ss.android.ugc.aweme.im.sdk.search.ui.assem.IMSearchAssem;
import com.ss.android.ugc.aweme.im.sdk.search.viewmodel.IMSearchVM;
import com.ss.android.ugc.aweme.im.sdk.share.viewmodel.ShareDialogViewModel;
import com.ss.android.ugc.aweme.qna.fragment.QnaAskQuestionFragment;
import com.zhiliaoapp.musically.R;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import kotlin.jvm.internal.AqS26S1000000_1;
import kotlin.jvm.internal.o;
import ujb.s;

/* loaded from: classes2.dex */
public class IDObjectS174S0100000_1 implements TextWatcher {
    public final int $t;
    public Object l0;

    public static final void afterTextChanged$2(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
    }

    public static final void afterTextChanged$3(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
    }

    public static final void afterTextChanged$7(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
    }

    public static final void beforeTextChanged$1(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$2(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$3(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$4(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$5(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$6(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$7(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void beforeTextChanged$8(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void onTextChanged$1(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void onTextChanged$4(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void onTextChanged$5(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void onTextChanged$6(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    public static final void onTextChanged$8(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
    }

    @Override // android.text.TextWatcher
    public final void afterTextChanged(Editable editable) {
        switch (this.$t) {
            case 0:
                afterTextChanged$0(this, editable);
                return;
            case 1:
                afterTextChanged$1(this, editable);
                return;
            case 2:
                afterTextChanged$2(this, editable);
                return;
            case 3:
                afterTextChanged$3(this, editable);
                return;
            case 4:
                afterTextChanged$4(this, editable);
                return;
            case 5:
                afterTextChanged$5(this, editable);
                return;
            case 6:
                afterTextChanged$6(this, editable);
                return;
            case 7:
                afterTextChanged$7(this, editable);
                return;
            case 8:
                afterTextChanged$8(this, editable);
                return;
            case 9:
                afterTextChanged$9(this, editable);
                return;
            default:
                return;
        }
    }

    @Override // android.text.TextWatcher
    public final void beforeTextChanged(CharSequence charSequence, int i, int i2, int i3) {
        switch (this.$t) {
            case 0:
                o.LJIIIZ(charSequence, "s");
                return;
            case 1:
                beforeTextChanged$1(this, charSequence, i, i2, i3);
                return;
            case 2:
                beforeTextChanged$2(this, charSequence, i, i2, i3);
                return;
            case 3:
                beforeTextChanged$3(this, charSequence, i, i2, i3);
                return;
            case 4:
                beforeTextChanged$4(this, charSequence, i, i2, i3);
                return;
            case 5:
                beforeTextChanged$5(this, charSequence, i, i2, i3);
                return;
            case 6:
                beforeTextChanged$6(this, charSequence, i, i2, i3);
                return;
            case 7:
                beforeTextChanged$7(this, charSequence, i, i2, i3);
                return;
            case 8:
                beforeTextChanged$8(this, charSequence, i, i2, i3);
                return;
            case 9:
                o.LJIIIZ(charSequence, "s");
                return;
            default:
                return;
        }
    }

    @Override // android.text.TextWatcher
    public final void onTextChanged(CharSequence charSequence, int i, int i2, int i3) {
        switch (this.$t) {
            case 0:
                onTextChanged$0(this, charSequence, i, i2, i3);
                return;
            case 1:
                onTextChanged$1(this, charSequence, i, i2, i3);
                return;
            case 2:
                onTextChanged$2(this, charSequence, i, i2, i3);
                return;
            case 3:
                onTextChanged$3(this, charSequence, i, i2, i3);
                return;
            case 4:
                onTextChanged$4(this, charSequence, i, i2, i3);
                return;
            case 5:
                onTextChanged$5(this, charSequence, i, i2, i3);
                return;
            case 6:
                onTextChanged$6(this, charSequence, i, i2, i3);
                return;
            case 7:
                onTextChanged$7(this, charSequence, i, i2, i3);
                return;
            case 8:
                onTextChanged$8(this, charSequence, i, i2, i3);
                return;
            case 9:
                onTextChanged$9(this, charSequence, i, i2, i3);
                return;
            default:
                return;
        }
    }

    public IDObjectS174S0100000_1(Object obj, int i) {
        this.$t = i;
        this.l0 = obj;
    }

    public static final void afterTextChanged$0(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
        String keyword;
        if (editable != null) {
            keyword = editable.toString();
        } else {
            keyword = null;
        }
        if (keyword == null || keyword.length() == 0) {
            ShareDialogViewModel shareDialogViewModel = ((C4NJ) iDObjectS174S0100000_1.l0).LJLJJI;
            if (shareDialogViewModel != null) {
                shareDialogViewModel.LJLLLL.setValue(0);
            }
            ShareDialogViewModel shareDialogViewModel2 = ((C4NJ) iDObjectS174S0100000_1.l0).LJLJJI;
            if (shareDialogViewModel2 != null) {
                shareDialogViewModel2.LJLILLLLZI.refresh();
                return;
            }
            return;
        }
        ShareDialogViewModel shareDialogViewModel3 = ((C4NJ) iDObjectS174S0100000_1.l0).LJLJJI;
        if (shareDialogViewModel3 != null) {
            shareDialogViewModel3.LJLLLL.setValue(1);
        }
        ShareDialogViewModel shareDialogViewModel4 = ((C4NJ) iDObjectS174S0100000_1.l0).LJLJJI;
        if (shareDialogViewModel4 == null) {
            return;
        }
        o.LJIIIZ(keyword, "keyword");
        shareDialogViewModel4.LJLILLLLZI.LLIIIL(keyword);
    }

    public static final void afterTextChanged$1(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
        String str;
        ChatRoomInputVM A3 = ((IMInputEditTextAssem) iDObjectS174S0100000_1.l0).A3();
        if (editable != null) {
            str = editable.toString();
        } else {
            str = null;
        }
        A3.getClass();
        A3.setState(new AqS26S1000000_1(str, 6));
    }

    public static final void afterTextChanged$4(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
        IMSearchVM iMSearchVM = (IMSearchVM) ((IMSearchAssem) iDObjectS174S0100000_1.l0).LJLIL.getValue();
        String charSequence = s.LJZI(String.valueOf(editable)).toString();
        InterfaceC86363aC<C785736n> interfaceC86363aC = iMSearchVM.LJLIL;
        if (interfaceC86363aC != null) {
            C3QE.LIZ.getClass();
            interfaceC86363aC.LIZ(C3QE.LIZLLL(charSequence), charSequence);
        }
    }

    public static final void afterTextChanged$5(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
        boolean z;
        if (editable == null || editable.length() == 0) {
            z = true;
        } else {
            z = false;
        }
        if (!z) {
            C17N.LJJLIIIJJI(((C96283qC) iDObjectS174S0100000_1.l0)._$_findCachedViewById(R.id.bee));
        } else {
            C17N.LJJIIJZLJL(((C96283qC) iDObjectS174S0100000_1.l0)._$_findCachedViewById(R.id.bee));
        }
    }

    public static final void afterTextChanged$6(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
        String str;
        if (editable != null) {
            str = editable.toString();
        } else {
            str = null;
        }
        if (!o.LJ(str, ((QnaAskQuestionFragment) iDObjectS174S0100000_1.l0).xl().getQuestion())) {
            ((QnaAskQuestionFragment) iDObjectS174S0100000_1.l0).LJLJL = true;
        }
        if (editable != null) {
            QnaAskQuestionFragment qnaAskQuestionFragment = (QnaAskQuestionFragment) iDObjectS174S0100000_1.l0;
            String replace = new OJD("(?m)\t*\r?\n").replace(editable, "");
            int lineCount = ((TextView) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).getLineCount();
            int i = 0;
            if (lineCount > 10) {
                int selectionStart = ((TextView) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).getSelectionStart();
                if (selectionStart == ((TextView) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).getSelectionEnd() && selectionStart < replace.length() && selectionStart >= 1) {
                    StringBuilder LIZ = X1D.LIZ();
                    String substring = replace.substring(0, selectionStart - 1);
                    o.LJIIIIZZ(substring, "this as java.lang.String…ing(startIndex, endIndex)");
                    LIZ.append(substring);
                    String substring2 = replace.substring(selectionStart);
                    o.LJIIIIZZ(substring2, "this as java.lang.String).substring(startIndex)");
                    LIZ.append(substring2);
                    replace = X1D.LIZIZ(LIZ);
                } else if (lineCount > 11) {
                    replace = replace.substring(0, ((TextView) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).getLayout().getLineStart(10));
                    o.LJIIIIZZ(replace, "this as java.lang.String…ing(startIndex, endIndex)");
                } else {
                    replace = C58314Muc.LIZIZ(replace, 1, 0, "this as java.lang.String…ing(startIndex, endIndex)");
                }
                ((TextView) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).setText(replace);
                EditText editText = (EditText) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v);
                Editable text = ((C19K) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).getText();
                if (text != null) {
                    i = text.length();
                }
                editText.setSelection(i);
            } else if (!o.LJ(replace, editable.toString())) {
                ((TextView) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).setText(replace);
                EditText editText2 = (EditText) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v);
                Editable text2 = ((C19K) qnaAskQuestionFragment._$_findCachedViewById(R.id.a8v)).getText();
                if (text2 != null) {
                    i = text2.length();
                }
                editText2.setSelection(i);
            }
            qnaAskQuestionFragment.vl(replace);
        }
    }

    public static final void afterTextChanged$8(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable editable) {
        InterfaceC215138cP interfaceC215138cP;
        if (editable != null && (interfaceC215138cP = (InterfaceC215138cP) ((C68322mC) iDObjectS174S0100000_1.l0).element) != null) {
            interfaceC215138cP.onNext(editable.toString());
        }
    }

    public static final void afterTextChanged$9(IDObjectS174S0100000_1 iDObjectS174S0100000_1, Editable s) {
        o.LJIIIZ(s, "s");
        String obj = s.toString();
        RelationSelectFragment relationSelectFragment = ((ViewOnTouchListenerC93253lJ) iDObjectS174S0100000_1.l0).LJZ;
        if (relationSelectFragment != null) {
            relationSelectFragment.LLIIIL(obj);
        }
    }

    public static final void onTextChanged$0(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence s, int i, int i2, int i3) {
        o.LJIIIZ(s, "s");
        if (!TextUtils.isEmpty(s) && ((C4NJ) iDObjectS174S0100000_1.l0).LJLJI.getVisibility() == 8) {
            ((C4NJ) iDObjectS174S0100000_1.l0).LJLJI.setVisibility(0);
        } else {
            if (!TextUtils.isEmpty(s) || ((C4NJ) iDObjectS174S0100000_1.l0).LJLJI.getVisibility() != 0) {
                return;
            }
            ((C4NJ) iDObjectS174S0100000_1.l0).LJLJI.setVisibility(8);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r3v1, types: [X.OQg] */
    /* JADX WARN: Type inference failed for: r3v2, types: [java.lang.Iterable] */
    /* JADX WARN: Type inference failed for: r3v35, types: [java.util.ArrayList] */
    public static final void onTextChanged$2(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
        ?? r3;
        int intValue;
        int LJIIJJI;
        C62846OlW c62846OlW;
        UrlModel urlModel;
        UrlModel urlModel2;
        ((SuggestedEmojiAssem) iDObjectS174S0100000_1.l0).v3();
        if (charSequence != null && charSequence.length() > 0) {
            SuggestedEmojiViewModel C3 = ((SuggestedEmojiAssem) iDObjectS174S0100000_1.l0).C3();
            String searchQuery = charSequence.toString();
            C3.getClass();
            o.LJIIIZ(searchQuery, "searchQuery");
            C3.LJLJJLL.getClass();
            List<Emoji> LJ = C4FF.LJ(searchQuery);
            if (LJ == null) {
                LJ = C61878OQg.INSTANCE;
            }
            ArrayList arrayList = new ArrayList(C32I.LJJL(LJ, 10));
            for (Emoji emoji : LJ) {
                C105454Bx c105454Bx = new C105454Bx();
                c105454Bx.LIZIZ = C1GE.LJ(emoji);
                c105454Bx.LIZJ = emoji;
                arrayList.add(c105454Bx);
            }
            if (C71922s0.LIZ().enable) {
                C3.LJLJJL.getClass();
                List<SetSticker> LIZ = C71582rS.LIZ(searchQuery);
                r3 = new ArrayList(C32I.LJJL(LIZ, 10));
                for (SetSticker setSticker : LIZ) {
                    C105454Bx c105454Bx2 = new C105454Bx();
                    c105454Bx2.LJ = setSticker;
                    r3.add(c105454Bx2);
                }
            } else {
                r3 = C61878OQg.INSTANCE;
            }
            ArrayList arrayList2 = (ArrayList) ORZ.LLIIIZ(r3, arrayList);
            if (!arrayList2.isEmpty()) {
                final SuggestedEmojiAssem suggestedEmojiAssem = (SuggestedEmojiAssem) iDObjectS174S0100000_1.l0;
                XKQ xkq = suggestedEmojiAssem.LJLLILLLL;
                if (xkq != null) {
                    xkq.LIZIZ(null);
                }
                suggestedEmojiAssem.LJLLILLLL = null;
                int size = arrayList2.size();
                if (size != 1) {
                    if (size != 2) {
                        intValue = ((Number) suggestedEmojiAssem.LJLJJL.getValue()).intValue();
                    } else {
                        intValue = ((Number) suggestedEmojiAssem.LJLJJI.getValue()).intValue();
                    }
                } else {
                    intValue = ((Number) suggestedEmojiAssem.LJLJI.getValue()).intValue();
                }
                if (C90193gN.LIZ()) {
                    LJIIJJI = ((Number) suggestedEmojiAssem.LJLJL.getValue()).intValue();
                } else {
                    LJIIJJI = (KL2.LJIIJJI(suggestedEmojiAssem.getContext()) - intValue) - ((Number) suggestedEmojiAssem.LJLJL.getValue()).intValue();
                }
                View LLLZIIL = C16880lQ.LLLZIIL(R.layout.b75, C16880lQ.LLZIL(suggestedEmojiAssem.getContext()), null);
                o.LJII(LLLZIIL, "null cannot be cast to non-null type android.view.ViewGroup");
                ViewGroup viewGroup = (ViewGroup) LLLZIIL.findViewById(R.id.cuf);
                WindowManager.LayoutParams layoutParams = new WindowManager.LayoutParams();
                layoutParams.height = ((Number) suggestedEmojiAssem.LJLJLLL.getValue()).intValue();
                layoutParams.width = intValue;
                LLLZIIL.setLayoutParams(layoutParams);
                Iterator it = arrayList2.iterator();
                while (it.hasNext()) {
                    C105454Bx c105454Bx3 = (C105454Bx) it.next();
                    C62846OlW c62846OlW2 = new C62846OlW(suggestedEmojiAssem.getContext());
                    c62846OlW2.setScaleType(ImageView.ScaleType.FIT_XY);
                    ViewGroup.MarginLayoutParams marginLayoutParams = new ViewGroup.MarginLayoutParams(suggestedEmojiAssem.x3(), suggestedEmojiAssem.x3());
                    marginLayoutParams.rightMargin = ((Number) suggestedEmojiAssem.LJLJL.getValue()).intValue();
                    c62846OlW2.setLayoutParams(marginLayoutParams);
                    Emoji emoji2 = c105454Bx3.LIZJ;
                    if (emoji2 != null) {
                        StringBuilder LIZ2 = X1D.LIZ();
                        LIZ2.append("file://");
                        LIZ2.append(C73340SqO.LJJIIJ(emoji2));
                        String LIZIZ = X1D.LIZIZ(LIZ2);
                        UrlModel urlModel3 = new UrlModel();
                        urlModel3.setUrlList(C47261Igj.LJJIJ(LIZIZ));
                        urlModel3.setUri(LIZIZ);
                        c62846OlW = c62846OlW2;
                        suggestedEmojiAssem.LJLL.LIZ(c62846OlW2, urlModel3, "", suggestedEmojiAssem.x3(), suggestedEmojiAssem.x3(), null, null);
                        C16880lQ.LJJJJJL(c62846OlW2, new ACListenerS27S0300000_1(suggestedEmojiAssem, c105454Bx3, emoji2, 1));
                    } else {
                        c62846OlW = c62846OlW2;
                    }
                    SetSticker setSticker2 = c105454Bx3.LJ;
                    if (setSticker2 != null) {
                        Integer stickerType = setSticker2.getStickerType();
                        int type = EnumC73222u6.ANIMATED.getType();
                        if (stickerType == null || stickerType.intValue() != type) {
                            int type2 = EnumC73222u6.STATIC.getType();
                            if (stickerType != null && stickerType.intValue() == type2) {
                                C100683xI c100683xI = suggestedEmojiAssem.LJLL;
                                StickerUrlStruct staticUrl = setSticker2.getStaticUrl();
                                if (staticUrl != null) {
                                    urlModel2 = staticUrl.getMidResolutionUrl();
                                } else {
                                    urlModel2 = null;
                                }
                                c100683xI.LIZ(c62846OlW, urlModel2, "sticker_search_view_sticker", suggestedEmojiAssem.x3(), suggestedEmojiAssem.x3(), Integer.valueOf(R.drawable.bjo), Integer.valueOf(R.drawable.bjo));
                            }
                        } else {
                            StickerUrlStruct animateUrl = setSticker2.getAnimateUrl();
                            if (animateUrl == null || (urlModel = animateUrl.getMidResolutionUrl()) == null) {
                                StickerUrlStruct staticUrl2 = setSticker2.getStaticUrl();
                                if (staticUrl2 != null) {
                                    urlModel = staticUrl2.getMidResolutionUrl();
                                } else {
                                    urlModel = null;
                                }
                            }
                            suggestedEmojiAssem.LJLL.LIZ(c62846OlW, urlModel, "sticker_search_view_sticker", suggestedEmojiAssem.x3(), suggestedEmojiAssem.x3(), Integer.valueOf(R.drawable.bjo), Integer.valueOf(R.drawable.bjo));
                        }
                        C16880lQ.LJJJJJL(c62846OlW, new ACListenerS36S0200000_1(setSticker2, suggestedEmojiAssem, 6));
                    }
                    viewGroup.addView(c62846OlW);
                }
                if (suggestedEmojiAssem.LJLLI == null) {
                    suggestedEmojiAssem.LJLLI = new C4BI();
                }
                C4BI c4bi = suggestedEmojiAssem.LJLLI;
                if (c4bi != null) {
                    c4bi.setOnDismissListener(new PopupWindow.OnDismissListener() { // from class: X.47v
                        @Override // android.widget.PopupWindow.OnDismissListener
                        public final void onDismiss() {
                            SuggestedEmojiAssem.this.C3().LJLIL.LJIIL(C45P.LJLIL);
                        }
                    });
                    int intValue2 = ((Number) suggestedEmojiAssem.LJLJLLL.getValue()).intValue();
                    c4bi.LIZ = LLLZIIL;
                    c4bi.setContentView(LLLZIIL);
                    c4bi.setWidth(-2);
                    c4bi.setHeight(-2);
                    c4bi.setOutsideTouchable(true);
                    c4bi.LIZIZ = intValue2;
                    View containerView = suggestedEmojiAssem.getContainerView();
                    int i4 = -((Number) suggestedEmojiAssem.LJLJLJ.getValue()).intValue();
                    c4bi.dismiss();
                    if (containerView != null) {
                        int[] iArr = new int[2];
                        containerView.getLocationOnScreen(iArr);
                        int i5 = iArr[0] + LJIIJJI;
                        int i6 = (iArr[1] - c4bi.LIZIZ) + i4;
                        if (C4XM.LIZ()) {
                            C56308M8a.LIZ();
                        }
                        C46318IFu.LIZ.getClass();
                        if (C46318IFu.LIZ()) {
                            try {
                                C56308M8a.LIZIZ();
                                Window window = (Window) C56308M8a.LIZJ.get((WindowManager) C56308M8a.LIZIZ.get(c4bi));
                                WindowManager.LayoutParams attributes = window.getAttributes();
                                int i7 = attributes.flags;
                                boolean booleanValue = ((Boolean) C56308M8a.LIZLLL.get(window)).booleanValue();
                                C56308M8a.LIZLLL.set(window, Boolean.FALSE);
                                attributes.flags &= -16777217;
                                c4bi.showAtLocation(containerView, 0, i5, i6);
                                C56308M8a.LIZLLL.set(window, Boolean.valueOf(booleanValue));
                                attributes.flags = i7;
                            } catch (Throwable unused) {
                                c4bi.showAtLocation(containerView, 0, i5, i6);
                            }
                        } else {
                            c4bi.showAtLocation(containerView, 0, i5, i6);
                        }
                    }
                    c4bi.update(intValue, ((Number) suggestedEmojiAssem.LJLJLLL.getValue()).intValue());
                }
                suggestedEmojiAssem.LJLLILLLL = XKX.LIZLLL(LifecycleOwnerKt.getLifecycleScope(suggestedEmojiAssem), null, null, new C63152dr(suggestedEmojiAssem, null), 3);
                SuggestedEmojiViewModel C32 = suggestedEmojiAssem.C3();
                C105084Am.LIZIZ((String) C32.LJLJJI.getValue());
                C32.LJLIL.LJIIJ(C45O.LJLIL);
                C4BH c4bh = C32.LJLILLLLZI;
                if (c4bh != null) {
                    c4bh.u3();
                }
            }
        }
    }

    public static final void onTextChanged$3(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence charSequence, int i, int i2, int i3) {
        ReadStateViewModel readStateViewModel = ((ReadStateAssem) iDObjectS174S0100000_1.l0).LJLJI;
        if (readStateViewModel != null) {
            readStateViewModel.cQ(charSequence);
        }
        C87687YbD.LIZ.getClass();
        if (C87687YbD.LIZ()) {
            if (i3 != 0 || i != 0) {
                C93023kw.LIZ(((C99033ud) ((ReadStateAssem) iDObjectS174S0100000_1.l0).LJLILLLLZI.getValue()).getConversationId());
            }
        }
    }

    public static final void onTextChanged$7(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence s, int i, int i2, int i3) {
        o.LJIIIZ(s, "s");
        InterfaceC1031843e interfaceC1031843e = (InterfaceC1031843e) iDObjectS174S0100000_1.l0;
        if (interfaceC1031843e != null) {
            interfaceC1031843e.cQ(s);
        }
    }

    public static final void onTextChanged$9(IDObjectS174S0100000_1 iDObjectS174S0100000_1, CharSequence s, int i, int i2, int i3) {
        o.LJIIIZ(s, "s");
        ImageView imageView = ((ViewOnTouchListenerC93253lJ) iDObjectS174S0100000_1.l0).LJLJLJ;
        if (imageView != null) {
            if (!TextUtils.isEmpty(s) && imageView.getVisibility() == 8) {
                imageView.setVisibility(0);
            } else {
                if (!TextUtils.isEmpty(s) || imageView.getVisibility() != 0) {
                    return;
                }
                imageView.setVisibility(8);
            }
        }
    }
}
