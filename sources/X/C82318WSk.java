package X;

import Y.AObjectS89S0100000_14;
import Y.ARunnableS50S0100000_14;
import com.bytedance.scene.ktx.SceneExtensionsKt;
import com.ss.android.ugc.aweme.music.model.MusicBeanUtilKt;
import com.ss.android.ugc.aweme.shortvideo.ShortVideoContext;
import com.ss.android.ugc.effectmanager.effect.model.Effect;
import com.zhiliaoapp.musically.R;
import kotlin.jvm.internal.o;

/* renamed from: X.WSk */
/* loaded from: classes15.dex */
public final class C82318WSk extends AbstractC29891Fh<I3K> implements I3K, InterfaceC135635Tz {
    public static final /* synthetic */ InterfaceC74236TBo<Object>[] LLI;
    public final WMH LJLIL;
    public final C82622Wbi LJLILLLLZI;
    public final InterfaceC115514g7 LJLJI;
    public final InterfaceC115514g7 LJLJJI;
    public final InterfaceC115514g7 LJLJJL;
    public final InterfaceC115514g7 LJLJJLL;
    public final InterfaceC115514g7 LJLJL;
    public final InterfaceC115514g7 LJLJLJ;
    public final InterfaceC115514g7 LJLJLLL;
    public final InterfaceC115514g7 LJLL;
    public final InterfaceC115514g7 LJLLI;
    public final InterfaceC115514g7 LJLLILLLL;
    public final InterfaceC115514g7 LJLLJ;
    public final InterfaceC115514g7 LJLLL;
    public final C82318WSk LJLLLL;
    public final C40871j1<Integer> LJLLLLLL;
    public final C40871j1<String> LJLZ;
    public final C29901Fi<WS0> LJZ;
    public final C40871j1<C76800UCe> LJZI;
    public final C29901Fi<WS0> LJZL;
    public final C29901Fi<C35511Dwh> LL;
    public boolean LLD;
    public String LLF;
    public I34 LLFF;
    public C81431Vxb LLFFF;
    public boolean LLFII;
    public final C46611sH<Integer> LLFZ;

    @Override // X.I3K
    public void Mc0(boolean z) {
    }

    @Override // X.I3K
    public void SA(boolean z) {
    }

    @Override // X.I3K
    public void hd(String tag, boolean z) {
        o.LJIIIZ(tag, "tag");
    }

    @Override // X.I3K
    public void nd(Effect effect) {
    }

    static {
        TBT tbt = new TBT(C82318WSk.class, "planCUIApiComponent", "getPlanCUIApiComponent()Lcom/ss/android/ugc/aweme/shortvideo/component/PlanCUIApiComponent;", 0);
        C65351Pkp c65351Pkp = C65352Pkq.LIZ;
        c65351Pkp.getClass();
        LLI = new InterfaceC74236TBo[]{tbt, C61845OOz.LIZJ(C82318WSk.class, "recordControlApi", "getRecordControlApi()Lcom/bytedance/creativex/recorder/camera/api/RecordControlApi;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "bottomTabApiComponent", "getBottomTabApiComponent()Lcom/ss/android/ugc/gamora/recorder/bottom/BottomTabApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "shortVideoContext", "getShortVideoContext()Lcom/ss/android/ugc/aweme/shortvideo/ShortVideoContext;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "controlProgressApiComponent", "getControlProgressApiComponent()Lcom/ss/android/ugc/gamora/recorder/progress/ControlProgressApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "speedApiComponent", "getSpeedApiComponent()Lcom/ss/android/ugc/gamora/recorder/speed/SpeedApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "recordBottomTabComponent", "getRecordBottomTabComponent()Lcom/ss/android/ugc/gamora/recorder/bottom/BottomTabApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "chooseMusicApiComponent", "getChooseMusicApiComponent()Lcom/ss/android/ugc/gamora/recorder/choosemusic/ChooseMusicApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "commentStickerComponent", "getCommentStickerComponent()Lcom/ss/android/ugc/aweme/comment_sticker/CommentStickerComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "cameraApiComponent", "getCameraApiComponent()Lcom/bytedance/creativex/recorder/camera/api/CameraApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "gestureApiComponent", "getGestureApiComponent()Lcom/bytedance/creativex/recorder/gesture/api/GestureApiComponent;", 0, c65351Pkp), C61845OOz.LIZJ(C82318WSk.class, "recordAdapterApi", "getRecordAdapterApi()Lcom/ss/android/ugc/aweme/shortvideo/adapter/RecordAdapterApi;", 0, c65351Pkp)};
    }

    private final I27 LJJLIIIIJ() {
        return (I27) this.LJLL.LIZ(this, LLI[7]);
    }

    private final InterfaceC82322WSo LJJLIIIJILLIZJL() {
        return (InterfaceC82322WSo) this.LJLLI.LIZ(this, LLI[8]);
    }

    private final InterfaceC45995I3j LJJLIIIJJI() {
        return (InterfaceC45995I3j) this.LJLJL.LIZ(this, LLI[4]);
    }

    private final WXA LJJLIIIJJIZ() {
        return new C82320WSm(this);
    }

    private final InterfaceC45979I2t LJJLIIIJLLLLLLLZ() {
        return (InterfaceC45979I2t) this.LJLJLLL.LIZ(this, LLI[6]);
    }

    private final WIF LJJLIIJ() {
        return (WIF) this.LJLJLJ.LIZ(this, LLI[5]);
    }

    private final InterfaceC45979I2t getBottomTabApiComponent() {
        return (InterfaceC45979I2t) this.LJLJJL.LIZ(this, LLI[2]);
    }

    private final InterfaceC45999I3n getPlanCUIApiComponent() {
        return (InterfaceC45999I3n) this.LJLJI.LIZ(this, LLI[0]);
    }

    private final WLB getRecordAdapterApi() {
        return (WLB) this.LJLLL.LIZ(this, LLI[11]);
    }

    private final I3X getRecordControlApi() {
        return (I3X) this.LJLJJI.LIZ(this, LLI[1]);
    }

    @Override // X.I3K
    public boolean Fb() {
        Integer LIZ;
        if (!this.LLD || (LIZ = this.LJLLLLLL.LIZ()) == null || LIZ.intValue() != 0) {
            return false;
        }
        return true;
    }

    @Override // X.I3K
    public String a9() {
        C81431Vxb c81431Vxb = this.LLFFF;
        if (c81431Vxb != null) {
            ViewOnTouchListenerC81419VxP viewOnTouchListenerC81419VxP = c81431Vxb.LJLJLLL;
            if (viewOnTouchListenerC81419VxP != null) {
                return viewOnTouchListenerC81419VxP.LJ(viewOnTouchListenerC81419VxP.getCurrentIndex()).toString();
            }
            o.LJIJI("tabHost");
            throw null;
        }
        o.LJIJI("splitShootScene");
        throw null;
    }

    @Override // X.I3K
    public void g80() {
        if (this.LLD && C52912Kpg.LIZ() && !getCameraApiComponent().e8().LLZLLLL() && !getShortVideoContext().cameraComponentModel.isRetakeMode) {
            LJJZZI(false, C81440Vxk.LIZIZ(getShortVideoContext().LJ()));
            VV(0);
        }
    }

    @Override // X.I3K
    public int getBottomMargin() {
        C81431Vxb c81431Vxb = this.LLFFF;
        if (c81431Vxb != null) {
            return c81431Vxb.LJZI;
        }
        o.LJIJI("splitShootScene");
        throw null;
    }

    public final InterfaceC82086WJm getCameraApiComponent() {
        return (InterfaceC82086WJm) this.LJLLILLLL.LIZ(this, LLI[9]);
    }

    public final InterfaceC82353WTt getGestureApiComponent() {
        return (InterfaceC82353WTt) this.LJLLJ.LIZ(this, LLI[10]);
    }

    public final ShortVideoContext getShortVideoContext() {
        return (ShortVideoContext) this.LJLJJLL.LIZ(this, LLI[3]);
    }

    private final boolean LJLJJL() {
        if (C43465H4b.LIZ() != 0 && !getShortVideoContext().LJJJI() && !getShortVideoContext().LJJIIZ()) {
            return true;
        }
        return false;
    }

    @Override // X.AbstractC29891Fh
    public void onCreate() {
        super.onCreate();
        getRecordAdapterApi().NM(this);
        this.LLF = C60903NvH.LJIIJJI().LJJIII().getDefaultShootTabTag(getShortVideoContext());
        C81431Vxb c81431Vxb = new C81431Vxb(getDiContainer(), fv0(), this.LJLLLLLL, getPlanCUIApiComponent().RH(), this.LJZI, this.LL, this.LLF, LJLJJL(), this.LLFZ);
        this.LLFFF = c81431Vxb;
        this.LJLIL.add(R.id.iri, c81431Vxb, "SplitShootScene");
        C81431Vxb c81431Vxb2 = this.LLFFF;
        if (c81431Vxb2 != null) {
            SceneExtensionsKt.LIZIZ(c81431Vxb2, new ARunnableS50S0100000_14(this, 105));
            getRecordControlApi().Gg0().LIZLLL(this, new AObjectS89S0100000_14(this, 178));
            fv0().LIZLLL(this, new AObjectS89S0100000_14(this, 179));
            getRecordControlApi().Rr0().LIZLLL(this, new AObjectS89S0100000_14(this, 180));
            getRecordControlApi().Vh().LIZLLL(this, new AObjectS89S0100000_14(this, 181));
            return;
        }
        o.LJIJI("splitShootScene");
        throw null;
    }

    @Override // X.AbstractC29891Fh
    public void onDestroy() {
        super.onDestroy();
        getRecordAdapterApi().NM(null);
    }

    @Override // X.I3K
    public /* bridge */ /* synthetic */ C0IB Ig0() {
        return this.LJLLLLLL;
    }

    @Override // X.I3K
    public C29901Fi<WS0> fv0() {
        return this.LJZL;
    }

    @Override // X.AbstractC29891Fh
    public /* bridge */ /* synthetic */ I3K getApiComponent() {
        return this.LJLLLL;
    }

    @Override // X.InterfaceC135635Tz
    public C82622Wbi getDiContainer() {
        return this.LJLILLLLZI;
    }

    @Override // X.I3K
    public /* bridge */ /* synthetic */ C0IB pe0() {
        return this.LJLZ;
    }

    @Override // X.I3K
    public void Ad0(I34 extraInfo) {
        int i;
        o.LJIIIZ(extraInfo, "extraInfo");
        this.LLFF = extraInfo;
        String str = this.LLF;
        WS0 ws0 = extraInfo.LIZJ;
        if (ws0 != null) {
            i = ws0.LIZJ;
        } else {
            i = 0;
        }
        LJJLJLI(null, str, true, i, extraInfo.LIZ);
        this.LJZI.LJI(C76800UCe.LIZ);
    }

    public final void LJLIIL(boolean z) {
        if (!this.LLD) {
            return;
        }
        if (!z || getShortVideoContext().LJIIIIZZ() > 0) {
            if (C52912Kpg.LIZ() && !getCameraApiComponent().e8().LLZLLLL() && !getShortVideoContext().cameraComponentModel.isRetakeMode) {
                LJJZZI(false, C81440Vxk.LIZIZ(getShortVideoContext().LJ()));
                VV(0);
                return;
            } else {
                VV(8);
                return;
            }
        }
        if (getShortVideoContext().cameraComponentModel.isRetakeMode) {
            return;
        }
        if (C52912Kpg.LIZ()) {
            LJJZZIII(this, true, null, 2, null);
        }
        VV(0);
    }

    @Override // X.I3K
    public void P1(int i) {
        this.LLFZ.LJI(Integer.valueOf(i));
    }

    @Override // X.I3K
    public void VV(int i) {
        this.LJLLLLLL.LJI(Integer.valueOf(i));
    }

    @Override // X.I3K
    public void gd0(boolean z) {
        int i;
        this.LLD = z;
        if (z) {
            i = 0;
        } else {
            i = 8;
        }
        VV(i);
    }

    @Override // X.I3K
    public void setTabSwitchEnabled(boolean z) {
        C81431Vxb c81431Vxb = this.LLFFF;
        if (c81431Vxb != null) {
            ViewOnTouchListenerC81419VxP viewOnTouchListenerC81419VxP = c81431Vxb.LJLJLLL;
            if (viewOnTouchListenerC81419VxP != null) {
                viewOnTouchListenerC81419VxP.setUISwitchEnabled(z);
                viewOnTouchListenerC81419VxP.setScrollEnabled(z);
                return;
            } else {
                o.LJIJI("tabHost");
                throw null;
            }
        }
        o.LJIJI("splitShootScene");
        throw null;
    }

    @Override // X.I3K
    public void va(boolean z) {
        this.LLD = z;
    }

    public C82318WSk(WMH parentScene, C82622Wbi diContainer) {
        o.LJIIIZ(parentScene, "parentScene");
        o.LJIIIZ(diContainer, "diContainer");
        this.LJLIL = parentScene;
        this.LJLILLLLZI = diContainer;
        this.LJLJI = UCI.LJI(getDiContainer(), InterfaceC45999I3n.class, null);
        this.LJLJJI = UCI.LJI(getDiContainer(), I3X.class, null);
        this.LJLJJL = UCI.LJI(getDiContainer(), InterfaceC45979I2t.class, null);
        this.LJLJJLL = UCI.LJI(getDiContainer(), ShortVideoContext.class, null);
        this.LJLJL = UCI.LJI(getDiContainer(), InterfaceC45995I3j.class, null);
        this.LJLJLJ = UCI.LJI(getDiContainer(), WIF.class, null);
        this.LJLJLLL = UCI.LJI(getDiContainer(), InterfaceC45979I2t.class, null);
        this.LJLL = UCI.LJI(getDiContainer(), I27.class, null);
        this.LJLLI = UCI.LJII(getDiContainer(), InterfaceC82322WSo.class, null);
        this.LJLLILLLL = UCI.LJI(getDiContainer(), InterfaceC82086WJm.class, null);
        this.LJLLJ = UCI.LJI(getDiContainer(), InterfaceC82353WTt.class, null);
        this.LJLLL = UCI.LJI(getDiContainer(), WLB.class, null);
        this.LJLLLL = this;
        this.LJLLLLLL = new C40871j1<>(8);
        this.LJLZ = new C40871j1<>(null);
        C29901Fi<WS0> c29901Fi = new C29901Fi<>();
        this.LJZ = c29901Fi;
        this.LJZI = new C40871j1<>(C76800UCe.LIZ);
        this.LJZL = c29901Fi;
        this.LL = new C29901Fi<>();
        this.LLD = true;
        this.LLF = C44269HYz.LIZ;
        this.LLFZ = new C46611sH<>(0);
    }

    @Override // X.I3K
    public void Ju(boolean z, boolean z2) {
        if (this.LLD) {
            if (!z || getShortVideoContext().cameraComponentModel.isRetakeMode) {
                VV(8);
                return;
            }
            if (getShortVideoContext().LJIIIIZZ() > 0) {
                if (C52912Kpg.LIZ() && !getCameraApiComponent().e8().LLZLLLL() && !getShortVideoContext().cameraComponentModel.isRetakeMode) {
                    if (z2) {
                        return;
                    }
                    VV(0);
                    return;
                }
                VV(8);
                return;
            }
            if (C52912Kpg.LIZ()) {
                LJJZZIII(this, true, null, 2, null);
            }
            VV(0);
        }
    }

    public final void LJJZZI(boolean z, java.util.Set<String> set) {
        this.LL.LJII(new C35511Dwh(z, set));
    }

    @Override // X.I3K
    public void rG(boolean z, int i) {
        C81431Vxb c81431Vxb = this.LLFFF;
        if (c81431Vxb != null) {
            ViewOnTouchListenerC81419VxP viewOnTouchListenerC81419VxP = c81431Vxb.LJLJLLL;
            if (viewOnTouchListenerC81419VxP != null) {
                viewOnTouchListenerC81419VxP.LJII(viewOnTouchListenerC81419VxP.getLastIndex(), i, z);
                return;
            } else {
                o.LJIJI("tabHost");
                throw null;
            }
        }
        o.LJIJI("splitShootScene");
        throw null;
    }

    private final void LJJLI(String str, ShortVideoContext shortVideoContext, boolean z) {
        if ((!C44269HYz.LIZJ(str) && !o.LJ(C44269HYz.LIZ, str)) || shortVideoContext.LJJJI()) {
            return;
        }
        C45964I2e c45964I2e = new C45964I2e(!C44269HYz.LIZJ(str), true);
        c45964I2e.LJLJI = o.LJ(str, C44269HYz.LIZJ);
        c45964I2e.LJLJJL = z;
        c45964I2e.LJLJJI = 2;
        getBottomTabApiComponent().configSwitchDuration(c45964I2e);
    }

    private final void LJJLJ(boolean z, int i, String str, boolean z2) {
        String str2;
        String str3;
        String str4;
        if (o.LJ(this.LLF, C44269HYz.LIZ)) {
            str2 = "video_15";
        } else if (HB4.LIZJ() == 14) {
            str2 = "video_180";
        } else if (HB4.LIZJ() == 18) {
            str2 = "video_600";
        } else {
            str2 = "video_60";
        }
        String str5 = "";
        if (i != 1) {
            if (i != 2) {
                if (i != 3) {
                    if (i != 4) {
                        str3 = "";
                    } else {
                        str3 = "cross";
                    }
                } else {
                    str3 = "full_slide";
                }
            } else {
                str3 = "tab_bar_slide";
            }
        } else {
            str3 = "tab_bar_click";
        }
        if (z) {
            str4 = "outer";
        } else {
            str4 = "inner";
        }
        String LIZ = C81440Vxk.LIZ(str);
        if (!this.LLFII) {
            if (!z2) {
                return;
            }
            this.LLFII = true;
            LIZ = "by_default";
            str3 = "";
        } else {
            str5 = str4;
        }
        C145995oB c145995oB = new C145995oB();
        c145995oB.LJI("creation_id", getShortVideoContext().LJI());
        c145995oB.LJI("shoot_way", getShortVideoContext().shootWay);
        c145995oB.LIZ(getShortVideoContext().draftId, "draft_id");
        c145995oB.LJI("to_status", str2);
        c145995oB.LJI("change_type", str5);
        c145995oB.LJI("change_method", str3);
        c145995oB.LJI("from_status", LIZ);
        if (C52912Kpg.LIZ() && getShortVideoContext().LJIIIIZZ() > 0) {
            c145995oB.LJI("enter_from", "video_recording_page");
        } else {
            c145995oB.LJI("enter_from", "video_shoot_page");
        }
        FMX.LJIIL("change_record_mode", c145995oB.LIZ);
    }

    private final void LJJLL(C45850Hz4 c45850Hz4, String str, ShortVideoContext shortVideoContext, boolean z) {
        if ((C44269HYz.LIZJ(str) || o.LJ(C44269HYz.LIZ, str)) && shortVideoContext.LJJIJIL()) {
            if (shortVideoContext.LJJJIL()) {
                shortVideoContext.cameraComponentModel.mMusicStart = HEG.LIZIZ(shortVideoContext.stitchContext.stitchParams);
            } else if (!z) {
                shortVideoContext.cameraComponentModel.mMusicStart = 0;
            }
            I9T.LJII(shortVideoContext.cameraComponentModel.mMusicStart, "", shortVideoContext.creativeModel.musicBuzModel);
            HB4.LJII(shortVideoContext.cameraComponentModel.mWorkspace.getMusicPath(), MusicBeanUtilKt.extractAVMusic(shortVideoContext.creativeModel.musicBuzModel), shortVideoContext.cameraComponentModel.mMusicStart);
            c45850Hz4.LIZJ().LLZZJLIL(r1.mMusicStart, shortVideoContext.cameraComponentModel.mTotalRecordingTime, shortVideoContext.cameraComponentModel.mWorkspace.getMusicPath(), false, false);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public static /* synthetic */ void LJJZZIII(C82318WSk c82318WSk, boolean z, java.util.Set set, int i, Object obj) {
        if ((i & 2) != 0) {
            set = null;
        }
        c82318WSk.LJJZZI(z, set);
    }

    public final void LJJLJLI(String str, String str2, boolean z, int i, boolean z2) {
        InterfaceC82322WSo LJJLIIIJILLIZJL;
        this.LLF = str2;
        Object LJIIIIZZ = getDiContainer().LJIIIIZZ(null, InterfaceC45979I2t.class);
        o.LJI(LJIIIIZZ);
        C45850Hz4 provideRecordEnv = ((InterfaceC45979I2t) LJIIIIZZ).provideRecordEnv();
        InterfaceC82086WJm LIZIZ = provideRecordEnv.LIZIZ();
        I37 i37 = provideRecordEnv.LIZ;
        if (i37 != null) {
            i37.X2("record");
        }
        int LIZIZ2 = C44269HYz.LIZIZ(str2);
        provideRecordEnv.LIZLLL().shootMode = LIZIZ2;
        getPlanCUIApiComponent().Qt0(true);
        InterfaceC45995I3j LJJLIIIJJI = LJJLIIIJJI();
        LJJLIIIJJI.LLLLII();
        boolean z3 = false;
        LJJLIIIJJI.LLLIL(3, false);
        LIZIZ.s9(0);
        LJJLIIIJJI().i7(true);
        if (LJJLIIJ().me()) {
            LJJLIIJ().h1(true);
        }
        if (C60903NvH.LJIIJJI().LJJIII().shouldDropCurrentMusicFor3min(str2, getShortVideoContext())) {
            LJJLIIIIJ().clearMusic();
            C5S1 c5s1 = new C5S1(provideRecordEnv.LIZ());
            c5s1.LIZJ(R.string.hyl);
            c5s1.LJ();
        }
        ShortVideoContext LIZLLL = provideRecordEnv.LIZLLL();
        if (z) {
            I34 i34 = this.LLFF;
            if (i34 != null) {
                z3 = i34.LIZ;
            } else {
                o.LJIJI("extraInfo");
                throw null;
            }
        }
        LJJLI(str2, LIZLLL, z3);
        LJJLL(provideRecordEnv, str2, provideRecordEnv.LIZLLL(), z);
        HB4.LJIIIZ(LIZIZ2);
        if (provideRecordEnv.LIZLLL().cameraComponentModel.mDurings.isEmpty() && (LJJLIIIJILLIZJL = LJJLIIIJILLIZJL()) != null) {
            LJJLIIIJILLIZJL.show(true);
        }
        LJJLJ(z, i, str, z2);
        LJJLIIIJLLLLLLLZ().notifyBottomTabIndexChange(new WS0(str, str2, i, false, false, false, null, 112));
    }
}
