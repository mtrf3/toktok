package com.ss.android.ugc.aweme.detail.panel;

import X.AG9;
import X.AV1;
import X.AbstractC51036K1g;
import X.AbstractC55082Lja;
import X.ActivityC45651qj;
import X.AnonymousClass752;
import X.AnonymousClass803;
import X.AnonymousClass804;
import X.AnonymousClass839;
import X.AnonymousClass901;
import X.C005300j;
import X.C00F;
import X.C012403c;
import X.C018905p;
import X.C107794Kx;
import X.C119244m8;
import X.C16880lQ;
import X.C16970lZ;
import X.C174036sJ;
import X.C174046sK;
import X.C1798774d;
import X.C1799074g;
import X.C17N;
import X.C188727au;
import X.C193097hx;
import X.C198517qh;
import X.C19N;
import X.C1A7;
import X.C1DH;
import X.C201667vm;
import X.C2068389v;
import X.C213918aR;
import X.C220488l2;
import X.C220858ld;
import X.C222578oP;
import X.C223728qG;
import X.C227768wm;
import X.C2304092m;
import X.C232659Bd;
import X.C235399Lr;
import X.C251659uD;
import X.C26045AKb;
import X.C278517l;
import X.C2IE;
import X.C2IJ;
import X.C2KM;
import X.C2LB;
import X.C2MA;
import X.C2NU;
import X.C2P1;
import X.C2S6;
import X.C2U8;
import X.C2US;
import X.C32151Nz;
import X.C33931DTj;
import X.C34511DgZ;
import X.C34X;
import X.C35810E3q;
import X.C36922EeM;
import X.C38306F1q;
import X.C38333F2r;
import X.C38354F3m;
import X.C38816FLg;
import X.C38995FSd;
import X.C3DO;
import X.C42625Go9;
import X.C44224HXg;
import X.C44384HbQ;
import X.C44498HdG;
import X.C46276IEe;
import X.C46728IVo;
import X.C47261Igj;
import X.C49133JQb;
import X.C4LD;
import X.C50258Jny;
import X.C50259Jnz;
import X.C50420Jqa;
import X.C51045K1p;
import X.C51612KNk;
import X.C52446KiA;
import X.C52535Kjb;
import X.C52591KkV;
import X.C52654KlW;
import X.C52681Klx;
import X.C52820KoC;
import X.C53578L1a;
import X.C54502LaE;
import X.C54838Lfe;
import X.C54990Li6;
import X.C55045Liz;
import X.C55047Lj1;
import X.C55096Ljo;
import X.C55274Lmg;
import X.C55280Lmm;
import X.C55308LnE;
import X.C55312LnI;
import X.C55313LnJ;
import X.C55315LnL;
import X.C55318LnO;
import X.C55319LnP;
import X.C55322LnS;
import X.C55323LnT;
import X.C55326LnW;
import X.C55329LnZ;
import X.C55330Lna;
import X.C55331Lnb;
import X.C55333Lnd;
import X.C55335Lnf;
import X.C55346Lnq;
import X.C55366LoA;
import X.C55369LoD;
import X.C55393Lob;
import X.C55537Lqv;
import X.C55773Luj;
import X.C55786Luw;
import X.C55888Lwa;
import X.C55953Lxd;
import X.C56692Kj;
import X.C57022Lq;
import X.C57092Lx;
import X.C58222Qg;
import X.C59219NLz;
import X.C59542Vi;
import X.C59572Vl;
import X.C5S1;
import X.C60191Njn;
import X.C61447O9r;
import X.C62685Oiv;
import X.C62905OmT;
import X.C62906OmU;
import X.C63081OpJ;
import X.C67012k5;
import X.C67542kw;
import X.C72083SQt;
import X.C72560Sdo;
import X.C72Y;
import X.C73411SrX;
import X.C73969T1h;
import X.C75J;
import X.C76800UCe;
import X.C77123UOp;
import X.C779334b;
import X.C78540Us4;
import X.C78996UzQ;
import X.C79004UzY;
import X.C79043V0l;
import X.C79045V0n;
import X.C7HP;
import X.C7HV;
import X.C7KA;
import X.C7MY;
import X.C80153Cp;
import X.C80796VnM;
import X.C80X;
import X.C81238VuU;
import X.C86550Xxy;
import X.C86951YAp;
import X.C88545Yp3;
import X.C8P3;
import X.C8RO;
import X.C8SG;
import X.C8TC;
import X.C90193gN;
import X.C95C;
import X.EF7;
import X.EnumC1804076e;
import X.EnumC57171McB;
import X.EnumC84576XHg;
import X.FMX;
import X.FN7;
import X.FUA;
import X.GHC;
import X.HG3;
import X.IDP;
import X.IH1;
import X.IOE;
import X.IOF;
import X.IW7;
import X.InterfaceC178126yu;
import X.InterfaceC178496zV;
import X.InterfaceC1798974f;
import X.InterfaceC183977Jx;
import X.InterfaceC192527h2;
import X.InterfaceC223218pR;
import X.InterfaceC224118qt;
import X.InterfaceC224378rJ;
import X.InterfaceC2302191t;
import X.InterfaceC36571c5;
import X.InterfaceC51032K1c;
import X.InterfaceC51617KNp;
import X.InterfaceC51679KPz;
import X.InterfaceC54326LTu;
import X.InterfaceC55112Lk4;
import X.InterfaceC55235Lm3;
import X.InterfaceC55286Lms;
import X.InterfaceC55292Lmy;
import X.InterfaceC55317LnN;
import X.InterfaceC55336Lng;
import X.InterfaceC55337Lnh;
import X.InterfaceC55338Lni;
import X.InterfaceC55341Lnl;
import X.InterfaceC57302Ms;
import X.InterfaceC57312Mt;
import X.InterfaceC58812Sn;
import X.InterfaceC72642tA;
import X.InterfaceC81205Vtx;
import X.InterfaceC81207Vtz;
import X.InterfaceC82683Wch;
import X.InterfaceC88473Ynt;
import X.J8V;
import X.JA2;
import X.K02;
import X.KQB;
import X.KQC;
import X.KUR;
import X.KUY;
import X.LDB;
import X.LEJ;
import X.LKF;
import X.LNH;
import X.LSP;
import X.LU1;
import X.LWM;
import X.M89;
import X.OSZ;
import X.Q7L;
import X.QD3;
import X.RBX;
import X.RunnableC51614KNm;
import X.RunnableC51615KNn;
import X.RunnableC51616KNo;
import X.RunnableC55316LnM;
import X.RunnableC55324LnU;
import X.RunnableC55325LnV;
import X.SY4;
import X.T16;
import X.V0N;
import X.ViewTreeObserverOnDrawListenerC55314LnK;
import X.X1D;
import X.Z89;
import X.Z9N;
import Y.ACListenerS29S0100000_9;
import Y.ACListenerS32S0101000_15;
import Y.AObjectS25S0000000_9;
import Y.AObjectS52S0101000_7;
import Y.AObjectS54S0101000_9;
import Y.ARunnableS10S0101000_6;
import Y.ARunnableS11S0201000_8;
import Y.ARunnableS12S0101000_8;
import Y.ARunnableS12S0201000_9;
import Y.ARunnableS13S0101000_9;
import Y.ARunnableS14S0101000_10;
import Y.ARunnableS15S0110000_9;
import Y.ARunnableS17S0101000_13;
import Y.ARunnableS39S0100000_3;
import Y.ARunnableS45S0100000_9;
import Y.ARunnableS5S0101000_1;
import Y.ARunnableS6S0101000_2;
import Y.ARunnableS6S0310000_9;
import Y.ARunnableS8S0201000_5;
import Y.ARunnableS8S1200000_9;
import Y.ARunnableS9S0101000_5;
import Y.AfS23S0110000_3;
import Y.AfS33S0101000_1;
import Y.IDAListenerS70S0100000_1;
import Y.IDRunnableS6S0101000;
import Y.IDiS271S0100000_9;
import android.animation.ValueAnimator;
import android.app.Activity;
import android.content.ComponentCallbacks2;
import android.content.Context;
import android.content.Intent;
import android.database.DataSetObserver;
import android.os.Bundle;
import android.os.Handler;
import android.text.TextUtils;
import android.util.ArrayMap;
import android.util.Log;
import android.view.KeyEvent;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewStub;
import android.view.ViewTreeObserver;
import android.widget.FrameLayout;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.TextView;
import androidx.constraintlayout.widget.ConstraintLayout;
import androidx.fragment.app.Fragment;
import com.bytedance.android.livesdk.livesetting.linkmic.LivesdkLinkmicFloatWindowOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.performance.LiveGiftNewGifterBadgeSetting;
import com.bytedance.mt.protector.impl.JSONObjectProtectorUtils;
import com.bytedance.mt.protector.impl.collections.ListProtector;
import com.bytedance.router.SmartRoute;
import com.bytedance.router.SmartRouter;
import com.bytedance.vcloud.abrmodule.ABRConfig;
import com.ss.android.ugc.aweme.ad.comment.pitaya.CommentEmotionCheck;
import com.ss.android.ugc.aweme.ad.comment.pitaya.PitayaServiceManager;
import com.ss.android.ugc.aweme.awemeservice.AwemeService;
import com.ss.android.ugc.aweme.base.share.ShareInfo;
import com.ss.android.ugc.aweme.casting.api.ICastingAbility;
import com.ss.android.ugc.aweme.comment.commentpage.ui.CommentListPageFragment;
import com.ss.android.ugc.aweme.comment.service.CommentServiceImpl;
import com.ss.android.ugc.aweme.comment.services.CommentService;
import com.ss.android.ugc.aweme.commercialize.tcm.service.TcmServiceImpl;
import com.ss.android.ugc.aweme.detail.ability.DetailLegacyAbility;
import com.ss.android.ugc.aweme.detail.component.bottom.DetailBottomAbility;
import com.ss.android.ugc.aweme.detail.component.bottom.DetailBottomLegacyAbility;
import com.ss.android.ugc.aweme.detail.panel.DetailFragmentPanel;
import com.ss.android.ugc.aweme.detail.platform.DetailPageComponent;
import com.ss.android.ugc.aweme.detail.ui.DetailFragment;
import com.ss.android.ugc.aweme.detail.vm.BaseDetailShareVM;
import com.ss.android.ugc.aweme.experiment.AnalyticsSDUISetting;
import com.ss.android.ugc.aweme.favorites.business.aweme.AwemeCollectionAgent;
import com.ss.android.ugc.aweme.feed.adapter.VideoViewCell;
import com.ss.android.ugc.aweme.feed.helper.RecFeedShareComponentController;
import com.ss.android.ugc.aweme.feed.model.Aweme;
import com.ss.android.ugc.aweme.feed.model.AwemeStatistics;
import com.ss.android.ugc.aweme.feed.model.BaseFeedPageParams;
import com.ss.android.ugc.aweme.feed.model.InsightsEligibilityStatus;
import com.ss.android.ugc.aweme.feed.model.StreamUrlModel;
import com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel;
import com.ss.android.ugc.aweme.feed.ui.seekbar.VideoSeekBarMaskView;
import com.ss.android.ugc.aweme.follow.presenter.FollowFeed;
import com.ss.android.ugc.aweme.follow.presenter.RoomStruct;
import com.ss.android.ugc.aweme.im.sdk.common.controller.providedservices.IMService;
import com.ss.android.ugc.aweme.profile.model.FollowStatus;
import com.ss.android.ugc.aweme.search.common.communicate.SearchServiceImpl;
import com.ss.android.ugc.aweme.search.detail.shoot.core.IDetailBottomMusicShootAbility;
import com.ss.android.ugc.aweme.services.BusinessComponentServiceUtils;
import com.ss.android.ugc.aweme.share.ShareDependService;
import com.ss.android.ugc.aweme.util.CountDownTimer;
import com.ss.android.ugc.feed.platform.panel.adaption.ScreenAdaptionComponentTemp;
import com.ss.android.ugc.feed.platform.panel.autoscroll.FypAutoScrollServiceImpl;
import com.ss.android.ugc.feed.platform.panel.loadmorepanel.ILoadMoreAbility;
import com.ss.android.ugc.feed.platform.panel.pagestate.IPageStateAbility;
import com.ss.android.ugc.feed.platform.panel.playbutton.PlayButtonComponentTemp;
import com.ss.android.ugc.feed.platform.panel.refreshpanel.IRefreshAbility;
import com.zhiliaoapp.musically.R;
import defpackage.b0;
import java.lang.ref.WeakReference;
import java.math.BigDecimal;
import java.math.RoundingMode;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Set;
import java.util.concurrent.atomic.AtomicBoolean;
import kotlin.jvm.internal.o;
import org.greenrobot.eventbus.EventBus;
import org.greenrobot.eventbus.ThreadMode;
import org.json.JSONException;
import org.json.JSONObject;

/* loaded from: classes10.dex */
public class DetailFragmentPanel extends BaseListFragmentPanel implements InterfaceC224378rJ, InterfaceC223218pR<Aweme>, DetailBottomLegacyAbility, DetailLegacyAbility, InterfaceC51032K1c, InterfaceC178496zV, LU1, InterfaceC178126yu, InterfaceC81205Vtx, InterfaceC81207Vtz {
    public static final Set<String> LLJJJ;
    public final C8RO LJLIL;
    public boolean LJLILLLLZI;
    public boolean LJLJI;
    public String LJLJJI;
    public SY4 LJLJJL;
    public InterfaceC82683Wch LJLJJLL;
    public final Handler LJLJL;
    public View LJLJLJ;
    public IDiS271S0100000_9 LJLJLLL;
    public InterfaceC51679KPz LJLL;
    public boolean LJLLI;
    public boolean LJLLILLLL;
    public boolean LJLLJ;
    public boolean LJLLL;
    public boolean LJLLLL;
    public boolean LJLLLLLL;
    public C55326LnW LJLZ;
    public ValueAnimator LJZ;
    public C779334b LJZI;
    public C55333Lnd LJZL;
    public InterfaceC54326LTu LL;
    public final AtomicBoolean LLD;
    public Boolean LLF;
    public Set<String> LLFF;
    public C73411SrX LLFFF;
    public View LLFII;
    public View LLFZ;
    public View LLI;
    public VideoSeekBarMaskView LLIFFJFJJ;
    public InterfaceC55317LnN LLII;
    public View LLIIII;
    public View LLIIIILZ;
    public InterfaceC51617KNp LLIIIJ;
    public C55366LoA LLIIIL;
    public boolean LLIIIZ;
    public InterfaceC58812Sn LLIIJI;
    public InterfaceC55292Lmy LLIIJLIL;
    public InterfaceC55112Lk4 LLIIL;
    public boolean LLIILII;
    public C55280Lmm LLIILZL;
    public final HashSet<String> LLIIZ;
    public final HashSet<String> LLIL;
    public RecFeedShareComponentController LLILII;
    public C55537Lqv LLILIL;
    public C55537Lqv LLILL;
    public C55537Lqv LLILLIZIL;
    public C55537Lqv LLILLJJLI;
    public ARunnableS6S0101000_2 LLILLL;
    public LSP LLILZ;
    public C213918aR LLILZIL;
    public final InterfaceC88473Ynt<String, Object, EnumC84576XHg, C76800UCe> LLILZLL;
    public final AtomicBoolean LLIZ;
    public int LLIZLLLIL;
    public boolean LLJ;
    public final Runnable LLJI;
    public boolean LLJIJIL;
    public boolean LLJILJIL;
    public boolean LLJILJILJ;
    public C55313LnJ LLJILLL;
    public boolean LLJJ;
    public boolean LLJJI;
    public int LLJJIII;
    public boolean LLJJIJI;
    public DetailPageComponent LLJJIJIIJIL;
    public CountDownTimer LLJJIJIL;

    @Override // X.InterfaceC81205Vtx
    public final void G6() {
    }

    @Override // X.InterfaceC178126yu
    public void LIZ() {
        this.LJLLILLLL = true;
        FypAutoScrollServiceImpl.LJIIZILJ().LJIIIIZZ(true);
    }

    @Override // X.InterfaceC178126yu
    public void LIZIZ() {
        this.LJLLILLLL = false;
        FypAutoScrollServiceImpl.LJIIZILJ().LJIIIIZZ(false);
    }

    public void LJJLIIIJ() {
    }

    @Override // X.InterfaceC81207Vtz
    public final void Rh() {
        showCommentFragment(getCurrentPlayAweme(), (String) null, true, "", true);
    }

    @Override // X.InterfaceC224378rJ
    public /* synthetic */ void VC() {
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void disposeCommentDialogParams(C2IE c2ie, Aweme aweme) {
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void hideTopAndBottomBarWhenMask() {
        LJLLLLLL(false);
        Aweme LJJLJ = LJJLJ();
        ArrayMap arrayMap = new ArrayMap(4);
        arrayMap.put("enter_from", this.param.getEventType());
        if (!TextUtils.isEmpty(this.param.getTrendingEventId()) || this.param.getEventType().equals("trending_inflow_page")) {
            arrayMap.put("isTrending", "ture");
        }
        String tabName = this.param.getTabName();
        if (!TextUtils.isEmpty(tabName)) {
            arrayMap.put("tab_name", tabName);
        }
        arrayMap.put("search_session_id", String.valueOf(this.param.getSessionId()));
        String enterFromSub = this.param.getEnterFromSub();
        if (!TextUtils.isEmpty(enterFromSub)) {
            arrayMap.put("enter_from_sub", enterFromSub);
        }
        String preClickImprId = this.param.getPreClickImprId();
        if (!TextUtils.isEmpty(preClickImprId)) {
            arrayMap.put("preClickImprId", preClickImprId);
        }
        if (LJJLJ != null && !TextUtils.isEmpty(LJJLJ.getAid())) {
            Z9N.LIZIZ.LJLJLLL(getFragment(), LJJLJ, arrayMap);
        }
        DetailBottomAbility LJL = LJL();
        if (LJL != null) {
            LJL.n1();
        }
        IDetailBottomMusicShootAbility LJLI = LJLI();
        if (LJLI != null) {
            LJLI.n1();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final boolean isDetail() {
        return true;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public final void onDetach() {
        this.LJLLLL = true;
        super.onDetach();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public final void onPause() {
        super.onPause();
        IDP idp = this.mPlayerController;
        if (idp != null) {
            C62685Oiv c62685Oiv = C62685Oiv.LIZIZ;
            if (c62685Oiv.LJII(idp.LJLJJI)) {
                c62685Oiv.LIZJ();
            }
        }
        tryToHideStayHomeGuide(this.activity, getCurrentAweme(), 0L, 0L);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void onPlayCompletedToShowSwipeUpGuide() {
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.InterfaceC57288Me4
    public final void onResponseSuccess(FollowStatus followStatus) {
    }

    @Override // X.KQA
    public final void px() {
        LJJLIIIJLLLLLLLZ(null);
    }

    public void q1() {
        Activity activity = this.activity;
        if (activity == null || activity.isFinishing() || getFragment() == null || this.mMixDetailCleanMode.booleanValue()) {
            return;
        }
        M89 param = this.param;
        o.LJIIIZ(param, "param");
        int i = 3;
        if (o.LJ(param.getFrom(), "from_chat_favorite_video_panel")) {
            ViewGroup viewGroup = (ViewGroup) getFragment().getView();
            if (viewGroup instanceof FrameLayout) {
                ConstraintLayout constraintLayout = new ConstraintLayout(getContext());
                constraintLayout.setLayoutParams(new FrameLayout.LayoutParams(-1, -2, 80));
                int dimensionPixelSize = getContext().getResources().getDimensionPixelSize(R.dimen.nm);
                constraintLayout.setPadding(dimensionPixelSize, getContext().getResources().getDimensionPixelSize(R.dimen.nn), dimensionPixelSize, 0);
                constraintLayout.setBackgroundColor(-16777216);
                viewGroup.addView(constraintLayout, viewGroup.getChildCount());
                SY4 sy4 = new SY4(getContext());
                C018905p c018905p = new C018905p(-1, -2);
                c018905p.topToTop = 0;
                sy4.setLayoutParams(c018905p);
                sy4.setButtonSize(3);
                sy4.setButtonVariant(0);
                sy4.setText(R.string.qie);
                sy4.setTextColor(-1);
                constraintLayout.addView(sy4);
                C16880lQ.LJJIZ(sy4, new ACListenerS32S0101000_15(2, this, 13));
                this.LJLJJL = sy4;
            }
        } else {
            CommentService.LIZ.getClass();
            CommentService LJJL = CommentServiceImpl.LJJL();
            View view = this.LLI;
            if (view == null) {
                view = getFragment().getView();
            }
            this.LLII = LJJL.LIZLLL(view, getChildFragmentManager(), getEnterFrom(true), this, this, getSplitTag());
            LJLLLL();
        }
        ViewGroup viewGroup2 = (ViewGroup) this.LLI;
        if (viewGroup2 != null && viewGroup2.findViewById(R.id.fj0) != null) {
            this.LLIIII = viewGroup2.findViewById(R.id.fj0);
        } else if (viewGroup2 instanceof FrameLayout) {
            if (C72Y.LIZ()) {
                if (this.LLILL == null) {
                    C55537Lqv c55537Lqv = new C55537Lqv(new WeakReference(getContext()), "detail_feed_insights_bottom", new ARunnableS8S0201000_5(2, this, viewGroup2, 19));
                    this.LLILL = c55537Lqv;
                    c55537Lqv.LIZLLL();
                }
            } else {
                LJJL(viewGroup2);
            }
        } else if (viewGroup2 instanceof RelativeLayout) {
            if (C72Y.LIZ()) {
                if (this.LLILL == null) {
                    C55537Lqv c55537Lqv2 = new C55537Lqv(new WeakReference(getContext()), "detail_feed_insights_bottom", new ARunnableS8S0201000_5(2, this, viewGroup2, 8));
                    this.LLILL = c55537Lqv2;
                    c55537Lqv2.LIZLLL();
                }
            } else {
                LJJLI(viewGroup2);
            }
        }
        if (this.LLIIIILZ != null) {
            return;
        }
        if (this.LLIIIJ == null) {
            this.LLIIIJ = TcmServiceImpl.LJIJI().LJFF(getContext(), viewGroup2);
        }
        if (C72Y.LIZ()) {
            if (this.LLILIL != null) {
                return;
            }
            C55537Lqv c55537Lqv3 = new C55537Lqv(new WeakReference(getContext()), "detail_feed_bc_insights_bottom", new RunnableC51615KNn(i, this));
            this.LLILIL = c55537Lqv3;
            c55537Lqv3.LIZLLL();
            return;
        }
        this.LLIIIILZ = this.LLIIIJ.LIZIZ();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void swipe(int i) {
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryInsertForceVideoSurveyAweme(int i) {
    }

    @Override // X.InterfaceC81207Vtz
    public final boolean uh() {
        return true;
    }

    static {
        HashSet hashSet = new HashSet();
        LLJJJ = hashSet;
        C012403c.LJFF(hashSet, "from_search", "from_search_mix", "from_ttmall_homepage", "from_ecom_search");
    }

    public DetailFragmentPanel() {
        super("");
        this.LJLIL = new C8RO("DetailFragmentPanel");
        this.LJLILLLLZI = false;
        this.LJLJJL = null;
        this.LJLJJLL = null;
        this.LJLJL = new Handler(C16880lQ.LLJJJJ());
        this.LJLJLJ = null;
        this.LJLLI = false;
        this.LJLLILLLL = false;
        this.LJLLJ = false;
        this.LJLLL = false;
        this.LJLLLL = false;
        this.LJLLLLLL = true;
        this.LLD = new AtomicBoolean(false);
        this.LLF = null;
        this.LLFFF = null;
        this.LLIILII = true;
        this.LLIIZ = new HashSet<>();
        this.LLIL = new HashSet<>();
        this.LLILIL = null;
        this.LLILL = null;
        this.LLILLIZIL = null;
        this.LLILZIL = null;
        this.LLILZLL = new InterfaceC88473Ynt() { // from class: X.Lne
            @Override // X.InterfaceC88473Ynt
            public final Object invoke(Object obj, Object obj2, Object obj3) {
                DetailFragmentPanel.LJJJJL(DetailFragmentPanel.this, (EnumC84576XHg) obj3);
                return null;
            }
        };
        this.LLIZ = new AtomicBoolean(false);
        this.LLIZLLLIL = 0;
        this.LLJ = false;
        this.LLJI = new ARunnableS17S0101000_13(3, this, 13);
        this.LLJIJIL = true;
        this.LLJILJILJ = false;
        this.LLJILLL = null;
        this.LLJJ = false;
        this.LLJJI = false;
        this.LLJJIJI = false;
    }

    private void LJLJL() {
        C8SG c8sg = C8SG.LIZIZ;
        c8sg.LJIJ(getCurIndex(), getContext(), LJJLL());
        c8sg.LJII(getCurIndex(), 2, getContext(), LJJLL());
    }

    public final void LJJLIIIJL() {
        Boolean bool = Boolean.TRUE;
        this.mMixDetailCleanMode = bool;
        M89 m89 = this.param;
        if (m89 != null) {
            m89.setPlaylistCleanMode(bool.booleanValue());
        }
    }

    public final String LJJLIL() {
        return this.param.getAid();
    }

    public final List<Aweme> LJJLL() {
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja != null && this.mViewPager != null) {
            return abstractC55082Lja.LJJIL();
        }
        return null;
    }

    public final DetailBottomAbility LJL() {
        InterfaceC55235Lm3 interfaceC55235Lm3 = this.vScope;
        if (interfaceC55235Lm3 == null) {
            return null;
        }
        return (DetailBottomAbility) C55096Ljo.LIZ(interfaceC55235Lm3, DetailBottomAbility.class, null);
    }

    public final IDetailBottomMusicShootAbility LJLI() {
        InterfaceC55235Lm3 interfaceC55235Lm3;
        if (!Z9N.LIZIZ.LLILZ().LJ(getEventType()) || (interfaceC55235Lm3 = this.vScope) == null) {
            return null;
        }
        return (IDetailBottomMusicShootAbility) C55096Ljo.LIZ(interfaceC55235Lm3, IDetailBottomMusicShootAbility.class, null);
    }

    public final String LJLIIL() {
        String cid = this.param.getCid();
        if (TextUtils.isEmpty(cid) && !C7HP.LIZIZ()) {
            return this.param.getUpvoteId();
        }
        return cid;
    }

    public Map<String, String> LJLJLLL() {
        return new HashMap();
    }

    public void LJLL() {
        if (this.mAdapter.getCount() == 0) {
            LJJLIIIJLLLLLLLZ(null);
        } else if (((Number) C52820KoC.LIZ.getValue()).intValue() == 0) {
            this.mViewPager.post(new IDRunnableS6S0101000(5, this, 13));
        } else {
            this.mViewPager.post(new IDRunnableS6S0101000(2, this, 3));
        }
    }

    public final void LJLLLL() {
        Aweme item;
        boolean z;
        boolean z2;
        boolean z3;
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja == null || (item = abstractC55082Lja.getItem(this.mCurIndex)) == null) {
            return;
        }
        int i = 0;
        if (item.getAwemeType() == 101) {
            z = true;
        } else {
            z = false;
        }
        if (item.getAwemeType() == 4000) {
            z2 = true;
        } else {
            z2 = false;
        }
        boolean isSubAweme = item.getIsSubAweme();
        if (z || z2 || isSubAweme) {
            z3 = true;
        } else {
            z3 = false;
            if (C220858ld.LJIIIIZZ(item)) {
                return;
            }
        }
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        float f = 1.0f;
        if (interfaceC55317LnN != null) {
            if (z3) {
                interfaceC55317LnN.ae(z3);
                this.LLII.ml(0.0f);
            } else {
                C73411SrX c73411SrX = this.LLFFF;
                if (c73411SrX != null) {
                    c73411SrX.dispose();
                    this.LLFFF = null;
                }
                this.LLII.ae(true);
                this.LLII.ml(0.0f);
                this.LLFFF = (C73411SrX) C8TC.LIZIZ.LIZJ(getCurrentPlayAweme()).LJJL(T16.LIZ()).LJJJ(C73969T1h.LIZIZ()).LJJJJZI(new AfS23S0110000_3(this, z3, 1));
            }
        }
        C55280Lmm c55280Lmm = this.LLIILZL;
        if (c55280Lmm != null) {
            if (z) {
                f = 0.0f;
            }
            c55280Lmm.LIZ(f);
        }
        if (Z9N.LIZIZ.LLL(getEventType())) {
            ValueAnimator valueAnimator = this.LJZ;
            if (valueAnimator != null && valueAnimator.isRunning()) {
                this.LJZ.cancel();
            }
            ScreenAdaptionComponentTemp screenAdaptionComponentTemp = this.mScreenAdaptionComponentTemp;
            if (screenAdaptionComponentTemp != null) {
                int[] iArr = new int[2];
                iArr[0] = screenAdaptionComponentTemp.ZK();
                if (!z) {
                    i = C61447O9r.LJIILJJIL;
                }
                iArr[1] = i;
                this.LJZ = ValueAnimator.ofInt(iArr);
            }
            this.LJZ.addListener(new IDAListenerS70S0100000_1(this, 1));
            this.LJZ.setInterpolator(C55953Lxd.LIZLLL());
            this.LJZ.setDuration(200L);
            this.LJZ.addUpdateListener(new C005300j(2, this));
            this.LJZ.start();
        }
    }

    public final void LLIIJI() {
        AbstractC55082Lja abstractC55082Lja;
        Aweme item;
        C80796VnM c80796VnM = this.mViewPager;
        if (c80796VnM != null && (abstractC55082Lja = this.mAdapter) != null && (item = abstractC55082Lja.getItem(c80796VnM.getCurrentItem())) != null && item.getUserDigg() == 1) {
            if (!this.param.isMyProfile() || !C227768wm.LJJIIJZLJL(item)) {
                tryToShowStayHomeGuide(this.activity, item);
            }
        }
    }

    @Override // X.LU1
    public final void LLJJL() {
        onInternalEvent(new C50420Jqa(37));
    }

    @Override // X.LU1
    public final void LLJZIJLIL() {
        onInternalEvent(new C50420Jqa(28));
    }

    @Override // X.InterfaceC223218pR
    public void Ne() {
        IPageStateAbility iPageStateAbility;
        C36922EeM.LIZLLL(4, "DetailFragmentPanel", "showLoadEmpty mDetailInputFragment.enterCleanMode()");
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.I4();
        }
        if (Objects.equals(getEventType(), "general_search") && (iPageStateAbility = this.pageStateAbility) != null) {
            iPageStateAbility.Zs();
        }
    }

    public final int Zg() {
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja != null && this.mCurrentPosition == abstractC55082Lja.getCount() - 1) {
            return 1;
        }
        return 0;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final int getItemCountWithConsumer() {
        List<Aweme> list;
        C55313LnJ c55313LnJ = this.LLJILLL;
        if (c55313LnJ != null && (list = c55313LnJ.LIZ) != null && list.size() > 0) {
            return this.LLJILLL.LIZ.size();
        }
        return super.getItemCountWithConsumer();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final String getTabName() {
        return this.param.getTabName();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final String getTracker() {
        return this.param.getTracker();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final ViewGroup getViewRoot() {
        return (ViewGroup) this.LLFII;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, com.ss.android.ugc.aweme.feed.assem.ability.IPanelUIAbility
    public final boolean hasNextFeedWithoutRequest() {
        int currentItem;
        int count;
        C80796VnM c80796VnM = this.mViewPager;
        if (c80796VnM == null) {
            currentItem = 0;
        } else {
            currentItem = c80796VnM.getCurrentItem();
        }
        C55313LnJ c55313LnJ = this.LLJILLL;
        if (c55313LnJ != null) {
            count = c55313LnJ.LIZ.size();
            C55313LnJ c55313LnJ2 = this.LLJILLL;
            if (!c55313LnJ2.LJFF) {
                currentItem += c55313LnJ2.LIZJ;
            }
        } else {
            AbstractC55082Lja abstractC55082Lja = this.mAdapter;
            count = abstractC55082Lja == null ? 0 : abstractC55082Lja.getCount();
        }
        if (currentItem >= count - 1) {
            return false;
        }
        return true;
    }

    /* JADX WARN: Code restructure failed: missing block: B:62:0x0101, code lost:
    
        if (((java.util.HashSet) r10.LLFF).contains(r9) == false) goto L185;
     */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r7v0, types: [java.util.List, java.util.Collection] */
    /* JADX WARN: Type inference failed for: r7v1, types: [java.util.List, java.util.Collection] */
    /* JADX WARN: Type inference failed for: r7v4, types: [java.util.ArrayList] */
    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51687KQh
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void initPanel() {
        /*
            Method dump skipped, instructions count: 668
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.detail.panel.DetailFragmentPanel.initPanel():void");
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void mobStayTimeEvent() {
        if ("homepage_explore".equals(this.param.getEventType())) {
            return;
        }
        super.mobStayTimeEvent();
    }

    @Override // X.InterfaceC81205Vtx
    public void o() {
        LJLLI(this.LLIIII, this.LJLJLJ, 0);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void reportStayTimeEventForAvatar() {
        if (!DetailFragment.LLFF.containsKey(this.param.getEventType())) {
            super.reportStayTimeEventForAvatar();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void updatePanelWhenSplitOpen() {
        DetailBottomAbility LJL;
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null && interfaceC55317LnN.g0()) {
            this.LLII.dismissAllowingStateLoss();
            return;
        }
        InterfaceC55317LnN interfaceC55317LnN2 = this.LLII;
        if (interfaceC55317LnN2 == null || interfaceC55317LnN2.getView() == null || this.LLII.getView().getVisibility() != 8 || (LJL = LJL()) == null) {
            return;
        }
        LJL.Uk0();
    }

    @Override // X.LU1
    public final void w3() {
        IDP idp = this.mPlayerController;
        if (idp != null) {
            idp.LJLJJI();
        }
    }

    @Override // X.InterfaceC178496zV
    public final boolean De() {
        if (!LLFII(LJJLJ()) || TcmServiceImpl.LJIJI().LJIIJ(LJJLJ(), getEnterFrom(true))) {
            return true;
        }
        return false;
    }

    @Override // X.InterfaceC223218pR
    public final void Iw() {
        IRefreshAbility iRefreshAbility;
        if (!isViewValid() || this.LLIIIZ || (iRefreshAbility = this.refreshAbility) == null) {
            return;
        }
        iRefreshAbility.setRefreshing(true);
    }

    @Override // X.InterfaceC223218pR
    public void LJII() {
        if (!isViewValid()) {
            return;
        }
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.I4();
        }
        IPageStateAbility iPageStateAbility = this.pageStateAbility;
        if (iPageStateAbility != null) {
            iPageStateAbility.A90(true);
        }
    }

    public boolean LJJJLZIJ() {
        if (!isActive() || !this.LLIILII) {
            return true;
        }
        if (this.activity != null) {
            BusinessComponentServiceUtils.getBusinessBridgeService().getClass();
        }
        if (!this.LLJJIJI) {
            return false;
        }
        this.LLJJIJI = false;
        return true;
    }

    public Aweme LJJLJ() {
        Aweme aweme;
        C80796VnM c80796VnM;
        C2MA curFeedViewHolderExcludeLive = getCurFeedViewHolderExcludeLive();
        if (curFeedViewHolderExcludeLive != null) {
            aweme = curFeedViewHolderExcludeLive.getAweme();
        } else {
            AbstractC55082Lja abstractC55082Lja = this.mAdapter;
            if (abstractC55082Lja != null && (c80796VnM = this.mViewPager) != null) {
                aweme = abstractC55082Lja.getItem(c80796VnM.getCurrentItem());
            } else {
                aweme = null;
            }
        }
        Aweme currentPlayAwemeInStoryCollectionAweme = getCurrentPlayAwemeInStoryCollectionAweme(aweme);
        if (currentPlayAwemeInStoryCollectionAweme != null) {
            return currentPlayAwemeInStoryCollectionAweme;
        }
        return aweme;
    }

    public boolean LLFZ() {
        if ((!TextUtils.equals(getEventType(), "others_homepage") && !TextUtils.equals(getEventType(), "general_search")) || (((Number) C52654KlW.LIZ.getValue()).intValue() & 1) != 1) {
            return false;
        }
        return true;
    }

    public final Aweme O1() {
        C80796VnM c80796VnM;
        C2MA curFeedViewHolderExcludeLive = getCurFeedViewHolderExcludeLive();
        if (curFeedViewHolderExcludeLive != null) {
            return curFeedViewHolderExcludeLive.O1();
        }
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja != null && (c80796VnM = this.mViewPager) != null) {
            return abstractC55082Lja.LJJIZ(c80796VnM.getCurrentItem());
        }
        return null;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void checkLoadLatest() {
        InterfaceC55292Lmy interfaceC55292Lmy;
        if (isViewValid() && this.mAdapter.LJLLLL && this.mCurIndex == 2 && (interfaceC55292Lmy = this.LLIIJLIL) != null) {
            interfaceC55292Lmy.sd();
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:24:0x0053  */
    /* JADX WARN: Removed duplicated region for block: B:26:? A[RETURN, SYNTHETIC] */
    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void checkLoadMore() {
        /*
            Method dump skipped, instructions count: 269
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.detail.panel.DetailFragmentPanel.checkLoadMore():void");
    }

    @Override // com.ss.android.ugc.aweme.detail.ability.DetailLegacyAbility
    public final void dm0() {
        C55369LoD c55369LoD;
        if (C72Y.LIZ()) {
            C55537Lqv c55537Lqv = this.LLILLIZIL;
            if (c55537Lqv != null) {
                c55537Lqv.LJ(new ARunnableS6S0310000_9(this, 1));
                return;
            }
            return;
        }
        C55366LoA c55366LoA = this.LLIIIL;
        if (c55366LoA == null || (c55369LoD = c55366LoA.LJLIL) == null) {
            return;
        }
        c55369LoD.LJI(false, null, null);
    }

    @Override // X.InterfaceC178496zV
    public final Aweme getCommentInputAweme() {
        return LJJLJ();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void handleAfterDeletion() {
        super.handleAfterDeletion();
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.X5();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final boolean handleCleanModeForImage() {
        boolean handleCleanModeForImage = super.handleCleanModeForImage();
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.h(!handleCleanModeForImage);
        }
        return handleCleanModeForImage;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, com.ss.android.ugc.aweme.feed.assem.ability.IPanelUIAbility
    public final boolean hasNextFeed() {
        if (hasMore()) {
            return true;
        }
        return hasNextFeedWithoutRequest();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.InterfaceC61452O9w
    public void onAdapterFinish() {
        super.onAdapterFinish();
        this.LJLLLL = true;
        DetailBottomAbility LJL = LJL();
        if (LJL != null) {
            LJL.h2();
        }
        IDetailBottomMusicShootAbility LJLI = LJLI();
        if (LJLI != null) {
            LJLI.h2();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void onAfterNowItemRemoved() {
        super.onAfterNowItemRemoved();
        LJLL();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public void onDestroy() {
        super.onDestroy();
        EventBus.LIZJ().LJIJ(this);
        LSP lsp = this.LLILZ;
        if (lsp != null) {
            lsp.getClass();
            C42625Go9.LIZJ(lsp);
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51687KQh, X.AbstractC51688KQi, X.KRB
    public void onDestroyView() {
        C55369LoD c55369LoD;
        C80796VnM c80796VnM;
        super.onDestroyView();
        if (C52535Kjb.LIZ()) {
            if (C52535Kjb.LIZIZ()) {
                AwemeCollectionAgent.LJIILLIIL().LIZJ(this.LLILZLL);
            } else {
                AwemeCollectionAgent.LJIILLIIL().LJIIIIZZ(this.LLILZIL);
            }
        }
        if (C72Y.LIZ()) {
            C55537Lqv c55537Lqv = this.LLILLIZIL;
            if (c55537Lqv != null) {
                c55537Lqv.LJ(new ARunnableS10S0101000_6(3, this, 13));
            }
        } else {
            C55366LoA c55366LoA = this.LLIIIL;
            if (c55366LoA != null && (c55369LoD = c55366LoA.LJLIL) != null) {
                c55369LoD.onDestroy();
            }
        }
        if (((Boolean) C58222Qg.LIZJ.getValue()).booleanValue()) {
            C58222Qg.LIZLLL.set(false);
            C58222Qg.LJ.set(false);
            C58222Qg.LJFF.set(false);
        }
        try {
            if (TextUtils.equals("commerce_general", this.param.getFrom())) {
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append(getPlayerManager().LJJIJIL().hashCode());
                LIZ.append("");
                if (!C59572Vl.LIZIZ(X1D.LIZIZ(LIZ))) {
                    getPlayerManager().LJJIIZ();
                }
            }
        } catch (Throwable th) {
            C36922EeM.LJFF(th);
        }
        C80796VnM c80796VnM2 = this.mViewPager;
        if (c80796VnM2 != null) {
            c80796VnM2.removeCallbacks(this.LLJI);
        }
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.N();
        }
        ComponentCallbacks2 componentCallbacks2 = this.activity;
        if (componentCallbacks2 instanceof C34X) {
            ((C34X) componentCallbacks2).unRegisterActivityOnKeyDownListener(this.LJLZ);
            C779334b c779334b = this.LJZI;
            if (c779334b != null) {
                ((C34X) this.activity).unRegisterActivityOnKeyDownListener(c779334b);
            }
        }
        IH1.LIZJ().LIZLLL(getSimKitSceneID());
        if (C72Y.LIZ()) {
            C55537Lqv c55537Lqv2 = this.LLILIL;
            if (c55537Lqv2 != null) {
                c55537Lqv2.LIZJ();
                this.LLILIL = null;
            }
            C55537Lqv c55537Lqv3 = this.LLILL;
            if (c55537Lqv3 != null) {
                c55537Lqv3.LIZJ();
                this.LLILL = null;
            }
            C55537Lqv c55537Lqv4 = this.LLILLIZIL;
            if (c55537Lqv4 != null) {
                c55537Lqv4.LIZJ();
                this.LLILLIZIL = null;
            }
            C55537Lqv c55537Lqv5 = this.LLILLJJLI;
            if (c55537Lqv5 != null) {
                c55537Lqv5.LIZJ();
                this.LLILLJJLI = null;
            }
            ARunnableS6S0101000_2 aRunnableS6S0101000_2 = this.LLILLL;
            if (aRunnableS6S0101000_2 != null && (c80796VnM = this.mViewPager) != null) {
                c80796VnM.removeCallbacks(aRunnableS6S0101000_2);
            }
        }
        CountDownTimer countDownTimer = this.LLJJIJIL;
        if (countDownTimer != null) {
            countDownTimer.cancel();
            this.LLJJIJIL = null;
        }
        LKF splitContainer = getSplitContainer();
        if (splitContainer != null) {
            splitContainer.LJ(this);
            splitContainer.LJIIJ(this);
        }
        C78540Us4.LJIJJ(this.param, "exited");
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void onPageSelected() {
        int i;
        super.onPageSelected();
        this.mPlayerController.getClass();
        this.mViewPager.postDelayed(this.LLJI, 150L);
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.fj();
            this.LLII.d3();
        }
        if (C63081OpJ.LJJLI(getCurrentAweme())) {
            C5S1 c5s1 = new C5S1(getContext());
            c5s1.LIZJ(R.string.hdy);
            c5s1.LJ();
        }
        if (!TextUtils.isEmpty(this.param.getInboxExtra()) && getCurFeedViewHolder() != null && getCurFeedViewHolder().j3() != null) {
            AnonymousClass901 j3 = getCurFeedViewHolder().j3();
            int i2 = -1;
            try {
                i = JSONObjectProtectorUtils.getInt(new JSONObject(this.param.getInboxExtra()), "ad_event_type");
            } catch (JSONException e) {
                C16880lQ.LLLLIIL(e);
                i = -1;
            }
            try {
                i2 = JSONObjectProtectorUtils.getInt(new JSONObject(this.param.getInboxExtra()), "industry_id");
            } catch (JSONException e2) {
                C16880lQ.LLLLIIL(e2);
            }
            j3.i3(i, i2, this.param.getAceEnterFrom());
        }
        LJLLLLLL(false);
        this.LJLLILLLL = false;
        restoreStoryPlayMode();
        CommentServiceImpl.LJJL().LJJIJLIJ(getContext(), getCurrentPlayAweme(), getParam(), new AObjectS25S0000000_9(2));
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public void onResume() {
        InterfaceC54326LTu interfaceC54326LTu;
        AbstractC55082Lja abstractC55082Lja;
        boolean z;
        C2MA Y6;
        super.onResume();
        if (getUserVisibleHint() && (abstractC55082Lja = this.mAdapter) != null && abstractC55082Lja.getCount() > 0) {
            boolean LJJLIIIJLJLI = getPlayerManager().LJJLIIIJLJLI(this.mPlayerController);
            if (this.mPlayerController.LLLLLLLLLL == getPlayerManager()) {
                z = true;
            } else {
                z = false;
            }
            if (LJJLIIIJLJLI || z || (!this.LJLLLLLL && LJJLJ().isPhotoMode())) {
                if (this.LLIILII) {
                    if (LJJJLZIJ()) {
                        this.LJLIL.LJIIIIZZ("[tryResumePlayOnResume] should not resume ");
                    } else {
                        super.tryResumePlayByOnResume(true);
                        this.LJLIL.LJIIIIZZ("[tryResumePlayOnResume]");
                    }
                }
            } else {
                C2MA curViewHolder = getCurViewHolder();
                if (C72083SQt.LJLILLLLZI(curViewHolder) && C54838Lfe.LJJ(curViewHolder.getAweme()) && !C59542Vi.LIZ() && (Y6 = curViewHolder.Y6()) != null) {
                    curViewHolder = Y6;
                }
                if (C72083SQt.LJLILLLLZI(curViewHolder) && (curViewHolder.LLLJ().d4() || isUseSurfaceView())) {
                    tryPlay(curViewHolder.getCurrentAweme());
                }
            }
        }
        VideoSeekBarMaskView videoSeekBarMaskView = this.LLIFFJFJJ;
        if (videoSeekBarMaskView != null) {
            videoSeekBarMaskView.LJLLLL = C90193gN.LIZ();
            C81238VuU c81238VuU = videoSeekBarMaskView.LJLILLLLZI;
            if (c81238VuU != null) {
                c81238VuU.LJLILLLLZI.LJIILJJIL = C251659uD.LIZ();
            }
        }
        if (this.LLD.get() && (interfaceC54326LTu = this.LL) != null) {
            interfaceC54326LTu.LJLIIL();
        }
        this.LJLLLLLL = false;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void resetCleanMode() {
        super.resetCleanMode();
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.h(true);
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void resetShareButtonStatus() {
        InterfaceC57312Mt currentFeedUGView = getCurrentFeedUGView();
        if (currentFeedUGView != null && currentFeedUGView.getRootView() != null) {
            currentFeedUGView.LJJJJIZL();
            currentFeedUGView.LJJIJL(null);
        }
    }

    @Override // X.InterfaceC178496zV
    public final M89 s3() {
        return getParam();
    }

    @Override // X.InterfaceC223218pR
    public final void showLoadMoreLoading() {
        ILoadMoreAbility iLoadMoreAbility;
        if (isViewValid() && !this.LLIIIZ && (iLoadMoreAbility = this.loadMoreAbility) != null) {
            iLoadMoreAbility.vR();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final boolean showShareStayHomeGuide() {
        InterfaceC57312Mt currentFeedUGView;
        if (!isMockPopup() && (currentFeedUGView = getCurrentFeedUGView()) != null && currentFeedUGView.getRootView() != null) {
            Aweme currentAweme = getCurrentAweme();
            if (C00F.LIZ(31744, 0, "stay_home_share_guide", true) == 1 && C80X.LJI(currentAweme)) {
                currentFeedUGView.LJJJJJL();
                mobShareStayHome(currentAweme);
                return true;
            }
            if (C00F.LIZ(31744, 0, "stay_home_share_guide", true) == 2 && C80X.LJIIIZ(currentAweme)) {
                this.LJLJJLL = C80X.LJIIJ(this.activity, currentFeedUGView.getRootView().findViewById(R.id.jtg), new AfS33S0101000_1(1, this, 0));
                C80X.LJII = new LDB(2, this);
                C80X.LJFF = Long.valueOf(System.currentTimeMillis());
                C80X.LJ = 5000L;
                C80X.LJI.postDelayed(C80X.LJIIIIZZ, 5000L);
                mobShareStayHome(currentAweme);
                return true;
            }
        }
        return false;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryResumePlay() {
        if (LJJJLZIJ()) {
            this.LJLIL.LJIIIIZZ("[tryResumePlay] should not resume ");
        } else {
            super.tryResumePlay();
            this.LJLIL.LJIIIIZZ("[tryResumePlay]");
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public boolean hasMore() {
        return this.LJLLI;
    }

    /* JADX WARN: Illegal instructions before constructor call */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public DetailFragmentPanel(X.M89 r7) {
        /*
            r6 = this;
            java.lang.String r0 = r7.getEventType()
            boolean r0 = android.text.TextUtils.isEmpty(r0)
            if (r0 != 0) goto L8a
            java.lang.String r0 = r7.getEventType()
        Le:
            r6.<init>(r0)
            X.8RO r1 = new X.8RO
            java.lang.String r0 = "DetailFragmentPanel"
            r1.<init>(r0)
            r6.LJLIL = r1
            r5 = 0
            r6.LJLILLLLZI = r5
            r4 = 0
            r6.LJLJJL = r4
            r6.LJLJJLL = r4
            android.os.Handler r1 = new android.os.Handler
            android.os.Looper r0 = X.C16880lQ.LLJJJJ()
            r1.<init>(r0)
            r6.LJLJL = r1
            r6.LJLJLJ = r4
            r6.LJLLI = r5
            r6.LJLLILLLL = r5
            r6.LJLLJ = r5
            r6.LJLLL = r5
            r6.LJLLLL = r5
            r3 = 1
            r6.LJLLLLLL = r3
            java.util.concurrent.atomic.AtomicBoolean r0 = new java.util.concurrent.atomic.AtomicBoolean
            r0.<init>(r5)
            r6.LLD = r0
            r6.LLF = r4
            r6.LLFFF = r4
            r6.LLIILII = r3
            java.util.HashSet r0 = new java.util.HashSet
            r0.<init>()
            r6.LLIIZ = r0
            java.util.HashSet r0 = new java.util.HashSet
            r0.<init>()
            r6.LLIL = r0
            r6.LLILIL = r4
            r6.LLILL = r4
            r6.LLILLIZIL = r4
            r6.LLILZIL = r4
            X.Lne r0 = new X.Lne
            r0.<init>()
            r6.LLILZLL = r0
            java.util.concurrent.atomic.AtomicBoolean r0 = new java.util.concurrent.atomic.AtomicBoolean
            r0.<init>(r5)
            r6.LLIZ = r0
            r6.LLIZLLLIL = r5
            r6.LLJ = r5
            Y.ARunnableS15S0101000_11 r2 = new Y.ARunnableS15S0101000_11
            r1 = 3
            r0 = 4
            r2.<init>(r1, r6, r0)
            r6.LLJI = r2
            r6.LLJIJIL = r3
            r6.LLJILJILJ = r5
            r6.LLJILLL = r4
            r6.LLJJ = r5
            r6.LLJJI = r5
            r6.LLJJIJI = r5
            r6.setParam(r7)
            return
        L8a:
            java.lang.String r0 = ""
            goto Le
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.detail.panel.DetailFragmentPanel.<init>(X.M89):void");
    }

    public static void LJJJJIZL(DetailFragmentPanel detailFragmentPanel) {
        boolean LJIIIIZZ;
        if (!detailFragmentPanel.isViewValid()) {
            return;
        }
        try {
            DetailBottomAbility LJL = detailFragmentPanel.LJL();
            if (LJL == null) {
                return;
            }
            LJL.Uk0();
        } finally {
            if (!LJIIIIZZ) {
            }
        }
    }

    public static /* synthetic */ void LJJJJJL(DetailFragmentPanel detailFragmentPanel) {
        if (detailFragmentPanel.LLII != null && detailFragmentPanel.param.isAdHasReportReason()) {
            detailFragmentPanel.LLII.w0(detailFragmentPanel.param.getAdReportReason(), detailFragmentPanel.param.getAdReportReasonType());
        }
    }

    public static List LJJLIIIJLJLI(List list) {
        ArrayList arrayList = new ArrayList();
        if (list != null && !list.isEmpty()) {
            Iterator it = list.iterator();
            while (it.hasNext()) {
                arrayList.add(it.next());
            }
        }
        return arrayList;
    }

    public static List LJJLIIJ(List list) {
        if (LEJ.LIZ().fullscreenShowLive()) {
            ArrayList arrayList = new ArrayList();
            if (list != null) {
                Iterator it = list.iterator();
                while (it.hasNext()) {
                    Aweme aweme = (Aweme) it.next();
                    if (aweme.isLive()) {
                        StreamUrlModel streamUrlModel = aweme.getStreamUrlModel();
                        if (aweme.getRoom() != null && streamUrlModel != null && !TextUtils.isEmpty(streamUrlModel.id)) {
                            C56692Kj.LIZ().LIZJ.put(streamUrlModel.id, RoomStruct.fromAweme(aweme));
                        }
                    }
                    arrayList.add(aweme);
                }
            }
            return arrayList;
        }
        return list;
    }

    public static String LJLIIIL(long j) {
        if (j >= 1000 && j < 10000) {
            BigDecimal divide = new BigDecimal(j).divide(new BigDecimal(1000), 1, RoundingMode.HALF_UP);
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append(divide.toString());
            LIZ.append("K");
            return X1D.LIZIZ(LIZ);
        }
        return C77123UOp.LJJIIJ(j);
    }

    private void bindView(View view) {
        this.LLIFFJFJJ = (VideoSeekBarMaskView) view.findViewById(R.id.jkg);
        View findViewById = view.findViewById(R.id.j7n);
        this.LLFII = findViewById;
        this.LLFZ = findViewById.findViewById(R.id.jkl);
        this.LLI = this.LLFII.findViewById(R.id.aoo);
        ViewGroup viewGroup = (ViewGroup) this.LLFII.findViewById(R.id.ekb);
        Activity activity = this.activity;
        if (this.LLI != null && viewGroup != null && (activity instanceof ActivityC45651qj)) {
            if (AnonymousClass752.LIZ(getEventType())) {
                C278517l.LIZIZ(-1, -1, this.LLI);
            }
            this.LLILZ = new LSP((ActivityC45651qj) activity, this.LLI, viewGroup, new AObjectS54S0101000_9(0, this, 0));
        }
    }

    public final void LJJJJZI(int i) {
        Context context;
        if (i > 2) {
            return;
        }
        C55313LnJ c55313LnJ = this.LLJILLL;
        if ((c55313LnJ != null && !c55313LnJ.LJ) || (context = getContext()) == null) {
            return;
        }
        C55537Lqv c55537Lqv = new C55537Lqv(new WeakReference(context), "common_feed_item_feed", new ARunnableS13S0101000_9(i, this, 0));
        this.LLILLJJLI = c55537Lqv;
        c55537Lqv.LIZLLL();
    }

    public final void LJJJLL(boolean z) {
        Context context = getContext();
        if (context == null) {
            return;
        }
        C55537Lqv c55537Lqv = new C55537Lqv(new WeakReference(context), "common_feed_item_feed", new ARunnableS15S0110000_9(this, z, 1));
        this.LLILLJJLI = c55537Lqv;
        c55537Lqv.LIZLLL();
    }

    public final void LJJL(ViewGroup viewGroup) {
        this.LLIIII = C16970lZ.LIZJ(R.layout.ali, (Activity) getContext(), viewGroup, false);
        int i = C61447O9r.LJIILJJIL;
        C57092Lx.LIZ.getClass();
        int LIZ = C61447O9r.LIZ();
        if (i == 0) {
            i = LIZ;
        }
        FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(-1, i);
        layoutParams.gravity = 80;
        viewGroup.addView(this.LLIIII, layoutParams);
        this.LLIIII.setVisibility(8);
    }

    public final void LJJLI(ViewGroup viewGroup) {
        this.LLIIII = C16970lZ.LIZJ(R.layout.ali, (Activity) getContext(), viewGroup, false);
        int i = C61447O9r.LJIILJJIL;
        C57092Lx.LIZ.getClass();
        int LIZ = C61447O9r.LIZ();
        if (i == 0) {
            i = LIZ;
        }
        RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(-1, i);
        layoutParams.addRule(14);
        layoutParams.addRule(12);
        viewGroup.addView(this.LLIIII, layoutParams);
        this.LLIIII.setVisibility(8);
    }

    public final void LJJLIIIJLLLLLLLZ(Intent intent) {
        Activity activity = this.activity;
        if (activity != null && !activity.isFinishing()) {
            if (intent == null) {
                intent = new Intent();
            }
            this.activity.setResult(-1, intent);
            this.activity.finish();
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public List<Aweme> LJJZ(AbstractC51036K1g abstractC51036K1g) {
        String aid;
        Aweme LIZ;
        String str;
        String aid2;
        Aweme LIZ2;
        String str2;
        Aweme R1;
        C55315LnL c55315LnL;
        InterfaceC51679KPz interfaceC51679KPz = this.LJLL;
        if (interfaceC51679KPz != null && (interfaceC51679KPz instanceof BaseDetailShareVM)) {
            return ((BaseDetailShareVM) interfaceC51679KPz).getAwemeList();
        }
        if (interfaceC51679KPz != null) {
            if (interfaceC51679KPz instanceof C55322LnS) {
                C55322LnS c55322LnS = (C55322LnS) interfaceC51679KPz;
                M89 m89 = this.param;
                c55322LnS.LJLJJI = false;
                KQB kqb = c55322LnS.LJLJI;
                if ((kqb instanceof C55315LnL) && (c55315LnL = (C55315LnL) kqb) != null) {
                    c55315LnL.LJLJJI = m89;
                }
                if (m89 == null || (aid2 = m89.getAid()) == null || aid2.length() == 0) {
                    return null;
                }
                String upvoteId = m89.getUpvoteId();
                if (upvoteId != null && upvoteId.length() != 0) {
                    return null;
                }
                OSZ<Integer, Aweme> data = c55322LnS.LJLILLLLZI.getData();
                if (data == null || (LIZ2 = data.getSecond()) == null) {
                    InterfaceC55337Lnh LJIILJJIL = C55888Lwa.LIZIZ.LJIILJJIL();
                    String aid3 = m89.getAid();
                    o.LJI(aid3);
                    LIZ2 = LJIILJJIL.LIZ(aid3);
                }
                StringBuilder LIZ3 = X1D.LIZ();
                LIZ3.append("getAwemeList:");
                LIZ3.append(m89.getAid());
                LIZ3.append(", ");
                if (LIZ2 != null) {
                    str2 = LIZ2.getAid();
                } else {
                    str2 = null;
                }
                b0.LJFF(LIZ3, str2, LIZ3, "DetailFromNoticeOperator");
                if (LIZ2 == null || (R1 = AwemeService.LIZ().R1(LIZ2)) == null) {
                    return null;
                }
                c55322LnS.LJLJJI = true;
                return C47261Igj.LJJIJIL(R1);
            }
            if (interfaceC51679KPz instanceof C55335Lnf) {
                KQC kqc = (KQC) interfaceC51679KPz;
                M89 m892 = this.param;
                if (m892 == null || (aid = m892.getAid()) == null || aid.length() == 0) {
                    return null;
                }
                OSZ<Integer, Aweme> data2 = kqc.LJLILLLLZI.getData();
                if (data2 == null || (LIZ = data2.getSecond()) == null) {
                    InterfaceC55341Lnl LJ = C86550Xxy.LIZIZ.LJ();
                    String aid4 = m892.getAid();
                    o.LJI(aid4);
                    LIZ = LJ.LIZ(aid4);
                }
                StringBuilder LIZ4 = X1D.LIZ();
                LIZ4.append("getAwemeList:");
                LIZ4.append(m892.getAid());
                LIZ4.append(", ");
                if (LIZ != null) {
                    str = LIZ.getAid();
                } else {
                    str = null;
                }
                b0.LJFF(LIZ4, str, LIZ4, "DetailFromInnerPushOperator");
                if (LIZ == null) {
                    return null;
                }
                Aweme R12 = AwemeService.LIZ().R1(LIZ);
                o.LJI(R12);
                return C47261Igj.LJJIJIL(R12);
            }
            if (interfaceC51679KPz instanceof InterfaceC224118qt) {
                return ((InterfaceC224118qt) interfaceC51679KPz).getAwemeList();
            }
        }
        if (abstractC51036K1g instanceof InterfaceC224118qt) {
            return ((InterfaceC224118qt) abstractC51036K1g).getAwemeList();
        }
        if (interfaceC51679KPz != null && (interfaceC51679KPz instanceof C51045K1p)) {
            return ((C51045K1p) interfaceC51679KPz).getAwemeList();
        }
        if ("homepage_fresh".equalsIgnoreCase(getEventType())) {
            if (abstractC51036K1g == 0) {
                return null;
            }
            return LJJLIIJ(abstractC51036K1g.getItems());
        }
        if (abstractC51036K1g == 0) {
            return null;
        }
        return abstractC51036K1g.getItems();
    }

    public final int LJJZZIII(List<Aweme> list) {
        if (!C79004UzY.LJJIFFI(list)) {
            for (int i = 0; i < ((ArrayList) list).size(); i++) {
                Aweme aweme = (Aweme) ListProtector.get(list, i);
                if (aweme != null && TextUtils.equals(aweme.getAid(), LJJLIL())) {
                    return i;
                }
            }
            return -1;
        }
        return -1;
    }

    public final void LJLIL(Aweme aweme) {
        View view;
        if (aweme == null || (view = this.LLIIII) == null) {
            return;
        }
        TextView textView = (TextView) view.findViewById(R.id.epb);
        TextView textView2 = (TextView) this.LLIIII.findViewById(R.id.epc);
        View findViewById = this.LLIIII.findViewById(R.id.ep_);
        ImageView imageView = (ImageView) this.LLIIII.findViewById(R.id.epa);
        AwemeStatistics statistics = aweme.getStatistics();
        if (textView != null && statistics != null) {
            textView.setText(LJLIIIL(statistics.getPlayCount()));
        }
        if (textView2 != null && statistics != null) {
            textView2.setText(LJLIIIL(statistics.getShareCount()));
        }
        findViewById.setVisibility(8);
        imageView.setVisibility(8);
    }

    public final void LJLILLLLZI(String str) {
        ViewStub viewStub = (ViewStub) this.LLFII.findViewById(R.id.dmg);
        if (viewStub == null) {
            return;
        }
        viewStub.inflate();
        ((TextView) this.LLFII.findViewById(R.id.dmf)).setText(str);
    }

    public void LJLLILLLL(List<Aweme> list) {
        LJLLJ(list, false);
    }

    public void LJLLLLLL(boolean z) {
        InterfaceC55317LnN interfaceC55317LnN;
        boolean z2;
        Aweme currentPlayAweme = getCurrentPlayAweme();
        if (currentPlayAweme != null && (interfaceC55317LnN = this.LLII) != null) {
            if (!z && C220858ld.LJIIIIZZ(currentPlayAweme)) {
                z2 = true;
            } else {
                z2 = false;
            }
            interfaceC55317LnN.zd(z2);
        }
    }

    public final void LJLZ(boolean z) {
        boolean z2;
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            if (z && !C220858ld.LJIIIIZZ(LJJLJ())) {
                z2 = true;
            } else {
                z2 = false;
            }
            interfaceC55317LnN.h(z2);
        }
    }

    public void LJZ(boolean z) {
        this.LLIILII = z;
    }

    public final void LJZL(boolean z) {
        this.param.setMyProfile(z);
        Iterator it = ((ArrayList) this.mControllerHolder.LIZ).iterator();
        while (it.hasNext()) {
            C2LB c2lb = (C2LB) it.next();
            if (c2lb instanceof C2IJ) {
                ((C2IJ) c2lb).LJLJLLL = z;
            }
        }
    }

    public Aweme LL(List<Aweme> list) {
        int LJJZZIII = LJJZZIII(list);
        if (LJJZZIII != -1 && LJJZZIII < this.mAdapter.getCount()) {
            if (this.mAdapter != null && this.mViewPager.getExpectedAdapterCount() != this.mAdapter.getCount()) {
                this.mAdapter.notifyDataSetChanged();
            }
            this.mViewPager.LJJJ(LJJZZIII, false);
            Aweme aweme = (Aweme) ListProtector.get(list, LJJZZIII);
            LLD(aweme);
            return aweme;
        }
        if (((ArrayList) list).size() > 0) {
            Aweme aweme2 = (Aweme) ListProtector.get(list, 0);
            LLD(aweme2);
            return aweme2;
        }
        return null;
    }

    public void LLD(Aweme aweme) {
        int i = 1;
        String enterFrom = getEnterFrom(true);
        if (this.LLIIII == null && (!C72Y.LIZ() || this.LLILL == null)) {
            return;
        }
        if (LLFII(aweme)) {
            if (C72Y.LIZ()) {
                C55537Lqv c55537Lqv = this.LLILL;
                if (c55537Lqv != null) {
                    c55537Lqv.LJ(new IDRunnableS6S0101000(3, this, 12));
                }
            } else {
                this.LLIIII.setVisibility(8);
            }
            if (TcmServiceImpl.LJIJI().LJIIJ(aweme, getEnterFrom(true))) {
                LJLZ(false);
                if (C72Y.LIZ()) {
                    C55537Lqv c55537Lqv2 = this.LLILIL;
                    if (c55537Lqv2 != null) {
                        c55537Lqv2.LJ(new ARunnableS11S0201000_8(2, this, aweme, 3));
                        return;
                    }
                    return;
                }
                this.LLIIIJ.LIZJ(aweme);
                return;
            }
            if (C72Y.LIZ()) {
                C55537Lqv c55537Lqv3 = this.LLILIL;
                if (c55537Lqv3 != null) {
                    c55537Lqv3.LJ(new RunnableC51616KNo(i, this));
                }
            } else {
                this.LLIIIJ.LIZ();
            }
            LJLZ(true);
            return;
        }
        if (C72Y.LIZ()) {
            C55537Lqv c55537Lqv4 = this.LLILL;
            if (c55537Lqv4 == null) {
                return;
            }
            c55537Lqv4.LJ(new ARunnableS8S1200000_9(this, enterFrom, aweme, 0));
            return;
        }
        LLII(aweme, enterFrom);
    }

    public boolean LLFII(Aweme aweme) {
        boolean z;
        boolean z2;
        boolean z3;
        if (aweme != null && C55318LnO.LIZ(aweme, ((RBX) HG3.LJIILL()).getCurUser()) && !TcmServiceImpl.LJIJI().LJIIJ(aweme, getEnterFrom(true))) {
            z = true;
        } else {
            z = false;
        }
        if (this.LJLJJL != null) {
            z2 = true;
        } else {
            z2 = false;
        }
        if (C54838Lfe.LJJI(aweme)) {
            C53578L1a.LIZ.getClass();
            if (C53578L1a.LIZ()) {
                z3 = true;
                boolean LIZIZ = Z89.LIZIZ.LIZIZ(aweme);
                if (z3 && !z2 && z && aweme.getStatistics() != null && !LIZIZ) {
                    return false;
                }
                return true;
            }
        }
        z3 = false;
        boolean LIZIZ2 = Z89.LIZIZ.LIZIZ(aweme);
        if (z3) {
        }
        return true;
    }

    public final void LLIIIILZ(String str) {
        if (!C80X.LJFF(getCurrentAweme())) {
            return;
        }
        AnonymousClass804.LIZ = str;
        InterfaceC57312Mt currentFeedUGView = getCurrentFeedUGView();
        if (currentFeedUGView != null) {
            currentFeedUGView.LJJJI();
        }
    }

    public final void LLIIIJ(Aweme aweme) {
        String str;
        if (this.LLJJI) {
            return;
        }
        this.LLJJI = true;
        if (("message".equals(getEventType()) || "web".equals(getEventType()) || "chat".equals(getEventType()) || "group_chat".equals(getEventType()) || "push".equals(getEventType()) || "like_list".equals(getEventType()) || "inner_push".equals(getEventType()) || "notification_page".equals(getEventType()) || "comment_history".equals(getEventType()) || "general_search".equals(getEventType()) || "extreme_anti_bullying_page".equals(getEventType()) || "click_comment_chain".equals(getEventType()) || "click_comment_bubble".equals(getEventType()) || "collection_comment".equals(getEventType()) || "question_list".equals(getEventType()) || this.param.getCommentNotice() == 1) && ((!TextUtils.isEmpty(LJLIIL()) || this.param.isCommentForceOpenReply() || this.param.getCommentNotice() == 1) && this.param.getCommentDeleted() == 0)) {
            if (this.param.getCommentDeleted() == 0 && this.param.getLevel1CommentDeleted() == 1) {
                C5S1 c5s1 = new C5S1(EF7.LIZIZ());
                c5s1.LIZJ(R.string.ivn);
                c5s1.LJ();
            } else if (!C220858ld.LJIIIIZZ(aweme) && (!CommentServiceImpl.LJJL().LIZJ(aweme, this.param) || "COMMENT".equals(this.param.getExposeCommentType()) || "REPLY".equals(this.param.getExposeCommentType()))) {
                if (C54838Lfe.LJJI(aweme) && C2304092m.LIZ()) {
                    C26045AKb c26045AKb = new C26045AKb(this.activity);
                    c26045AKb.LJIIIIZZ(R.string.rqi);
                    c26045AKb.LJIIJ();
                    return;
                } else {
                    if (this.param.getCommentEnterMethod() != null) {
                        str = this.param.getCommentEnterMethod();
                    } else {
                        str = "";
                    }
                    LJLJI(0, LJJLJ(), LJLIIL(), str, false);
                    return;
                }
            }
        }
        if (!TextUtils.isEmpty(this.param.getLikeListIds())) {
            LJLJJL(this.param.getLikeCount(), 0, LJJLJ(), this.param.getLikeListIds());
        }
    }

    @Override // X.InterfaceC223218pR
    public final void Qw(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        if (this.mAdapter.getCount() == 0) {
            IPageStateAbility iPageStateAbility = this.pageStateAbility;
            if (iPageStateAbility != null) {
                iPageStateAbility.Aa();
            }
        } else {
            C1A7.LJIJJLI(EF7.LIZIZ(), exc, R.string.hvc);
        }
        this.LLIIIZ = false;
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[showLoadLatestError] ");
        LIZ.append(exc.getMessage());
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
    }

    @Override // X.LU1
    public final void UC(String str) {
        AbstractC55082Lja abstractC55082Lja;
        if (!isViewValid()) {
            return;
        }
        if (C72083SQt.LJLILLLLZI(getCurViewHolder())) {
            pauseCurrentPlayerWithListener();
        }
        InterfaceC57302Ms interfaceC57302Ms = this.mDeleteItemListener;
        if (interfaceC57302Ms == null || !interfaceC57302Ms.deleteItem(str)) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("mDeleteItemListener.deleteItem ");
            LIZ.append(str);
            LIZ.append(" failed");
            C36922EeM.LIZLLL(6, "DeleteAweme", X1D.LIZIZ(LIZ));
            if (str == null || (abstractC55082Lja = this.mAdapter) == null || abstractC55082Lja.Q8() == null) {
                return;
            }
            List<Aweme> Q8 = this.mAdapter.Q8();
            for (int i = 0; i < Q8.size(); i++) {
                Aweme aweme = (Aweme) ListProtector.get(Q8, i);
                if (C54838Lfe.LJJ(aweme) && C78996UzQ.LJJIIZI(aweme)) {
                    onStoryDeleted(i, str);
                } else if (aweme != null && str.equals(aweme.getAid())) {
                    onItemDeleted(i);
                    LJLL();
                    return;
                }
            }
            return;
        }
        LJLL();
    }

    @Override // X.InterfaceC50666JuY
    public final void Yv(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        C1A7.LJIJJLI(this.activity, exc, R.string.hvc);
        IPageStateAbility iPageStateAbility = this.pageStateAbility;
        if (iPageStateAbility != null) {
            iPageStateAbility.hideStatusView();
        }
        this.LJLIL.LJIILJJIL("[onBatchDetailFailed]", exc);
    }

    @Override // X.InterfaceC224378rJ
    public void ZF(OSZ<Integer, Aweme> osz) {
        String LJJLIL;
        String str;
        String string;
        if (!isViewValid()) {
            this.LJLIL.LJIIL("[onDetailSuccess] view invalid");
            return;
        }
        int intValue = osz.getFirst().intValue();
        Aweme second = osz.getSecond();
        if (second != null) {
            LJJLIL = second.getAid();
        } else {
            LJJLIL = LJJLIL();
        }
        C2U8.LIZ(new C80153Cp(LJJLIL, second, null));
        IPageStateAbility iPageStateAbility = this.pageStateAbility;
        if (iPageStateAbility != null) {
            iPageStateAbility.hideStatusView();
        }
        onFirstDataLoaded();
        if (second == null) {
            ViewStub viewStub = (ViewStub) this.LLFII.findViewById(R.id.dme);
            if (viewStub == null) {
                return;
            }
            viewStub.inflate();
            TextView textView = (TextView) this.LLFII.findViewById(R.id.msg);
            ImageView imageView = (ImageView) this.LLFII.findViewById(R.id.lb3);
            if (textView != null) {
                if (intValue == 1) {
                    string = getContext().getResources().getString(R.string.tmp);
                } else if (intValue == 2) {
                    string = getContext().getResources().getString(R.string.tmo);
                } else if (intValue == 3) {
                    string = getContext().getResources().getString(R.string.ru1);
                } else {
                    string = getContext().getResources().getString(R.string.tmq);
                }
                textView.setText(string);
                textView.setVisibility(0);
                if (imageView != null) {
                    imageView.setVisibility(0);
                }
                this.LLI.setVisibility(8);
            } else {
                C5S1 c5s1 = new C5S1(getContext());
                c5s1.LIZJ(R.string.tmu);
                c5s1.LJ();
            }
            M89 param = getParam();
            if (param != null && "comment_history".equalsIgnoreCase(param.getEventType()) && param.getNoPermissionVideoType() > 0) {
                Aweme aweme = new Aweme();
                aweme.setAid(param.getAid());
                AwemeStatistics awemeStatistics = new AwemeStatistics();
                awemeStatistics.setCommentCount(1L);
                aweme.setStatistics(awemeStatistics);
                if (this.param.getCommentEnterMethod() != null) {
                    str = this.param.getCommentEnterMethod();
                } else {
                    str = "";
                }
                showCommentFragment(aweme, LJLIIL(), false, false, false, false, null, this.param.getCommentUserFollowStatus(), this.param.getCommentNotice(), str, true);
                C5S1 c5s12 = new C5S1(getContext());
                c5s12.LIZJ(R.string.tmu);
                c5s12.LJ();
                return;
            }
            return;
        }
        LLD(second);
        if (C79043V0l.LJIILJJIL(getFrom()) && second.isForwardAweme() && second.getForwardItem() == null) {
            C5S1 c5s13 = new C5S1(getContext());
            c5s13.LIZJ(R.string.glm);
            c5s13.LJ();
            return;
        }
        if (second.getStatus() != null && second.getStatus().isDelete()) {
            this.LLFII.postDelayed(new ARunnableS45S0100000_9(this, 21), 600L);
        }
        if (AV1.LJIIZILJ(second.getAuthor(), AV1.LJIJ(second.getAuthor()))) {
            InterfaceC55317LnN interfaceC55317LnN = this.LLII;
            if (interfaceC55317LnN != null) {
                interfaceC55317LnN.h(false);
            }
            DetailPageComponent detailPageComponent = this.LLJJIJIIJIL;
            if (detailPageComponent != null) {
                detailPageComponent.O3();
            }
        } else {
            ArrayList arrayList = new ArrayList();
            RecFeedShareComponentController recFeedShareComponentController = this.LLILII;
            if (recFeedShareComponentController != null && !recFeedShareComponentController.LIZJ(second)) {
                this.LLILII.LJLJL = new C44224HXg(this);
            }
            arrayList.add(AwemeService.LIZ().R1(second));
            LJLLILLLL(arrayList);
            InterfaceC55317LnN interfaceC55317LnN2 = this.LLII;
            if (interfaceC55317LnN2 != null) {
                interfaceC55317LnN2.b7();
            }
        }
        LLIIIJ(second);
        if (this.param.isShowShareAfterOpen()) {
            showShareDialog(LJJLJ(), null);
        }
        if (this.param.getNeedShowDonation()) {
            LLIFFJFJJ(0, LJJLJ());
        }
        ArrayList arrayList2 = new ArrayList();
        arrayList2.add(second);
        C7HV.LIZIZ.LIZJ(arrayList2, C7KA.LIZ(this.param));
        this.LJLIL.LJII(second, "[onDetailSuccess] " + intValue);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void advanceToNextItem(boolean z) {
        C55313LnJ c55313LnJ = this.LLJILLL;
        if (c55313LnJ != null) {
            c55313LnJ.LIZIZ();
        }
        super.advanceToNextItem(z);
    }

    @Override // X.InterfaceC51032K1c
    public final void c0(boolean z) {
        this.LLIIIZ = z;
    }

    @Override // X.InterfaceC223218pR
    public void cb0(Exception exc) {
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("showLoadError mDetailInputFragment.enterCleanMode() ");
        LIZ.append(Log.getStackTraceString(exc));
        C36922EeM.LIZLLL(6, "DetailFragmentPanel", X1D.LIZIZ(LIZ));
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.I4();
        }
        C1A7.LJIJJ(EF7.LIZIZ(), exc);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void deleteUserStory(int i) {
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja == null || abstractC55082Lja.Q8() == null) {
            return;
        }
        Aweme aweme = (Aweme) ListProtector.get(this.mAdapter.Q8(), i);
        if (!C54838Lfe.LJJ(aweme) || !C78996UzQ.LJJIIZI(aweme)) {
            return;
        }
        onItemDeleted(i);
        LJLL();
    }

    @Override // X.InterfaceC224378rJ
    public void fC(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        C2U8.LIZ(new C80153Cp(LJJLIL(), null, exc));
        C1A7.LJIJJLI(this.activity, exc, R.string.hvc);
        IPageStateAbility iPageStateAbility = this.pageStateAbility;
        if (iPageStateAbility != null) {
            iPageStateAbility.hideStatusView();
        }
        onFirstDataLoaded();
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onDetailFailed] ");
        LIZ.append(exc.getMessage());
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
    }

    @Override // X.InterfaceC178496zV
    public final void h5(int i) {
        this.LLJJIII = i;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void handleVideoEvent(C50420Jqa c50420Jqa) {
        InterfaceC54326LTu interfaceC54326LTu;
        boolean z;
        int i;
        boolean z2;
        C55369LoD c55369LoD;
        int i2 = c50420Jqa.LJLIL;
        if (i2 != 3) {
            if (i2 != 53) {
                if (i2 != 57) {
                    switch (i2) {
                        case 5:
                            super.handleVideoEvent(c50420Jqa);
                            Aweme currentAweme = getCurrentAweme();
                            AnonymousClass839 anonymousClass839 = this.sharePanelGuideManager;
                            if (anonymousClass839 == null || currentAweme == null || !anonymousClass839.LIZ(this.param.isMyProfile(), currentAweme, this.activity, getCurrentFeedUGView())) {
                                return;
                            }
                            currentAweme.getAid();
                            LLIIIILZ("like");
                            return;
                        case 6:
                            tryToHideStayHomeGuide(this.activity, getCurrentAweme(), 1200L, 1000L);
                            super.handleVideoEvent(c50420Jqa);
                            return;
                        case 7:
                            tryToHideStayHomeGuide(this.activity, getCurrentAweme(), -1L, 0L);
                            super.handleVideoEvent(c50420Jqa);
                            return;
                        case 8:
                            if (!isViewValid()) {
                                return;
                            }
                            if (C72Y.LIZ()) {
                                C55537Lqv c55537Lqv = this.LLILLIZIL;
                                if (c55537Lqv != null) {
                                    c55537Lqv.LJ(new RunnableC51614KNm(1, this));
                                }
                            } else {
                                C55366LoA c55366LoA = this.LLIIIL;
                                if (c55366LoA != null && c55366LoA.LIZ(R.id.n7s).getVisibility() == 0 && (c55369LoD = c55366LoA.LJLIL) != null) {
                                    c55369LoD.LIZIZ();
                                }
                            }
                            this.mViewPager.setCanTouch(false);
                            IRefreshAbility iRefreshAbility = this.refreshAbility;
                            if (iRefreshAbility != null) {
                                iRefreshAbility.setCanTouch(false);
                            }
                            C2MA curViewHolder = getCurViewHolder();
                            if (curViewHolder == null) {
                                return;
                            }
                            AnonymousClass901 j3 = curViewHolder.j3();
                            if (j3 != null) {
                                j3.e3(false);
                            }
                            curViewHolder.b2(true);
                            return;
                        case 9:
                            if (getCurFeedViewHolder() != null && getCurFeedViewHolder().Y8()) {
                                return;
                            }
                            this.mViewPager.setCanTouch(true);
                            IRefreshAbility iRefreshAbility2 = this.refreshAbility;
                            if (iRefreshAbility2 != null) {
                                iRefreshAbility2.setCanTouch(true);
                            }
                            C2MA curViewHolder2 = getCurViewHolder();
                            if (curViewHolder2 == null) {
                                return;
                            }
                            curViewHolder2.b2(false);
                            return;
                        case 10:
                            Activity activity = this.activity;
                            if (activity == null) {
                                return;
                            }
                            activity.onBackPressed();
                            return;
                        case ABRConfig.ABR_BANDWIDTH_PARAMETER_KEY /* 11 */:
                            getContext();
                            if (C2NU.LIZ.LIZIZ()) {
                                Bundle bundle = c50420Jqa.LJLJI;
                                if (bundle != null) {
                                    i = bundle.getInt("emojiReact", 0);
                                    z2 = bundle.getBoolean("is_recommendation", false);
                                } else {
                                    i = 0;
                                    z2 = false;
                                }
                                LJLJJLL(getCurFeedViewHolderExcludeLive(), true, i, c50420Jqa.LJLILLLLZI.toString(), z2);
                                return;
                            }
                            C5S1 c5s1 = new C5S1(this.activity);
                            c5s1.LIZJ(R.string.img);
                            c5s1.LJ();
                            return;
                        default:
                            super.handleVideoEvent(c50420Jqa);
                            return;
                    }
                }
                getContext();
                if (C2NU.LIZ.LIZIZ()) {
                    Bundle bundle2 = c50420Jqa.LJLJI;
                    if (bundle2 != null) {
                        z = bundle2.getBoolean("is_recommendation", false);
                    } else {
                        z = false;
                    }
                    LJLJJLL(getCurFeedViewHolderExcludeLive(), false, 0, c50420Jqa.LJLILLLLZI.toString(), z);
                    return;
                }
                C5S1 c5s12 = new C5S1(this.activity);
                c5s12.LIZJ(R.string.img);
                c5s12.LJ();
                return;
            }
            if (!this.mFirstRenderReady) {
                this.mFirstRenderReady = true;
                LLIIJI();
                if (this.LLD.compareAndSet(false, true) && (interfaceC54326LTu = this.LL) != null) {
                    interfaceC54326LTu.LJLIIL();
                }
            }
            super.handleVideoEvent(c50420Jqa);
            return;
        }
        if (this.mMixDetailCleanMode.booleanValue()) {
            return;
        }
        tryToHideStayHomeGuide(this.activity, getCurrentAweme(), 0L, 0L);
        super.handleVideoEvent(c50420Jqa);
    }

    @Override // X.InterfaceC223218pR
    public void nc(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        ILoadMoreAbility iLoadMoreAbility = this.loadMoreAbility;
        if (iLoadMoreAbility != null) {
            iLoadMoreAbility.showLoadMoreError();
        }
        this.LLIIIZ = false;
        this.LJLJI = false;
        C1A7.LJIJJ(EF7.LIZIZ(), exc);
        this.LJLIL.LJIILJJIL("[showLoadMoreError] ", exc);
    }

    @QD3
    public void onAwemeDeleteEvent(C55045Liz c55045Liz) {
        Aweme aweme;
        InterfaceC57302Ms interfaceC57302Ms;
        if (!TextUtils.equals(getEventType(), c55045Liz.LJLILLLLZI) || (aweme = c55045Liz.LJLIL) == null || (interfaceC57302Ms = this.mDeleteItemListener) == null || !interfaceC57302Ms.LJJIJLIJ(aweme)) {
            return;
        }
        stopPlayer();
        this.mAdapter.notifyDataSetChanged();
        if (this.mAdapter.getCount() == 3) {
            C2U8.LIZ(new C54990Li6());
        }
        this.mViewPager.post(new ARunnableS13S0101000_9(0, this, 1));
        onPageSelected();
    }

    @QD3
    public void onCancelVideoCoverMaskEvent(C201667vm c201667vm) {
        LJLLLLLL(c201667vm.LJLIL);
        DetailBottomAbility LJL = LJL();
        if (LJL != null) {
            LJL.n1();
        }
    }

    @QD3
    public void onCommentDialogEvent(C174036sJ c174036sJ) {
        boolean z;
        DetailBottomAbility LJL;
        InterfaceC55317LnN interfaceC55317LnN;
        Activity activity = this.activity;
        if (activity == null || activity.isFinishing()) {
            return;
        }
        if (c174036sJ.LJLILLLLZI != activity.hashCode()) {
            return;
        }
        boolean z2 = false;
        if (c174036sJ.LJLIL == 1) {
            z = true;
        } else {
            z = false;
        }
        setCommentDialogShowing(z);
        if (c174036sJ.LJLIL == 1) {
            z2 = true;
        }
        handleCommentDialogShow(z2);
        if (getSplitContainer() != null && ((interfaceC55317LnN = this.LLII) == null || !interfaceC55317LnN.g0())) {
            return;
        }
        if (c174036sJ.LJLIL == 1) {
            InterfaceC55317LnN interfaceC55317LnN2 = this.LLII;
            if (interfaceC55317LnN2 == null) {
                return;
            }
            interfaceC55317LnN2.dismissAllowingStateLoss();
            return;
        }
        Fragment fragment = getFragment();
        if (fragment == null || !fragment.getUserVisibleHint() || (LJL = LJL()) == null) {
            return;
        }
        LJL.Uk0();
    }

    @QD3
    public void onCommentEvent(C174046sK c174046sK) {
        Aweme aweme;
        if (c174046sK == null || (aweme = c174046sK.LJLJI) == null) {
            return;
        }
        for (Aweme aweme2 : this.mAdapter.Q8()) {
            if (aweme2.getAid().equals(aweme.getAid())) {
                aweme2.setCommentSetting(aweme.getCommentSetting());
            }
        }
    }

    @QD3
    public void onDislikeAwemeEvent(C55274Lmg c55274Lmg) {
        boolean z;
        if (c55274Lmg.LJLJJL != this.activity.hashCode() || this.mMixDetailCleanMode.booleanValue()) {
            return;
        }
        boolean z2 = c55274Lmg.LJLIL;
        int i = c55274Lmg.LJLJJLL;
        if (i == 0 || i == 4) {
            z = true;
        } else {
            z = false;
        }
        handleMaskLayer(z2, z);
    }

    @QD3
    public void onDuetSettingEvent(C55330Lna c55330Lna) {
        Aweme aweme;
        if (c55330Lna == null || (aweme = c55330Lna.LJLIL) == null) {
            return;
        }
        for (Aweme aweme2 : this.mAdapter.Q8()) {
            if (aweme2.getAid().equals(aweme.getAid())) {
                aweme2.setDuetSetting(aweme.getDuetSetting());
                aweme2.setReactSetting(aweme.getReactSetting());
            }
        }
    }

    @QD3(threadMode = ThreadMode.MAIN)
    public void onFakeFavoriteVideo(C193097hx c193097hx) {
        if (c193097hx != null && !c193097hx.LJLJI) {
            if (C72Y.LIZ()) {
                C55537Lqv c55537Lqv = this.LLILL;
                if (c55537Lqv != null) {
                    c55537Lqv.LJ(new ARunnableS12S0101000_8(4, this, 5));
                    return;
                }
                return;
            }
            LJLIL(getCurrentAweme());
        }
    }

    @QD3
    public void onHideCommentInputFragmentEvent(C55346Lnq c55346Lnq) {
        Activity activity = this.activity;
        if (activity == null) {
            return;
        }
        activity.hashCode();
        throw null;
    }

    @QD3
    public void onInterceptedResumePlayOnResume(C55047Lj1 c55047Lj1) {
        Activity activity = this.activity;
        if (activity != null && activity.hashCode() == c55047Lj1.LJLILLLLZI) {
            this.LLJJIJI = !c55047Lj1.LJLIL;
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.MFO
    public final void onItemDeleteFailed(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        if (exc instanceof C38333F2r) {
            C38306F1q c38306F1q = (C38306F1q) exc;
            if (c38306F1q.getErrorCode() == 2130) {
                C1A7.LJIJJLI(this.activity, exc, R.string.tmr);
                return;
            }
            if (c38306F1q.getErrorCode() != 2752) {
                return;
            }
            if (getCurrentAweme() == null || getCurrentAweme().getCommerceVideoAuthInfo() == null || getCurrentAweme().getCommerceVideoAuthInfo().getAuthStatus() != 2) {
                Context context = getContext();
                Throwable LJ = C1A7.LJ(exc);
                if (LJ instanceof C38333F2r) {
                    C38333F2r c38333F2r = (C38333F2r) LJ;
                    if (c38333F2r.getErrorCode() == 2752) {
                        String errorMsg = c38333F2r.getErrorMsg();
                        String string = context.getResources().getString(R.string.i07);
                        C62905OmT c62905OmT = new C62905OmT(context);
                        c62905OmT.LJ(R.string.i08);
                        if (TextUtils.isEmpty(errorMsg)) {
                            errorMsg = string;
                        }
                        c62905OmT.LIZJ = errorMsg;
                        c62905OmT.LJIIJJI(R.string.dsg, null, false);
                        new C62906OmU(c62905OmT).LIZLLL();
                    }
                }
            }
            C235399Lr c235399Lr = new C235399Lr("promote_layer_show");
            String eventType = getEventType();
            C1799074g c1799074g = InterfaceC1798974f.LIZ;
            c235399Lr.LJ("enter_from", eventType, c1799074g);
            c235399Lr.LJ("content", "delete_fail", c1799074g);
            c235399Lr.LJ("group_id", LJJLIL(), c1799074g);
            c235399Lr.LJIILIIL();
            return;
        }
        C1A7.LJIJJLI(this.activity, exc, R.string.efx);
        this.LJLIL.LJIILJJIL("[onItemDeleteFailed] ", exc);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.MFO
    public final void onItemDeleteSuccess(String str) {
        if (!isViewValid()) {
            return;
        }
        UC(str);
        C26045AKb c26045AKb = new C26045AKb(this.activity);
        c26045AKb.LJIIIIZZ(R.string.egl);
        c26045AKb.LJIIJ();
        super.onItemDeleteSuccess(str);
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onItemDeleteSuccess] ");
        LIZ.append(str);
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
    }

    @QD3
    public void onLandPagePopupWebShowEvent(C59219NLz c59219NLz) {
        C2MA curFeedViewHolder = getCurFeedViewHolder();
        if (curFeedViewHolder != null && curFeedViewHolder.j3() != null) {
            curFeedViewHolder.j3().Q2(c59219NLz);
        }
    }

    @QD3
    public void onLandPagePopupWebShowPauseEvent(C232659Bd c232659Bd) {
        C2MA curFeedViewHolder = getCurFeedViewHolder();
        if (curFeedViewHolder != null && curFeedViewHolder.j3() != null) {
            curFeedViewHolder.j3().j3(c232659Bd);
        }
    }

    @QD3(threadMode = ThreadMode.MAIN)
    public void onNoRepostCloseFeedEvent(C67542kw c67542kw) {
        if (this.activity != null) {
            LJJLIIIJLLLLLLLZ(null);
            C62685Oiv.LIZIZ.LIZ();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void onPageScrollStateChanged(int i) {
        super.onPageScrollStateChanged(i);
        if (i == 1) {
            loopCurrentStory();
        } else {
            if (i != 0) {
                return;
            }
            restoreStoryPlayMode();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void onPlayCompletedToShowShareGuide(String str) {
        if (isMockPopup() || !isViewValid()) {
            return;
        }
        Aweme currentAweme = getCurrentAweme();
        if (TextUtils.equals(this.LJLJJI, str)) {
            int i = this.LLIZLLLIL + 1;
            this.LLIZLLLIL = i;
            LLIIIZ(i, str, currentAweme);
        } else {
            this.LLIZLLLIL = 1;
            LLIIIZ(1, str, currentAweme);
            this.LJLJJI = str;
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public void onPlaying(String str) {
        super.onPlaying(str);
        if (!this.LJLLL) {
            this.LJLLL = true;
            String from = getFrom();
            String hotEnterMethod = this.param.getHotEnterMethod();
            try {
                if (C55312LnI.LIZIZ(from, hotEnterMethod, LJJLIL(), str) && !C55312LnI.LJIIIZ && !C55312LnI.LJIIIIZZ) {
                    long currentTimeMillis = System.currentTimeMillis();
                    C188727au c188727au = new C188727au();
                    c188727au.LJ(currentTimeMillis - C55312LnI.LIZ, "duration");
                    c188727au.LIZLLL(C55312LnI.LIZIZ, "page_size");
                    c188727au.LJIIIZ("card_status", C55312LnI.LIZJ);
                    c188727au.LJIIIZ("click_area", C55312LnI.LIZLLL);
                    c188727au.LIZLLL(C55312LnI.LJ, "single_player");
                    c188727au.LJIIIZ("enter_from", hotEnterMethod);
                    FMX.LJIIL("rd_tiktokec_mall_video_page_load_dur", c188727au.LIZ);
                    C55312LnI.LJIIIZ = true;
                    C55312LnI.LJIIIIZZ = true;
                }
            } catch (Exception unused) {
            }
            if (C78540Us4.LJIILJJIL(getFrom(), this.param.getHotEnterMethod(), LJJLIL(), str)) {
                SearchServiceImpl.LLLZI().LLLLILI(getFrom(), this.param.getHotEnterMethod(), LJJLIL(), str);
            }
        }
    }

    @QD3(priority = 1, threadMode = ThreadMode.MAIN)
    public void onPoiReTagAwemeChangeEvent(C8P3 c8p3) {
        C2MA curViewHolder;
        List<C75J> LJJJIL;
        Aweme LJJLJ = LJJLJ();
        Aweme aweme = c8p3.LJLIL;
        if (LJJLJ == null || !TextUtils.equals(LJJLJ.getAid(), aweme.getAid()) || (curViewHolder = getCurViewHolder()) == null) {
            return;
        }
        if (curViewHolder instanceof VideoViewCell) {
            LJJLJ.setAnchors(aweme.getAnchors());
            LJJLJ.setPoiDataStruct(aweme.getPoiDataStruct());
            AwemeService.LIZ().R1(LJJLJ);
            curViewHolder.E8(getCurIndex(), LJJLJ);
            C1DH.LJIILIIL().postDelayed(new ARunnableS39S0100000_3(curViewHolder, 34), 1000L);
            this.mPlayerController.LLIILII(0, LJJLJ);
            if (getFragment() != null && getFragment().mo49getActivity() != null && (LJJJIL = CommentServiceImpl.LJJL().LJJJIL(getFragment().mo49getActivity())) != null) {
                for (int i = 0; i < LJJJIL.size(); i++) {
                    C75J c75j = (C75J) ListProtector.get(LJJJIL, i);
                    if (c75j instanceof CommentListPageFragment) {
                        ((CommentListPageFragment) c75j).Yl();
                    }
                }
            }
        }
        C26045AKb c26045AKb = new C26045AKb(this.LJLJLJ);
        c26045AKb.LJIIIIZZ(R.string.p1g);
        c26045AKb.LJFF(R.raw.icon_tick_fill_small);
        c26045AKb.LJII(R.attr.e8);
        c26045AKb.LJIIJ();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public void onRenderFirstFrame(String str) {
        super.onRenderFirstFrame(str);
        C2U8.LIZ(new C2P1(str));
        if (!this.LJLLJ) {
            this.LJLLJ = true;
            EnumC1804076e enumC1804076e = EnumC1804076e.SUCCESS;
            C54502LaE.LIZJ("detail_page", enumC1804076e, getEventType());
            C54502LaE.LIZJ("detail_page_loading", enumC1804076e, getEventType());
            if (this.param.isStoryPage()) {
                final String enterFrom = getEventType();
                o.LJIIIZ(enterFrom, "enterFrom");
                Map<String, IOE> map = IOF.LIZ;
                IOE ioe = (IOE) ((LinkedHashMap) map).get("detail_page");
                if (ioe != null) {
                    final long currentTimeMillis = System.currentTimeMillis() - ioe.LIZIZ;
                    map.remove("detail_page");
                    C38995FSd.LIZIZ().execute(new Runnable() { // from class: X.2u8
                        public final /* synthetic */ String LJLIL = "detail_page";

                        @Override // java.lang.Runnable
                        public final void run() {
                            boolean LIZ;
                            try {
                                JSONObject jSONObject = new JSONObject();
                                jSONObject.put(WM7.SCENE_SERVICE, this.LJLIL);
                                jSONObject.put("duration", currentTimeMillis);
                                jSONObject.put("enter_from", enterFrom);
                                FMX.LJIILJJIL("story_avatar_entry_page_load_latency", jSONObject);
                            } finally {
                                if (LIZ) {
                                }
                            }
                        }
                    });
                }
            }
        }
        if (!this.LLIZ.getAndSet(true)) {
            C57022Lq.LIZ.LJLIL.post(new ARunnableS9S0101000_5(3, this, 6));
        }
        if ((C33931DTj.LIZ & 1) == 1) {
            FN7.LIZJ = false;
        }
        if (C52446KiA.LIZ && C52446KiA.LIZJ) {
            C67012k5.LJ.LIZLLL();
        }
        if ((C34511DgZ.LIZ & 1) == 1) {
            C35810E3q.LJIILIIL();
        }
        if (this.param.getSeekProgress() > 0.0f) {
            seekProgress(this.param.getSeekProgress());
        }
        if (!JA2.LIZ()) {
            LJLJL();
        }
    }

    @QD3
    public void onShareCompleteEvent(C107794Kx c107794Kx) {
        if (this.LLFII != null && TextUtils.equals("live_event", c107794Kx.LJLJJI)) {
            try {
                View view = ((ActivityC45651qj) this.activity).getSupportFragmentManager().LJJJIL("com.bytedance.android.livesdk.browser.fragment.WebDialogFragment").getView();
                Context context = getContext();
                if (view != null) {
                    IMService.createIIMServicebyMonsterPlugin(false).getShareService().LJIIL(context, view, c107794Kx);
                }
            } catch (Error unused) {
            }
        }
    }

    @QD3
    public void onShowAdLayoutEvent(C55331Lnb c55331Lnb) {
        InterfaceC55317LnN interfaceC55317LnN;
        if (this.mAdapter.getItem(this.mCurIndex) == null || !TextUtils.equals(c55331Lnb.LJLILLLLZI, this.mAdapter.getItem(this.mCurIndex).getAid())) {
            return;
        }
        boolean z = c55331Lnb.LJLIL;
        if (this.mAdapter.getItem(this.mCurIndex) == null || (interfaceC55317LnN = this.LLII) == null) {
            return;
        }
        interfaceC55317LnN.V9(z);
    }

    @QD3
    public void onVideoCleanModeEvent(C55323LnT c55323LnT) {
        C2MA curFeedViewHolderExcludeLive;
        if (this != c55323LnT.LJLJI || (curFeedViewHolderExcludeLive = getCurFeedViewHolderExcludeLive()) == null || c55323LnT.LJLILLLLZI == null || curFeedViewHolderExcludeLive.getAweme() == null || !c55323LnT.LJLILLLLZI.getAid().equals(curFeedViewHolderExcludeLive.getAweme().getAid())) {
            return;
        }
        curFeedViewHolderExcludeLive.b2(c55323LnT.LJLIL);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    @QD3
    public void onVideoPlayerEvent(C46276IEe c46276IEe) {
        int i = c46276IEe.LJLIL;
        if (i != 2 && i != 3) {
            if (i != 5) {
                return;
            }
            this.LLJ = false;
            CountDownTimer countDownTimer = this.LLJJIJIL;
            C55329LnZ c55329LnZ = new C55329LnZ(this);
            if (countDownTimer == null) {
                countDownTimer = new CountDownTimer(3000L, 1000L, new C55319LnP(c55329LnZ));
            }
            this.LLJJIJIL = countDownTimer;
            Aweme currentAweme = getCurrentAweme();
            String eventType = getEventType();
            getCurrentFeedUGView();
            if (countDownTimer.isRunning()) {
                countDownTimer.cancel();
            }
            if (!C80X.LIZJ(currentAweme, eventType)) {
                return;
            }
            countDownTimer.start();
            return;
        }
        if (this.LJLILLLLZI) {
            pausePlayer();
            return;
        }
        Long l = C80X.LJ;
        if (l == null) {
            return;
        }
        C80X.LJI.postDelayed(C80X.LJIIIIZZ, l.longValue());
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void onViewHolderSelected(C2MA c2ma) {
        if (c2ma instanceof InterfaceC55338Lni) {
            if (this.LJZL == null) {
                this.LJZL = new C55333Lnd(this);
            }
            ((InterfaceC55338Lni) c2ma).LJI(this.LJZL);
        }
    }

    @Override // X.LU1
    public final void qe(InterfaceC54326LTu interfaceC54326LTu) {
        InterfaceC54326LTu interfaceC54326LTu2;
        this.LL = interfaceC54326LTu;
        if (this.LLD.get() && (interfaceC54326LTu2 = this.LL) != null) {
            interfaceC54326LTu2.LJLIIL();
        }
    }

    @Override // X.InterfaceC50666JuY
    public final void s00(List<Aweme> list) {
        int size;
        if (!isViewValid()) {
            return;
        }
        this.mCurIndex = 0;
        if (list == null) {
            size = 0;
        } else {
            size = list.size();
        }
        int i = 0;
        for (int i2 = 0; i2 < size; i2++) {
            Aweme R1 = AwemeService.LIZ().R1((Aweme) ListProtector.get(list, i2));
            ListProtector.set(list, i2, R1);
            if (R1 != null && C38354F3m.LIZJ(R1.getAid(), LJJLIL())) {
                i = i2;
            }
        }
        LJLLILLLL(list);
        this.mCurIndex = i;
        this.mViewPager.LJJJ(i, false);
        this.mViewPager.post(new ARunnableS45S0100000_9(this, 22));
        C8RO c8ro = this.LJLIL;
        StringBuilder LJ = C7MY.LJ("[onBatchDetailSuccess] ", size, ",");
        LJ.append(this.mCurIndex);
        c8ro.LJIIIIZZ(X1D.LIZIZ(LJ));
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void setCheckLoadMoreListener(InterfaceC58812Sn interfaceC58812Sn) {
        this.LLIIJI = interfaceC58812Sn;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public BaseListFragmentPanel setParam(M89 m89) {
        IDP idp;
        IDP idp2;
        if (m89.isExposeSharerMsg() && !TextUtils.isEmpty(m89.getAid())) {
            if (this.LLILII == null) {
                this.LLILII = new RecFeedShareComponentController(this);
            }
            RecFeedShareComponentController recFeedShareComponentController = this.LLILII;
            recFeedShareComponentController.getClass();
            EnumC57171McB LJFF = C55786Luw.LJFF(m89.getSocialShareType());
            String aid = m89.getAid();
            recFeedShareComponentController.LJII(new C55773Luj(LJFF, aid, m89.getShareParamUtmSource(), m89.getShareParamLinkId(), m89.getShareUserId(), m89.getShareParamSecUserId(), m89.isExposeSharerMsg(), m89.getShareCheckSum(), m89.getShareTimeStamp(), m89.getInvitationScene(), null, m89.getShareUrl(), m89.getShareLinkMode()), aid);
        }
        this.mMixDetailCleanMode = Boolean.valueOf(m89.isPlaylistCleanMode());
        if (m89.getExtra() != null && m89.getExtra().containsKey("is_from_add_video_chain") && (idp2 = this.mPlayerController) != null) {
            idp2.LJZL = true;
        }
        if (m89.getEnterFromSub() != null && (idp = this.mPlayerController) != null) {
            String enterFromSub = m89.getEnterFromSub();
            if (enterFromSub != null) {
                idp.LJZI = enterFromSub;
            } else {
                idp.getClass();
            }
        }
        super.setParam(m89);
        return this;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51687KQh
    public final void setUserVisibleHint(boolean z) {
        LLFF(z, true);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final String tryPlay(Aweme aweme) {
        if (this.LLIILII) {
            if (this.activity != null) {
                BusinessComponentServiceUtils.getBusinessBridgeService().getClass();
            }
            PlayButtonComponentTemp playButtonComponentTemp = this.playButtonComponentTemp;
            if (playButtonComponentTemp != null) {
                playButtonComponentTemp.es0();
            }
            this.LJLIL.LJII(aweme, "[tryPlay]");
            return super.tryPlay(aweme);
        }
        return "25";
    }

    @Override // X.InterfaceC81205Vtx
    public void za(int i) {
        LJLLI(this.LLIIII, this.LJLJLJ, i);
    }

    public static /* synthetic */ void LJJJJL(DetailFragmentPanel detailFragmentPanel, EnumC84576XHg enumC84576XHg) {
        detailFragmentPanel.getClass();
        if (enumC84576XHg == EnumC84576XHg.Mutation) {
            if (C72Y.LIZ()) {
                C55537Lqv c55537Lqv = detailFragmentPanel.LLILL;
                if (c55537Lqv != null) {
                    c55537Lqv.LJ(new IDRunnableS6S0101000(3, detailFragmentPanel, 0));
                    return;
                }
                return;
            }
            detailFragmentPanel.LJLIL(detailFragmentPanel.getCurrentAweme());
        }
    }

    @Override // X.InterfaceC223218pR
    public void J5(List<Aweme> list, boolean z) {
        if (!isViewValid()) {
            this.LJLIL.LJIIL("[onRefreshResult] view invalid");
            return;
        }
        this.LJLLI = z;
        this.mFullFeedRefresh = true;
        InterfaceC55317LnN interfaceC55317LnN = this.LLII;
        if (interfaceC55317LnN != null) {
            interfaceC55317LnN.Zh();
        }
        IPageStateAbility iPageStateAbility = this.pageStateAbility;
        if (iPageStateAbility != null) {
            KUR kp0 = iPageStateAbility.kp0();
            if (!this.LLJJ) {
                if (C32151Nz.LJJIIJZLJL(list)) {
                    this.pageStateAbility.Zs();
                } else {
                    this.LLJJ = true;
                    if (kp0 != null) {
                        kp0.LJI();
                    }
                    C38816FLg.LIZJ(new IDRunnableS6S0101000(4, this, 23));
                }
            } else if (kp0 != null) {
                kp0.LJI();
            }
        }
        if (list == null || list.isEmpty() || !(ListProtector.get(list, 0) instanceof Aweme)) {
            list = null;
        }
        List<Aweme> LJJLIIIJLJLI = LJJLIIIJLJLI(list);
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        this.mAdapter.LJLLL = z;
        LJLLILLLL(LJJLIIIJLJLI);
        LLIIIJ(LL(LJJLIIIJLJLI));
        changePageBreak("", true);
        C2U8.LIZ(new C223728qG());
        if (isImpressionEnabled()) {
            C2US.LIZJ(this.mImpressionKey).LIZIZ();
        }
        this.mFullFeedRefresh = false;
        ICastingAbility iCastingAbility = this.castingAblity;
        if (iCastingAbility != null) {
            iCastingAbility.ER(LJJZZIII(LJJLIIIJLJLI), LJJLIIIJLJLI);
        }
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onRefreshResult] ");
        LIZ.append(z);
        c8ro.LJII(LJJLIIIJLJLI, X1D.LIZIZ(LIZ));
    }

    public final int LJJJJLI(int i, List list) {
        Object obj;
        int indexOf;
        if (C79004UzY.LJJIFFI(list)) {
            return -1;
        }
        List<Aweme> Q8 = this.mAdapter.Q8();
        if (C79004UzY.LJJIFFI(Q8) || (obj = ListProtector.get(Q8, this.mCurIndex)) == null || (indexOf = list.indexOf(obj) - i) < 0) {
            return -1;
        }
        return indexOf;
    }

    public final void LJLLJ(List<Aweme> list, boolean z) {
        if (this.mAdapter == null) {
            return;
        }
        C49133JQb.LIZ("Tmark", Integer.valueOf(list.size()));
        int count = this.mAdapter.getCount();
        this.mAdapter.setData(list);
        int count2 = this.mAdapter.getCount();
        if (count < count2 && list.size() >= count2 && J8V.LJIILIIL() && !C79004UzY.LJJIFFI(list)) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("detail addMedias:");
            LIZ.append(list.size());
            X1D.LIZIZ(LIZ);
            C46728IVo.LIZ(list.subList(count, count2), !z, !z, getSimKitSceneID(), getEventType());
        }
        if (count < count2 && list.size() >= count2) {
            IH1.LIZJ().LIZ(getSimKitSceneID(), list.subList(count, count2), !z);
        }
    }

    public final void LLFF(boolean z, boolean z2) {
        DetailBottomAbility LJL;
        super.setUserVisibleHint(z);
        if (z2 && z) {
            if ((getSplitContainer() == null || !getSplitContainer().LIZIZ()) && (LJL = LJL()) != null) {
                LJL.Uk0();
            }
        }
    }

    public final boolean LLFFF(List list, boolean z) {
        C80796VnM c80796VnM;
        Aweme aweme;
        if (!z) {
            return false;
        }
        if (this.LLF == null) {
            this.LLF = Boolean.valueOf(Z9N.LIZIZ.LLL(getEventType()));
        }
        if (!this.LLF.booleanValue() || (c80796VnM = this.mViewPager) == null) {
            return false;
        }
        int currentItem = c80796VnM.getCurrentItem();
        if (list == null || currentItem < 0 || currentItem >= list.size() || (aweme = (Aweme) ListProtector.get(list, currentItem)) == null || !aweme.isLive()) {
            return false;
        }
        return true;
    }

    public final void LLIFFJFJJ(int i, Aweme aweme) {
        if (getCurFeedViewHolder() == null && i < 3) {
            postDelayed(new ARunnableS12S0201000_9(i, aweme, this, 0), 50L);
            return;
        }
        SmartRoute buildRoute = SmartRouter.buildRoute(getContext(), "aweme://donation/pannel");
        buildRoute.withParam("enter_method", getEnterMethodValue());
        buildRoute.withParam("enter_from", getEnterFrom(true));
        buildRoute.withParam("page_type", getPageType());
        buildRoute.withParam("aweme_id", aweme.getAid());
        buildRoute.open();
    }

    public final void LLII(final Aweme aweme, String str) {
        long playCount;
        long shareCount;
        String str2;
        if (C54838Lfe.LJJ(aweme) && (aweme = getCurrentPlayAweme()) == null) {
            return;
        }
        this.LLIIII.setVisibility(0);
        LJLZ(false);
        TextView textView = (TextView) this.LLIIII.findViewById(R.id.m90);
        C72560Sdo c72560Sdo = (C72560Sdo) this.LLIIII.findViewById(R.id.bsi);
        C119244m8 c119244m8 = (C119244m8) this.LLIIII.findViewById(R.id.m92);
        View findViewById = this.LLIIII.findViewById(R.id.m91);
        ViewGroup viewGroup = (ViewGroup) this.LLIIII.findViewById(R.id.n9i);
        AwemeStatistics statistics = aweme.getStatistics();
        if (statistics == null) {
            playCount = 0;
        } else {
            playCount = statistics.getPlayCount();
        }
        String quantityString = getContext().getResources().getQuantityString(R.plurals.be, (int) playCount, LJLIIIL(playCount));
        if (statistics == null) {
            shareCount = 0;
        } else {
            shareCount = statistics.getShareCount();
        }
        String quantityString2 = getContext().getResources().getQuantityString(R.plurals.bd, (int) shareCount, LJLIIIL(shareCount));
        String string = getContext().getResources().getString(R.string.en3);
        CommentService LJJL = CommentServiceImpl.LJJL();
        M89 param = getParam();
        param.setShouldHidePrivacySetting(true);
        final boolean LJIJJLI = LJJL.LJIJJLI(viewGroup, aweme, param);
        if (LJIJJLI) {
            findViewById.setVisibility(8);
        } else {
            findViewById.setVisibility(0);
        }
        c72560Sdo.setAlpha(1.0f);
        c72560Sdo.setRadius(100);
        c119244m8.setStartIcon(null);
        if (((Number) C52591KkV.LIZ.getValue()).intValue() == 2 || !C19N.LJ("creator_m10n_show_creator_tools_analytics_entry_is_enabled", true)) {
            c72560Sdo.setVisibility(8);
        } else {
            c72560Sdo.setVisibility(0);
            if (((Boolean) C52681Klx.LIZ.getValue()).booleanValue() && aweme.getInsightsEligibilityStatus().isTest()) {
                c72560Sdo.setBackgroundColor(C79045V0n.LJI(R.attr.db, getContext()).intValue());
                c119244m8.setText(R.string.e_4);
                C2068389v c2068389v = new C2068389v();
                c2068389v.LIZ = R.raw.icon_line_chart;
                c2068389v.LJ = Integer.valueOf(R.attr.dj);
                c2068389v.LIZJ = C17N.LJIILL(20.0d);
                c2068389v.LIZIZ = C17N.LJIILL(20.0d);
                c119244m8.setStartIcon(c2068389v);
                if (aweme.getInsightsEligibilityStatus().isIneligible()) {
                    c72560Sdo.setAlpha(0.2f);
                }
            } else {
                c72560Sdo.setBackgroundColor(C79045V0n.LJI(R.attr.d1, getContext()).intValue());
                c119244m8.setText(R.string.i7t);
            }
        }
        C188727au c188727au = new C188727au();
        c188727au.LJIIIZ("enter_from", str);
        c188727au.LJIIIZ("group_id", aweme.getAid());
        c188727au.LIZLLL(LJIJJLI ? 1 : 0, "is_with_views");
        if (C54838Lfe.LJIIZILJ(getCurrentPlayAweme())) {
            str2 = "story";
        } else {
            str2 = "post";
        }
        c188727au.LJIIIZ("story_type", str2);
        c188727au.LJIIIZ("group_id", aweme.getGroupId());
        InsightsEligibilityStatus eligibilityStatus = aweme.getInsightsEligibilityStatus();
        o.LJIIIZ(eligibilityStatus, "eligibilityStatus");
        final String eventParam = eligibilityStatus.getEventParam();
        if (eventParam != null) {
            c188727au.LJI("button_status", eventParam);
        }
        FMX.LJIIL("analytics_banner_show", c188727au.LIZ);
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append(quantityString);
        LIZ.append(string);
        LIZ.append(" ");
        LIZ.append(quantityString2);
        textView.setText(X1D.LIZIZ(LIZ));
        LJLIL(aweme);
        C16880lQ.LJIIJ(new View.OnClickListener() { // from class: X.Lnc
            @Override // android.view.View.OnClickListener
            public final void onClick(View view) {
                DetailFragmentPanel.LJJJJI(DetailFragmentPanel.this, aweme, LJIJJLI, eventParam);
            }
        }, this.LLIIII);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void handleAwemeDeleteChange(int i, boolean z) {
        Aweme item = this.mAdapter.getItem(i);
        if (getUserVisibleHint()) {
            if (z) {
                String LJJLIL = LJJLIL();
                String str = BaseListFragmentPanel.TAG;
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append("allowAwemeChangeForFirstTime:");
                LIZ.append(z);
                LIZ.append(",aid:");
                LIZ.append(LJJLIL);
                C36922EeM.LIZLLL(4, str, X1D.LIZIZ(LIZ));
                if (!TextUtils.isEmpty(LJJLIL) && (item == null || !TextUtils.equals(LJJLIL, item.getAid()))) {
                    C36922EeM.LIZLLL(4, str, "allowAwemeChangeForFirstTime->getAid is not null");
                    return;
                }
            }
            LNH.LIZLLL((ActivityC45651qj) this.activity, item);
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void hideShareStayHomeGuide(long j, long j2) {
        InterfaceC57312Mt currentFeedUGView = getCurrentFeedUGView();
        if (currentFeedUGView != null && currentFeedUGView.getRootView() != null && j >= 0) {
            this.LJLJL.postDelayed(new ARunnableS12S0101000_8(0, currentFeedUGView, 8), j);
        }
        InterfaceC82683Wch interfaceC82683Wch = this.LJLJJLL;
        if (interfaceC82683Wch != null && interfaceC82683Wch.isShowing() && j2 >= 0) {
            this.LJLJL.postDelayed(new ARunnableS14S0101000_10(2, this, 0), j2);
        }
        C80X.LJI.removeCallbacks(C80X.LJIIIIZZ);
        C80X.LJFF = null;
        C80X.LJ = null;
    }

    @Override // X.InterfaceC223218pR
    public void j0(List<Aweme> list, boolean z) {
        Object LIZJ;
        C80796VnM c80796VnM;
        C80796VnM c80796VnM2;
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onLoadMoreResult] ");
        if (list != null) {
            LIZJ = Integer.valueOf(list.size());
        } else {
            LIZJ = Q7L.LIZJ("null, hasMore:", z);
        }
        LIZ.append(LIZJ);
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
        C55313LnJ c55313LnJ = this.LLJILLL;
        if (c55313LnJ != null && !this.LLJILJILJ) {
            c55313LnJ.LJ = false;
        }
        if (!isViewValid() || C79004UzY.LJJIFFI(list)) {
            return;
        }
        this.LJLLI = z;
        ILoadMoreAbility iLoadMoreAbility = this.loadMoreAbility;
        if (iLoadMoreAbility != null) {
            if (!z) {
                iLoadMoreAbility.showLoadMoreEmpty();
            } else {
                iLoadMoreAbility.resetLoadMoreState();
            }
        }
        if (!this.LLJILJILJ) {
            if (ListProtector.get(list, 0) instanceof FollowFeed) {
                list = LWM.LIZIZ.LJIIJ(list);
            } else if ("homepage_fresh".equalsIgnoreCase(getEventType())) {
                list = LJJLIIJ(list);
            }
        }
        List<Aweme> LJJLIIIJLJLI = LJJLIIIJLJLI(list);
        this.mAdapter.LJLLL = z;
        if (this.LLJILJILJ && (c80796VnM2 = this.mViewPager) != null) {
            c80796VnM2.LLL = false;
        }
        LJLLJ(LJJLIIIJLJLI, true);
        if (this.LLJILJILJ && (c80796VnM = this.mViewPager) != null) {
            c80796VnM.LLL = true;
        }
        int LJJI = C78996UzQ.LJJI(this.mAdapter.getItem(this.mViewPager.getCurrentItem()), LJJLIIIJLJLI);
        if (!this.LLIIIZ && this.LJLJI) {
            this.mViewPager.post(new ARunnableS5S0101000_1(this, LJJI, 3));
        }
        this.LLIIIZ = false;
        this.LJLJI = false;
        LJLJL();
        if (isImpressionEnabled()) {
            C2US.LIZJ(this.mImpressionKey).LIZIZ();
        }
        ICastingAbility iCastingAbility = this.castingAblity;
        if (iCastingAbility == null) {
            return;
        }
        iCastingAbility.EX(LJJLIIIJLJLI);
    }

    @Override // X.InterfaceC223218pR
    public void jh(List<Aweme> list, boolean z) {
        boolean z2;
        int LJJJJLI;
        Object obj;
        if (!isViewValid()) {
            this.LJLIL.LJIIL("[onLoadLatestResult] view invalid");
            return;
        }
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        this.mAdapter.LJLLLL = z;
        String from = this.param.getFrom();
        if (!z && !this.LLIIIZ && !TextUtils.equals("from_mix_detail_item", from) && !TextUtils.equals("from_profile_mix_list", from) && !TextUtils.equals("from_search_activity", from) && !TextUtils.equals("from_search_official_card", from)) {
            if (getUserVisibleHint()) {
                C5S1 c5s1 = new C5S1(this.activity);
                c5s1.LIZJ(R.string.ect);
                c5s1.LJ();
                if (this.mViewPager.getCurrentItem() > 1) {
                    this.mViewPager.LJJJ(0, false);
                } else {
                    this.mViewPager.setCurrentItemWithDefaultVelocity(0);
                }
            }
        } else {
            if (this.LLIIIZ && !C79004UzY.LJJIFFI(list) && this.mAdapter.getCount() != list.size()) {
                z2 = true;
            } else {
                z2 = false;
            }
            setPageChangeByLatest(z2);
            if (TextUtils.equals("from_rn_search", from) || TextUtils.equals("from_visual_search_result", from)) {
                LJJJJLI = LJJJJLI(0, list);
            } else if (TextUtils.equals("from_chat", from)) {
                LJJJJLI = LJJJJLI(1, list);
            } else if (TextUtils.equals("from_auto_message", from)) {
                LJJJJLI = LJJJJLI(1, list);
            } else if (TextUtils.equals("from_chat_inner_cell", from)) {
                LJJJJLI = LJJJJLI(1, list);
            } else if (TextUtils.equals("from_following_sky_light", from)) {
                LJJJJLI = LJJJJLI(1, list);
            } else if (TextUtils.equals("from_search_activity", from)) {
                LJJJJLI = LJJJJLI(1, list);
            } else if (TextUtils.equals("from_search_official_card", from)) {
                LJJJJLI = LJJJJLI(1, list);
            } else if (TextUtils.equals("from_mix_detail_item", from) || TextUtils.equals("from_profile_mix_list", from)) {
                this.mCurIndex = this.mViewPager.getCurrentItem();
                LJJJJLI = LJJJJLI(0, list);
                this.mCurIndex = LJJJJLI;
            } else {
                LJJJJLI = -1;
            }
            LJLLJ(list, true);
            if (!this.LLIIIZ) {
                this.mViewPager.post(new RunnableC55316LnM(this, from, LJJJJLI));
            }
        }
        this.LLIIIZ = false;
        if (isImpressionEnabled()) {
            C2US.LIZJ(this.mImpressionKey).LIZIZ();
        }
        C8RO c8ro = this.LJLIL;
        StringBuilder sb = new StringBuilder("[onLoadLatestResult] ");
        if (list != null) {
            obj = Integer.valueOf(list.size());
        } else {
            obj = "null, hasMore:" + z;
        }
        sb.append(obj);
        c8ro.LJIIIIZZ(sb.toString());
    }

    @Override // X.InterfaceC81205Vtx
    public void jk(float f, int i) {
        View view = this.LLIIII;
        if (view != null && view.getVisibility() == 0) {
            LJLLI(this.LLIIII, this.LJLJLJ, (int) (i * f));
        }
    }

    @Override // X.InterfaceC178496zV
    public final void l(String str, Aweme aweme) {
        LJLJI(0, aweme, str, "bottom_reply_comment_box", true);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public final void onAttach(Activity activity, Fragment fragment) {
        super.onAttach(activity, fragment);
        if (getParentScope() != null) {
            C55096Ljo.LJIIJJI(getParentScope(), this, DetailBottomLegacyAbility.class, null);
            C55096Ljo.LJIIJJI(getParentScope(), this, DetailLegacyAbility.class, null);
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void onPlayProgressChange(String str, float f) {
        super.onPlayProgressChange(str, f);
        if (!this.LLIZ.getAndSet(true)) {
            C57022Lq.LIZ.LJLIL.post(new ARunnableS9S0101000_5(3, this, 6));
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public void onProgressUpdated(String str, int i) {
        Aweme currentAweme = getCurrentAweme();
        if (i == 3 && !this.LLJ && this.sharePanelGuideManager != null) {
            if (currentAweme == null) {
                return;
            }
            this.LLJ = true;
            boolean LIZIZ = C4LD.LIZIZ.LIZIZ(currentAweme, getCurrentFeedUGView());
            if (this.sharePanelGuideManager.LIZ(this.param.isMyProfile(), currentAweme, this.activity, getCurrentFeedUGView()) && LIZIZ) {
                currentAweme.getAid();
                LLIIIILZ("play_3s");
            }
        }
        String awemeId = currentAweme.getAid();
        o.LJIIIZ(awemeId, "awemeId");
        ((HashMap) C95C.LIZ).put(awemeId, Integer.valueOf(i));
    }

    /* JADX WARN: Type inference failed for: r0v60, types: [X.34b] */
    /* JADX WARN: Type inference failed for: r2v9, types: [X.8aR] */
    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51687KQh, X.AbstractC51688KQi, X.KRB
    public void onViewCreated(View view, Bundle bundle) {
        ViewTreeObserver viewTreeObserver;
        KUR kp0;
        InterfaceC55336Lng helper;
        super.onViewCreated(view, bundle);
        EventBus.LIZJ().LJIILJJIL(this);
        boolean z = false;
        if (C52535Kjb.LIZ()) {
            this.LLILZIL = new InterfaceC192527h2(new AObjectS52S0101000_7(0, this, 3)) { // from class: X.8aR
                public final InterfaceC65784Pro<C76800UCe> LJLIL;

                {
                    this.LJLIL = r1;
                }

                @Override // X.AnonymousClass885
                public final void id(String str, Boolean bool, EnumC2063587z enumC2063587z) {
                    C192517h1.LIZ(this, str, bool.booleanValue(), enumC2063587z);
                }

                @Override // X.InterfaceC192527h2
                public final void u8(String id, boolean z2, EnumC2063587z source) {
                    o.LJIIIZ(id, "id");
                    o.LJIIIZ(source, "source");
                    if (source == EnumC2063587z.MUTATION) {
                        this.LJLIL.invoke();
                    }
                }
            };
            if (C52535Kjb.LIZIZ()) {
                AwemeCollectionAgent.LJIILLIIL().LJFF(this.LLILZLL);
            } else {
                AwemeCollectionAgent.LJIILLIIL().LJI(this.LLILZIL);
            }
        }
        bindView(view);
        getContext();
        try {
            z = C2NU.LIZ.LIZIZ();
        } catch (Exception unused) {
        }
        if (!z && !C86951YAp.LIZIZ.LJ() && !this.param.getFrom().equals("from_publishing_video")) {
            C5S1 c5s1 = new C5S1(this.activity);
            c5s1.LIZJ(R.string.img);
            c5s1.LJ();
        } else {
            IPageStateAbility iPageStateAbility = this.pageStateAbility;
            if (iPageStateAbility != null && (kp0 = iPageStateAbility.kp0()) != null) {
                KUY LIZ = KUY.LIZ(this.activity);
                C50258Jny c50258Jny = new C50258Jny(LIZ.LIZ);
                c50258Jny.LIZ(R.string.tbz);
                C50259Jnz c50259Jnz = c50258Jny.LIZ;
                C51612KNk c51612KNk = new C51612KNk(LIZ.LIZ);
                c51612KNk.setLayoutParams(new FrameLayout.LayoutParams(-1, -1));
                c51612KNk.setStatus(c50259Jnz);
                LIZ.LIZLLL = c51612KNk;
                C50258Jny c50258Jny2 = new C50258Jny(LIZ.LIZ);
                c50258Jny2.LIZ(R.string.ht9);
                C50259Jnz c50259Jnz2 = c50258Jny2.LIZ;
                C51612KNk c51612KNk2 = new C51612KNk(LIZ.LIZ);
                c51612KNk2.setLayoutParams(new FrameLayout.LayoutParams(-1, -1));
                c51612KNk2.setStatus(c50259Jnz2);
                LIZ.LIZJ = c51612KNk2;
                kp0.setBuilder(LIZ);
            }
            C16880lQ.LJIIJ(new ACListenerS29S0100000_9(this, 16), this.LLFII);
            if (!LLFZ()) {
                this.LLIZ.set(true);
                DetailBottomAbility LJL = LJL();
                if (LJL != null) {
                    LJL.Uk0();
                }
            }
            if (C72Y.LIZ()) {
                this.LJLIL.LJII("enable detail page optimize expriment", "seekbar");
                if (this.LLILLIZIL == null) {
                    C55537Lqv c55537Lqv = new C55537Lqv(new WeakReference(getContext()), "detail_feed_video_seek_bar", new ARunnableS12S0101000_8(2, this, 33));
                    this.LLILLIZIL = c55537Lqv;
                    c55537Lqv.LIZLLL();
                    this.LLILLIZIL.LJ(new ARunnableS13S0101000_9(2, this, 6));
                }
            } else {
                this.LJLIL.LJII("disable detail page optimize expriment", "seekbar");
                View view2 = this.LLFZ;
                if (view2 == null) {
                    view2 = this.LLFII;
                }
                C55366LoA LIZIZ = C55366LoA.LIZIZ((ViewGroup) view2, this, this.LLIFFJFJJ);
                this.LLIIIL = LIZIZ;
                this.LLIFFJFJJ.setSeekBarView(LIZIZ.getVideoSeekBar());
                this.LLIFFJFJJ.setSeekBarController(this.LLIIIL.getVideoSeekBarController());
            }
            this.mViewPager.LJI(new C55308LnE(this));
            if (C72Y.LIZ() && (viewTreeObserver = this.mViewPager.getViewTreeObserver()) != null && viewTreeObserver.isAlive()) {
                viewTreeObserver.addOnDrawListener(new ViewTreeObserverOnDrawListenerC55314LnK(this));
            }
        }
        this.LJLJLJ = view;
        IDiS271S0100000_9 iDiS271S0100000_9 = new IDiS271S0100000_9(this, 0);
        this.LJLJLLL = iDiS271S0100000_9;
        this.mViewPager.LJI(iDiS271S0100000_9);
        InterfaceC36571c5 interfaceC36571c5 = (ActivityC45651qj) this.activity;
        if ((interfaceC36571c5 instanceof InterfaceC55286Lms) && (helper = ((InterfaceC55286Lms) interfaceC36571c5).getHelper()) != null) {
            helper.LIZ(new IDiS271S0100000_9(this, 1));
        }
        this.sharePanelGuideManager = new AnonymousClass839(this);
        this.LJLZ = new C55326LnW(this);
        if ((this.activity instanceof C34X) && Z9N.LIZIZ.LLL(getEventType())) {
            if (this.LJZI == null) {
                this.LJZI = new GHC() { // from class: X.34b
                    @Override // X.GHC
                    public final boolean onKeyDown(int i, KeyEvent keyEvent) {
                        C2MA curViewHolder;
                        DetailFragmentPanel detailFragmentPanel = DetailFragmentPanel.this;
                        detailFragmentPanel.getClass();
                        if (keyEvent == null || 4 != i || (curViewHolder = detailFragmentPanel.getCurViewHolder()) == null || !curViewHolder.R7()) {
                            return false;
                        }
                        return curViewHolder.I8();
                    }
                };
            }
            ((C34X) this.activity).registerActivityOnKeyDownListener(this.LJZI);
        }
        this.mAdapter.LJIJ(new DataSetObserver() { // from class: X.35d
            @Override // android.database.DataSetObserver
            public final void onChanged() {
                super.onChanged();
                C2MA curViewHolder = DetailFragmentPanel.this.getCurViewHolder();
                if (curViewHolder instanceof C8XZ) {
                    C8YC.LIZ((C8XZ) curViewHolder).setState(C82D.LJLIL);
                }
            }
        });
        LKF splitContainer = getSplitContainer();
        if (splitContainer != null) {
            splitContainer.LIZ(this);
            splitContainer.LJIIL(this);
        }
        HashMap<String, String> map = this.param.getLogExtra();
        String from = getFrom();
        String hotEnterMethod = this.param.getHotEnterMethod();
        o.LJIIIZ(map, "map");
        try {
            if (C55312LnI.LIZIZ(from, hotEnterMethod, "", "")) {
                C55312LnI.LIZ(map);
                if (!C55312LnI.LJFF) {
                    long currentTimeMillis = System.currentTimeMillis();
                    C188727au c188727au = new C188727au();
                    c188727au.LJ(currentTimeMillis - C55312LnI.LIZ, "duration");
                    c188727au.LIZLLL(C55312LnI.LIZIZ, "page_size");
                    c188727au.LJIIIZ("card_status", C55312LnI.LIZJ);
                    c188727au.LJIIIZ("click_area", C55312LnI.LIZLLL);
                    c188727au.LIZLLL(C55312LnI.LJ, "single_player");
                    c188727au.LJIIIZ("enter_from", hotEnterMethod);
                    FMX.LJIIL("rd_tiktokec_mall_video_page_created", c188727au.LIZ);
                    C55312LnI.LJFF = true;
                }
            }
        } catch (Exception unused2) {
        }
    }

    public static void LJLLI(View view, View view2, int i) {
        if (view != null && view2 != null) {
            if (view2.getWidth() == 0) {
                view2.post(new ARunnableS11S0201000_8(view, view2, i, 0));
                return;
            }
            ViewGroup.LayoutParams layoutParams = view.getLayoutParams();
            if (i == 0) {
                layoutParams.width = -1;
            } else {
                layoutParams.width = view2.getWidth() - i;
            }
            view.setLayoutParams(layoutParams);
        }
    }

    public final void LLIIIZ(int i, String str, Aweme aweme) {
        String str2;
        ShareInfo shareInfo;
        if (AnonymousClass803.LIZ() || IW7.LIZLLL() != 0) {
            if (C80X.LJII(aweme, getCurrentFeedUGView().LJIJI(), i, str)) {
                if (i == 1) {
                    if (aweme == null || (shareInfo = aweme.getShareInfo()) == null || (str2 = shareInfo.getButtonDisplayStrategySource()) == null) {
                        str2 = "";
                    }
                } else {
                    str2 = "loop2";
                }
                LLIIIILZ(str2);
                if (i == 2) {
                    String LJJLIIIIJ = C44384HbQ.LJJLIIIIJ();
                    C198517qh c198517qh = new C198517qh();
                    c198517qh.LIZ.put("awe_share_guide_type", LJJLIIIIJ);
                    FUA.LIZJ("awe_share_guide_type_log", c198517qh.LJ());
                    return;
                }
                return;
            }
            if (i != 2) {
                return;
            }
            C198517qh c198517qh2 = new C198517qh();
            c198517qh2.LIZ.put("awe_share_guide_type", LiveGiftNewGifterBadgeSetting.DEFAULT);
            FUA.LIZJ("awe_share_guide_type_log", c198517qh2.LJ());
        }
    }

    public static void LJJJJI(DetailFragmentPanel detailFragmentPanel, Aweme aweme, boolean z, String str) {
        String LIZIZ;
        String str2;
        detailFragmentPanel.getClass();
        AnalyticsSDUISetting.H5AnalyticsInfoStructJsonModel LIZ = AnalyticsSDUISetting.LIZ();
        if (AG9.LIZ() && LIZ != null) {
            StringBuilder LIZ2 = X1D.LIZ();
            LIZ2.append(LIZ.detailEntryURL);
            LIZ2.append(aweme.getAid());
            LIZ2.append(LIZ.queryParams);
            LIZ2.append("&status_bar_height=");
            LIZ2.append(C60191Njn.LIZ(44));
            LIZIZ = X1D.LIZIZ(LIZ2);
        } else {
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("https://inapp.tiktokv.com/web-inapp/analytics/video/");
            LIZ3.append(aweme.getAid());
            LIZ3.append("?hide_nav_bar=1&__status_bar=true&should_full_screen=1&status_bar_height=");
            LIZ3.append(C60191Njn.LIZ(44));
            LIZIZ = X1D.LIZIZ(LIZ3);
        }
        C188727au c188727au = new C188727au();
        c188727au.LJIIIZ("enter_from", "banner_more_data");
        c188727au.LJIIIZ("enter_method", "click_button");
        c188727au.LIZLLL(z ? 1 : 0, "is_with_views");
        if (C54838Lfe.LJIIZILJ(detailFragmentPanel.getCurrentPlayAweme())) {
            str2 = "story";
        } else {
            str2 = "post";
        }
        c188727au.LJIIIZ("story_type", str2);
        c188727au.LJIIIZ("group_id", aweme.getGroupId());
        if (str != null) {
            c188727au.LJI("button_status", str);
        }
        FMX.LJIIL("click_insight", c188727au.LIZ);
        InsightsEligibilityStatus insightsEligibilityStatus = aweme.getInsightsEligibilityStatus();
        if (insightsEligibilityStatus.isIneligible()) {
            if (C55393Lob.LIZ[insightsEligibilityStatus.ordinal()] != 1) {
                C26045AKb c26045AKb = new C26045AKb(detailFragmentPanel.getViewRoot());
                c26045AKb.LJIIIIZZ(R.string.e_6);
                c26045AKb.LJIIJ();
                return;
            } else {
                C26045AKb c26045AKb2 = new C26045AKb(detailFragmentPanel.getViewRoot());
                c26045AKb2.LJIIIIZZ(R.string.e_5);
                c26045AKb2.LJIIJ();
                return;
            }
        }
        C188727au c188727au2 = new C188727au();
        c188727au2.LJIIIZ("enter_from", "banner_more_data");
        c188727au2.LJIIIZ("group_id", aweme.getGroupId());
        FMX.LJIIL("enter_insight_detail", c188727au2.LIZ);
        if (AG9.LIZ() && LIZ != null) {
            SmartRouter.buildRoute(detailFragmentPanel.getContext(), LIZIZ).open();
        } else {
            ShareDependService.LIZ.getClass();
            C44498HdG.LIZ().LJJIJL(detailFragmentPanel.getContext(), LIZIZ);
        }
    }

    public final void LJLJJL(int i, int i2, Aweme aweme, String str) {
        if (getCurFeedViewHolder() == null && i2 < 3) {
            postDelayed(new RunnableC55325LnV(this, aweme, str, i, i2), 50L);
        } else {
            showCommentLikeFragment(aweme, str, i);
        }
    }

    public final void LJLJI(int i, Aweme aweme, String str, String str2, boolean z) {
        if (getCurFeedViewHolder() == null && i < 3) {
            postDelayed(new RunnableC55324LnU(this, aweme, str, i, str2, z), 50L);
        } else {
            showCommentFragment(LJJLJ(), str, this.param.isCommentForceOpenReply(), false, this.param.getNeedAutoLikeComment(), z, null, this.param.getCommentUserFollowStatus(), this.param.getCommentNotice(), str2, isNoPermissionVideo(LJJLJ()));
        }
    }

    public final void LJLJJLL(C2MA c2ma, boolean z, int i, String str, boolean z2) {
        int i2;
        String str2;
        boolean z3;
        String str3;
        if (c2ma != null && c2ma.getAweme() != null) {
            if (getEventType().equals("opus")) {
                if (this.param.isMyProfile()) {
                    getContext();
                    FMX.LJII("comment", 0L, "personal_homepage", LJJLIL());
                } else {
                    getContext();
                    FMX.LJII("comment", 0L, "others_homepage", LJJLIL());
                }
            } else {
                getContext();
                FMX.LJII("comment", 0L, getEventType(), LJJLIL());
            }
            boolean z4 = true;
            String enterFrom = getEnterFrom(true);
            String searchResultId = this.param.getSearchResultId();
            if (TextUtils.isEmpty(searchResultId)) {
                searchResultId = C227768wm.LIZIZ(c2ma.getAweme());
            }
            if (LJJLJ() != null) {
                Aweme LJJLJ = LJJLJ();
                if (LJJLJ.getBottomBarModel() == null) {
                    z4 = false;
                }
                i2 = C222578oP.LJFF(LJJLJ.getAuthor());
                C54838Lfe.LJIIZILJ(LJJLJ);
                C54838Lfe.LJI(LJJLJ);
            } else {
                i2 = -1;
                z4 = false;
            }
            String str4 = "";
            if (getCurrentAweme() == null || getCurrentAweme().playlist_info == null) {
                str2 = "";
            } else {
                str2 = getCurrentAweme().playlist_info.getMixId();
            }
            C88545Yp3 c88545Yp3 = C88545Yp3.LIZIZ;
            if (c88545Yp3 != null) {
                z3 = c88545Yp3.isConnected();
                str4 = c88545Yp3.LJIILJJIL();
            } else {
                z3 = false;
            }
            C1798774d c1798774d = new C1798774d();
            c1798774d.LIZLLL = enterFrom;
            c1798774d.LJJLIIIJJIZ = "click_bottom_comment_tab";
            if (z) {
                str3 = "close_text_button_send";
            } else {
                str3 = "button_send";
            }
            c1798774d.LJLL = str3;
            c1798774d.LJJLL = enterFrom;
            c1798774d.LJJZ = C2S6.LIZ(getContext()).getPreviousPagePosition();
            c1798774d.LJJZZI = z4;
            c1798774d.LJJIIZ(c2ma.getAweme());
            c1798774d.LJJLIIIJJI = String.valueOf(this.LLJJIII);
            c1798774d.LJJIL = this.param.getSearchId();
            c1798774d.LJJIFFI = searchResultId;
            c1798774d.LJJLJLI = str2;
            c1798774d.LLD = getParam().getCategoryName();
            c1798774d.LJLJLLL = i2;
            c1798774d.LLFZ = i;
            c1798774d.LJJJJJL = this.param.getVideoCollectionId();
            c1798774d.LJJJJL = this.param.getVideoCollectionName();
            c1798774d.LLILLJJLI = z3;
            c1798774d.LLILLL = str4;
            c1798774d.LIZ(K02.LIZIZ("post_comment", c2ma.getAweme(), enterFrom));
            c1798774d.LIZ(C2KM.LIZIZ(getPreviousPage(), getFromGroupId()));
            V0N.LJIIIZ(c1798774d, LJJLJ());
            c1798774d.LIZJ(z2 ? 1 : 0, "is_recommendation");
            C220488l2.LIZIZ.LJII(LJJLJ(), c1798774d);
            C222578oP.LIZIZ(c1798774d, LJJLJ(), null, null, null);
            c1798774d.LJIILIIL();
            final Aweme LJJLJ2 = LJJLJ();
            if (LJJLJ2 == null || !LJJLJ2.isAd() || !C19N.LJ("promote_comment_emotion_function", false)) {
                return;
            }
            CommentEmotionCheck LJ = PitayaServiceManager.LJFF().LJ();
            if (!LJ.LIZLLL()) {
                return;
            }
            LJ.LIZ(str, new InterfaceC183977Jx() { // from class: X.74c
                @Override // X.InterfaceC183977Jx
                public final void LIZ(String str5, Integer num, Double d) {
                    int intValue;
                    double doubleValue;
                    C58655N0h LIZLLL = C58704N2e.LIZLLL("draw_ad", "comment_emotion_recognition", Aweme.this.getAwemeRawAd());
                    if (str5.isEmpty()) {
                        str5 = "err_1";
                    }
                    LIZLLL.LIZIZ(str5, "is_neg_comment_version");
                    if (num == null) {
                        intValue = 0;
                    } else {
                        intValue = num.intValue();
                    }
                    LIZLLL.LIZIZ(Integer.valueOf(intValue), "is_neg_comment_label");
                    if (d == null) {
                        doubleValue = LivesdkLinkmicFloatWindowOptimizeSetting.CORNER_RADIUS_PX;
                    } else {
                        doubleValue = d.doubleValue();
                    }
                    LIZLLL.LIZIZ(Double.valueOf(doubleValue), "is_neg_comment_prob");
                    LIZLLL.LJI();
                }
            }, LJ.LIZIZ());
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public AbstractC55082Lja createFeedPagerAdapter(Context context, LayoutInflater layoutInflater, InterfaceC72642tA<C50420Jqa> interfaceC72642tA, Fragment fragment, View.OnTouchListener onTouchListener, BaseFeedPageParams baseFeedPageParams, InterfaceC2302191t interfaceC2302191t) {
        boolean z = true;
        if (fragment != null && fragment.getArguments() != null) {
            z = fragment.getArguments().getBoolean("im_support_duplicate", true);
        }
        if (C79043V0l.LJIILJJIL(getFrom()) && z) {
            return new AbstractC55082Lja(context, layoutInflater, interfaceC72642tA, fragment, onTouchListener, baseFeedPageParams, interfaceC2302191t) { // from class: X.3DM
                public final ArrayList<Aweme> LLI;

                @Override // X.AbstractC55082Lja
                public final String LJJIJLIJ() {
                    return "forward_feed";
                }

                @Override // X.AbstractC55082Lja
                public final C55136LkS LJJJ() {
                    return new C55136LkS(C3DN.LJLIL);
                }

                @Override // X.AbstractC55082Lja, X.InterfaceC55062LjG
                public final List<Aweme> Q8() {
                    return this.LLI;
                }

                @Override // X.AbstractC55082Lja, X.InterfaceC55062LjG
                public final int LJI(String str) {
                    boolean LJ;
                    Iterator<Aweme> it = this.LLI.iterator();
                    int i = 0;
                    while (it.hasNext()) {
                        Aweme next = it.next();
                        if (next.isForwardAweme()) {
                            LJ = o.LJ(C78886Uxe.LJIILIIL(next.getForwardItem()), str);
                        } else {
                            LJ = o.LJ(C78886Uxe.LJIILIIL(next), str);
                        }
                        if (LJ) {
                            return i;
                        }
                        i++;
                    }
                    return -1;
                }

                @Override // X.AbstractC55082Lja, androidx.viewpager.widget.PagerAdapter
                public final int LJIIL(Object any) {
                    o.LJIIIZ(any, "any");
                    C2MA LJJJI = AbstractC55082Lja.LJJJI((View) any);
                    int count = getCount();
                    for (int i = 0; i < count; i++) {
                        Aweme LJJIZ = LJJIZ(i);
                        if (LJJJI != null && LJJIZ != null && C38354F3m.LIZJ(LJJIZ.getAid(), LJJJI.O1().getAid())) {
                            return i;
                        }
                    }
                    return -2;
                }

                @Override // X.AbstractC55082Lja, X.AbstractC48746JBe
                public final int LJJIII(int i) {
                    Aweme item = getItem(i);
                    if (item != null && item.isForwardAweme() && item.getForwardItem() != null) {
                        if (item.getForwardItem().getAwemeType() == 2) {
                            return 1;
                        }
                        return 0;
                    }
                    return super.LJJIII(i);
                }

                @Override // X.AbstractC55082Lja
                public final void LJJIJL(int i) {
                    if (i < 0 || i >= getCount()) {
                        return;
                    }
                    ListProtector.remove(this.LLI, i);
                    super.LJJIJL(i);
                }

                @Override // X.AbstractC55082Lja
                public final Aweme LJJIZ(int i) {
                    if (i < 0 || i >= getCount()) {
                        return null;
                    }
                    return (Aweme) ListProtector.get(this.LLI, i);
                }

                @Override // X.AbstractC55082Lja, X.InterfaceC55062LjG
                public final void setData(List<? extends Aweme> list) {
                    List list2;
                    this.LLI.clear();
                    ArrayList<Aweme> arrayList = this.LLI;
                    ArrayList arrayList2 = null;
                    if (list != null) {
                        list2 = ORZ.LJLL(list);
                    } else {
                        list2 = null;
                    }
                    UC0.LIZLLL(arrayList, list2);
                    if (list != null) {
                        arrayList2 = new ArrayList();
                        for (Aweme aweme : list) {
                            if (aweme != null) {
                                if (aweme.isForwardAweme()) {
                                    arrayList2.add(aweme.getForwardItem());
                                } else {
                                    arrayList2.add(aweme);
                                }
                            }
                        }
                    }
                    super.setData(arrayList2);
                }

                /* JADX WARN: 'super' call moved to the top of the method (can break code semantics) */
                {
                    super(context, layoutInflater, interfaceC72642tA, fragment, onTouchListener, baseFeedPageParams, interfaceC2302191t);
                    o.LJIIIZ(context, "context");
                    o.LJIIIZ(layoutInflater, "inflater");
                    o.LJIIIZ(interfaceC72642tA, "listener");
                    o.LJIIIZ(fragment, "fragment");
                    o.LJIIIZ(onTouchListener, "tapTouchListener");
                    o.LJIIIZ(baseFeedPageParams, "baseFeedPageParams");
                    o.LJIIIZ(interfaceC2302191t, "iHandlePlay");
                    this.LLI = new ArrayList<>();
                }
            };
        }
        return new C3DO(context, layoutInflater, interfaceC72642tA, fragment, onTouchListener, baseFeedPageParams, interfaceC2302191t);
    }
}
