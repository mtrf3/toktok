package com.ss.android.ugc.aweme.feed.panel;

import X.AbstractC39351FcR;
import X.AbstractC55082Lja;
import X.ActivityC45651qj;
import X.AnonymousClass804;
import X.AnonymousClass901;
import X.C00F;
import X.C10K;
import X.C116694i1;
import X.C15070iV;
import X.C16880lQ;
import X.C174036sJ;
import X.C198517qh;
import X.C1A7;
import X.C1DJ;
import X.C221018lt;
import X.C225318sp;
import X.C2305192x;
import X.C247339nF;
import X.C247409nM;
import X.C26045AKb;
import X.C2KB;
import X.C2KJ;
import X.C2KS;
import X.C2MA;
import X.C2NW;
import X.C2OE;
import X.C2TC;
import X.C2U8;
import X.C2US;
import X.C30164Bse;
import X.C30581Hy;
import X.C30605Bzl;
import X.C32777Cth;
import X.C33704DKq;
import X.C33867DQx;
import X.C33963DUp;
import X.C34148Dai;
import X.C34182DbG;
import X.C34186DbK;
import X.C34187DbL;
import X.C34560DhM;
import X.C35010Doc;
import X.C35168DrA;
import X.C35183DrP;
import X.C35199Drf;
import X.C36922EeM;
import X.C36933EeX;
import X.C38958FQs;
import X.C38986FRu;
import X.C38995FSd;
import X.C39412FdQ;
import X.C44384HbQ;
import X.C44938HkM;
import X.C46276IEe;
import X.C46368IHs;
import X.C46373IHx;
import X.C46375IHz;
import X.C46728IVo;
import X.C47242IgQ;
import X.C48714J9y;
import X.C48747JBf;
import X.C49866Jhe;
import X.C4LD;
import X.C50420Jqa;
import X.C52472Kia;
import X.C52563Kk3;
import X.C52649KlR;
import X.C53106Kso;
import X.C53295Kvr;
import X.C53576L0y;
import X.C54029LIj;
import X.C54153LNd;
import X.C54838Lfe;
import X.C54990Li6;
import X.C55040Liu;
import X.C55045Liz;
import X.C55046Lj0;
import X.C55047Lj1;
import X.C55048Lj2;
import X.C55049Lj3;
import X.C55051Lj5;
import X.C55056LjA;
import X.C55059LjD;
import X.C55063LjH;
import X.C55077LjV;
import X.C55096Ljo;
import X.C55206Lla;
import X.C55230Lly;
import X.C55274Lmg;
import X.C55391LoZ;
import X.C55511LqV;
import X.C56186M3i;
import X.C56692Kj;
import X.C56742Ko;
import X.C57022Lq;
import X.C57082Lw;
import X.C57738MlK;
import X.C58152Pz;
import X.C59406NTe;
import X.C5S1;
import X.C62822Ol8;
import X.C63081OpJ;
import X.C73969T1h;
import X.C76800UCe;
import X.C769130d;
import X.C77266UUc;
import X.C78588Usq;
import X.C78895Uxn;
import X.C78996UzQ;
import X.C79004UzY;
import X.C79146V4k;
import X.C80796VnM;
import X.C80X;
import X.C88545Yp3;
import X.C8RO;
import X.C8SG;
import X.C93Z;
import X.C9CC;
import X.C9CI;
import X.C9K4;
import X.DKI;
import X.DXC;
import X.EnumC55203LlX;
import X.FAJ;
import X.FUA;
import X.IDP;
import X.IH1;
import X.ILE;
import X.IW7;
import X.IW8;
import X.InterfaceC220958ln;
import X.InterfaceC223218pR;
import X.InterfaceC2302191t;
import X.InterfaceC36571c5;
import X.InterfaceC51032K1c;
import X.InterfaceC54054LJi;
import X.InterfaceC54327LTv;
import X.InterfaceC55053Lj7;
import X.InterfaceC55055Lj9;
import X.InterfaceC55058LjC;
import X.InterfaceC55062LjG;
import X.InterfaceC55112Lk4;
import X.InterfaceC55235Lm3;
import X.InterfaceC57302Ms;
import X.InterfaceC57312Mt;
import X.InterfaceC58812Sn;
import X.InterfaceC64592gB;
import X.InterfaceC65784Pro;
import X.InterfaceC72642tA;
import X.InterfaceC82683Wch;
import X.InterfaceC88472Yns;
import X.J8V;
import X.JA2;
import X.KNV;
import X.LDC;
import X.LEJ;
import X.LJK;
import X.LNH;
import X.LPO;
import X.LRD;
import X.LU2;
import X.QD3;
import X.SFS;
import X.T16;
import X.WM7;
import X.X1D;
import X.Y01;
import Y.ACallableS112S0100000_9;
import Y.AObjectS147S0100000_9;
import Y.AObserverS58S0101000_2;
import Y.AObserverS76S0100000_8;
import Y.ARunnableS13S0101000_9;
import Y.ARunnableS37S0100000_1;
import Y.ARunnableS4S0201000_1;
import Y.ARunnableS5S0101000_1;
import Y.ARunnableS8S0210000_9;
import Y.AfS0S0300100_5;
import Y.AfS17S0001000_5;
import Y.AfS36S0101000_5;
import Y.AfS50S0200000_1;
import Y.IDRunnableS6S0101000;
import android.app.Activity;
import android.content.ComponentCallbacks2;
import android.content.Context;
import android.os.Bundle;
import android.os.Handler;
import android.text.TextUtils;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.lifecycle.LiveData;
import androidx.lifecycle.ViewModelProviders;
import com.bytedance.android.livesdk.comp.impl.game.GamePartnershipService;
import com.bytedance.android.livesdk.livesetting.performance.LiveGiftNewGifterBadgeSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.enterroom.RequestAudienceApiExperiment;
import com.bytedance.ies.sdk.datachannel.DataChannel;
import com.bytedance.ies.ugc.aweme.commercialize.intelligence.feed.AdReRankServiceManager;
import com.bytedance.mt.protector.impl.collections.ListProtector;
import com.bytedance.mt.protector.impl.string2number.CastLongProtector;
import com.bytedance.tiktok.homepage.mainfragment.HomeTabAbility;
import com.ss.android.ugc.aweme.base.share.ShareInfo;
import com.ss.android.ugc.aweme.casting.api.ICastingAbility;
import com.ss.android.ugc.aweme.commercialize.data.utils.AdSessionPositionHelper;
import com.ss.android.ugc.aweme.commercialize.preview.service.AdsPreviewServiceImpl;
import com.ss.android.ugc.aweme.commercialize.preview.service.IAdsPreviewService;
import com.ss.android.ugc.aweme.experiment.FeedRefreshViewModel;
import com.ss.android.ugc.aweme.feed.adapter.FullFeedPagerAdapter;
import com.ss.android.ugc.aweme.feed.helper.RecFeedShareComponentController;
import com.ss.android.ugc.aweme.feed.interest.viewmodel.InterestViewModel;
import com.ss.android.ugc.aweme.feed.model.Aweme;
import com.ss.android.ugc.aweme.feed.model.AwemeStatisticsBackup;
import com.ss.android.ugc.aweme.feed.model.BaseFeedPageParams;
import com.ss.android.ugc.aweme.feed.panel.FullFeedFragmentPanel;
import com.ss.android.ugc.aweme.homepage.api.msadapt.IMSAdaptionService;
import com.ss.android.ugc.aweme.homepage.msadapt.MSAdaptionService;
import com.ss.android.ugc.aweme.live.LiveOuterService;
import com.ss.android.ugc.aweme.ml.api.SmartFeedLoadMoreService;
import com.ss.android.ugc.aweme.offlinemode.IOfflineModeSwitchAbility;
import com.ss.android.ugc.aweme.profile.model.FollowStatus;
import com.ss.android.ugc.aweme.profile.model.User;
import com.ss.android.ugc.aweme.service.CaptionKevaServiceImpl;
import com.ss.android.ugc.aweme.service.EncourageLoginPopupManager;
import com.ss.android.ugc.aweme.service.ICaptionKevaService;
import com.ss.android.ugc.aweme.service.IEncourageLogInService;
import com.ss.android.ugc.aweme.service.NearbyFeedServiceImpl;
import com.ss.android.ugc.aweme.service.increaseloginnotify.IncreaseLoginNotifyService;
import com.ss.android.ugc.aweme.service.proactive.IProactiveTriggersService;
import com.ss.android.ugc.aweme.service.proactive.ProactiveTriggersService;
import com.ss.android.ugc.aweme.services.BusinessComponentServiceUtils;
import com.ss.android.ugc.aweme.util.CountDownTimer;
import com.ss.android.ugc.feed.platform.panel.loadmorepanel.ILoadMoreAbility;
import com.ss.android.ugc.feed.platform.panel.loadmorepanel.LoadMorePanelComponentTempHelper;
import com.ss.android.ugc.feed.platform.panel.midad.IMidAdAbility;
import com.ss.android.ugc.feed.platform.panel.nonperson.IFeedNonPersonalizedAbility;
import com.ss.android.ugc.feed.platform.panel.pagestate.IPageStateAbility;
import com.ss.android.ugc.feed.platform.panel.player.IPlayerPreloadDataAbility;
import com.ss.android.ugc.feed.platform.panel.player.IResumePlayPanelComponent;
import com.ss.android.ugc.feed.platform.panel.refreshpanel.IRefreshAbility;
import com.zhiliaoapp.musically.R;
import defpackage.e1;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.atomic.AtomicBoolean;
import kotlin.jvm.internal.o;
import org.greenrobot.eventbus.ThreadMode;

/* loaded from: classes10.dex */
public class FullFeedFragmentPanel extends BaseListFragmentPanel implements InterfaceC223218pR<Aweme>, InterfaceC51032K1c, LU2 {
    public static boolean LLIILII;
    public final C8RO LJLIL;
    public ViewGroup LJLILLLLZI;
    public C93Z LJLJI;
    public boolean LJLJJI;
    public C55056LjA LJLJJL;
    public int LJLJJLL;
    public int LJLJL;
    public InterfaceC82683Wch LJLJLJ;
    public final Handler LJLJLLL;
    public String LJLL;
    public C26045AKb LJLLI;
    public InterfaceC54327LTv LJLLILLLL;
    public final AtomicBoolean LJLLJ;
    public boolean LJLLL;
    public volatile boolean LJLLLL;
    public volatile boolean LJLLLLLL;
    public final IProactiveTriggersService LJLZ;
    public final C55046Lj0 LJZ;
    public final C55059LjD LJZI;
    public final C78588Usq LJZL;
    public final AObserverS76S0100000_8 LL;
    public final AObserverS76S0100000_8 LLD;
    public boolean LLF;
    public boolean LLFF;
    public boolean LLFFF;
    public boolean LLFII;
    public boolean LLFZ;
    public boolean LLI;
    public int LLIFFJFJJ;
    public final List<C15070iV<Aweme, Integer>> LLII;
    public final C30164Bse LLIIII;
    public String LLIIIILZ;
    public int LLIIIJ;
    public boolean LLIIIL;
    public boolean LLIIIZ;
    public boolean LLIIJI;
    public boolean LLIIJLIL;
    public ICaptionKevaService LLIIL;

    public void LJJJJJL() {
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final boolean isDetail() {
        return false;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final boolean needShowHotComment() {
        return false;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public final void onPause() {
        super.onPause();
        tryToHideStayHomeGuide(this.activity, getCurrentAweme(), 0L, 0L);
        if (isRecommendFeed()) {
            CountDownTimer countDownTimer = C2OE.LJIILLIIL;
            if (countDownTimer != null) {
                countDownTimer.cancel();
            }
            IncreaseLoginNotifyService.LJI().LIZIZ();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.InterfaceC57288Me4
    public final void onResponseSuccess(FollowStatus followStatus) {
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void swipe(int i) {
    }

    public final boolean LJJJJL() {
        InterfaceC55055Lj9 interfaceC55055Lj9;
        ComponentCallbacks2 componentCallbacks2 = this.activity;
        if ((componentCallbacks2 instanceof InterfaceC55058LjC) && ((InterfaceC55058LjC) componentCallbacks2).isDuoDualMode()) {
            return false;
        }
        if (this.activity != null && LJJLI() != null) {
            interfaceC55055Lj9 = C57738MlK.LIZIZ.LIZLLL(LJJLI(), getCurrentAweme());
        } else {
            interfaceC55055Lj9 = null;
        }
        C56186M3i LIZIZ = C77266UUc.LIZIZ.getRelationService().LIZIZ(LJJLI(), getCurrentAweme(), new Bundle());
        if (this.activity != null && ((CP() || LJJLIIIJLJLI() || LJJLIIIJLLLLLLLZ() || LJJLIIIJL()) && isActive() && KNV.LJFF((ActivityC45651qj) this.activity, "page_feed"))) {
            BusinessComponentServiceUtils.getBusinessBridgeService().getClass();
            if (LEJ.LIZ().canResumePlay() && !RecFeedShareComponentController.LJLLL && ((interfaceC55055Lj9 == null || !interfaceC55055Lj9.LIZIZ()) && (LIZIZ == null || !LIZIZ.LJFF.LJLJJI))) {
                return false;
            }
        }
        return true;
    }

    public final void LJJJJLI() {
        InterfaceC58812Sn interfaceC58812Sn = this.mCheckLoadMoreListener;
        if (interfaceC58812Sn != null) {
            interfaceC58812Sn.Lf();
        }
    }

    public final int LJJJLZIJ() {
        int i = C34560DhM.LIZ;
        int i2 = 0;
        if (((Boolean) C34148Dai.LIZIZ.getValue()).booleanValue()) {
            C62822Ol8 c62822Ol8 = C34148Dai.LIZLLL;
            boolean z = true;
            if (((Boolean) c62822Ol8.getValue()).booleanValue() || ((Boolean) C34148Dai.LJ.getValue()).booleanValue() || ((Boolean) C34148Dai.LJFF.getValue()).booleanValue() || ((Boolean) C34148Dai.LJI.getValue()).booleanValue()) {
                int averageSpeedInKBps = C2NW.LIZ().getAverageSpeedInKBps();
                int LJFF = C2NW.LIZ().LJFF();
                if ((((Boolean) c62822Ol8.getValue()).booleanValue() && LJFF == 2) || ((((Boolean) C34148Dai.LJ.getValue()).booleanValue() && averageSpeedInKBps > ((Number) C34148Dai.LJII.getValue()).intValue()) || ((((Boolean) C34148Dai.LJFF.getValue()).booleanValue() && LJFF == 1) || (((Boolean) C34148Dai.LJI.getValue()).booleanValue() && averageSpeedInKBps < ((Number) C34148Dai.LJIIIIZZ.getValue()).intValue())))) {
                    i = 3;
                }
                if (((Boolean) C34148Dai.LIZJ.getValue()).booleanValue()) {
                    if ((((Boolean) c62822Ol8.getValue()).booleanValue() && LJFF == 2) || (((Boolean) C34148Dai.LJ.getValue()).booleanValue() && averageSpeedInKBps > ((Number) C34148Dai.LJII.getValue()).intValue())) {
                        z = false;
                    }
                    C34148Dai.LIZ = z;
                }
            } else if (((Boolean) C34148Dai.LIZJ.getValue()).booleanValue()) {
                C34148Dai.LIZ = true;
            }
        }
        if (((Boolean) C34148Dai.LJIIIZ.getValue()).booleanValue() && "homepage_hot".equals(getEventType())) {
            int count = this.mAdapter.getCount();
            int i3 = this.mCurIndex;
            int i4 = count - i3;
            if (i4 <= 7 && i4 > i) {
                while (i3 < count) {
                    Aweme item = this.mAdapter.getItem(i3);
                    if (item != null && ((((Boolean) C34148Dai.LJIIJ.getValue()).booleanValue() && (item.getAwemeType() == 4003 || item.getAwemeType() == 4004)) || ((((Boolean) C34148Dai.LJIIJJI.getValue()).booleanValue() && item.isAd()) || ((((Boolean) C34148Dai.LJIIL.getValue()).booleanValue() && item.getAwemeType() == 41) || (((Boolean) C34148Dai.LJIILIIL.getValue()).booleanValue() && item.isLive()))))) {
                        i2++;
                    }
                    i3++;
                }
            }
            i += i2;
        }
        if (i <= 0) {
            return 3;
        }
        return i;
    }

    public final ActivityC45651qj LJJLI() {
        Activity activity = this.activity;
        if (activity instanceof ActivityC45651qj) {
            return (ActivityC45651qj) activity;
        }
        return null;
    }

    public final boolean LJJLIIIJL() {
        if (C54153LNd.LIZJ(this.activity) && C53295Kvr.LIZIZ()) {
            return true;
        }
        return false;
    }

    public final boolean LJJLIIIJLJLI() {
        if (C54153LNd.LIZJ(this.activity)) {
            C54029LIj c54029LIj = C54029LIj.LIZIZ;
            if (c54029LIj.LJJIZ() && !c54029LIj.LJJIJL() && !LJJLIIIJL()) {
                return true;
            }
        }
        return false;
    }

    public final boolean LJJLIIIJLLLLLLLZ() {
        HomeTabAbility homeTabAbility;
        Activity activity = this.activity;
        if ((activity instanceof ActivityC45651qj) && (homeTabAbility = (HomeTabAbility) C55096Ljo.LIZ(C55230Lly.LIZLLL((ActivityC45651qj) activity, null), HomeTabAbility.class, null)) != null && homeTabAbility.xb0() == 1 && NearbyFeedServiceImpl.LJJI().LJI()) {
            return true;
        }
        return false;
    }

    public void LJJZ() {
        IPageStateAbility iPageStateAbility = this.pageStateAbility;
        if (iPageStateAbility != null) {
            iPageStateAbility.NV();
        }
        this.LJLIL.LJIIIIZZ("[showEmptyStatusView]");
    }

    public final void LJL() {
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja != null && abstractC55082Lja.getCount() == LJJJLZIJ()) {
            C2U8.LIZ(new C54990Li6());
        }
        this.mViewPager.post(new ARunnableS13S0101000_9(3, this, 6));
    }

    public final void LJLIIIL() {
        AbstractC55082Lja abstractC55082Lja;
        Aweme item;
        C80796VnM c80796VnM = this.mViewPager;
        if (c80796VnM != null && (abstractC55082Lja = this.mAdapter) != null && (item = abstractC55082Lja.getItem(c80796VnM.getCurrentItem())) != null && item.getUserDigg() == 1) {
            tryToShowStayHomeGuide(this.activity, item);
        }
    }

    @Override // X.LU2
    public final void LLJJL() {
        onInternalEvent(new C50420Jqa(37));
    }

    @Override // X.LU2
    public final void LLJZIJLIL() {
        onInternalEvent(new C50420Jqa(28));
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void checkLiveStatus() {
        boolean z;
        final int i;
        final Aweme item;
        final User author;
        String str;
        long j;
        Aweme item2;
        C53106Kso.LIZ.getClass();
        if (C53106Kso.LIZ() == 3) {
            z = true;
        } else {
            z = false;
        }
        if (z || C53106Kso.LIZIZ()) {
            C52563Kk3.LIZ.getClass();
            int intValue = ((Number) C52563Kk3.LIZIZ.getValue()).intValue();
            int i2 = this.mCurIndex;
            if (i2 > 0 && intValue > 0) {
                Aweme item3 = this.mAdapter.getItem(i2 + intValue);
                if (item3 != null && item3.getAwemeType() == 101) {
                    C36933EeX LJJIFFI = LiveOuterService.LJJJLL().LJJIFFI();
                    Context context = getContext();
                    String eventType = this.param.getEventType();
                    LJJIFFI.getClass();
                    if (context != null && item3.getAuthor() != null) {
                        C38958FQs.LIZJ(context, eventType);
                    }
                }
            }
        }
        if (DKI.LIZ()) {
            if (!this.LJLLLLLL) {
                this.LJLLLL = LJJL();
                this.LJLLLLLL = true;
            }
            if (this.mAdapter == null || !this.LJLLLL) {
                return;
            }
        } else if (this.mAdapter == null || !LJJL()) {
            return;
        }
        if (this.mCurIndex > this.mAdapter.getCount() - 2 || (item = this.mAdapter.getItem((i = this.mCurIndex + 2))) == null || (author = item.getAuthor()) == null) {
            return;
        }
        long j2 = 0;
        if (author.roomId == 0) {
            return;
        }
        ArrayList arrayList = new ArrayList();
        for (int max = Math.max(this.mCurIndex - 5, 0); max <= i + 5; max++) {
            if (max != this.mCurIndex) {
                if (max >= this.mAdapter.getCount() - 1 || (item2 = this.mAdapter.getItem(max)) == null) {
                    break;
                } else if (item2.getAuthor() != null) {
                    arrayList.add(item2.getAuthor());
                }
            }
        }
        if (item.getAwemeType() == 101) {
            if ("homepage_follow".equals(this.param.getEventType())) {
                str = "tiktok_follow_below";
            } else {
                str = "tiktok_video_feed";
            }
        } else {
            str = "tiktok_video_head";
        }
        InterfaceC220958ln liveStateManager = BusinessComponentServiceUtils.getLiveStateManager();
        InterfaceC64592gB interfaceC64592gB = new InterfaceC64592gB() { // from class: X.2PS
            @Override // X.InterfaceC64592gB
            public final void accept(Object obj) {
                FullFeedFragmentPanel fullFeedFragmentPanel = FullFeedFragmentPanel.this;
                Aweme aweme = item;
                int i3 = i;
                User user = author;
                Long l = (Long) obj;
                if ((fullFeedFragmentPanel.getCurrentAweme() != null && fullFeedFragmentPanel.getCurrentAweme().equals(aweme)) || fullFeedFragmentPanel.getCurIndex() >= i3) {
                    return;
                }
                if (l == null) {
                    l = 0L;
                }
                if (!aweme.isLive()) {
                    user.roomId = l.longValue();
                }
                if (!aweme.isLive() || 0 != l.longValue()) {
                    return;
                }
                C2U8.LIZ(new C55045Liz(aweme, fullFeedFragmentPanel.getEventType()));
            }
        };
        C55077LjV c55077LjV = (C55077LjV) liveStateManager;
        c55077LjV.getClass();
        try {
            j = CastLongProtector.parseLong(author.getUid());
        } catch (Exception e) {
            C16880lQ.LLLLIIL(e);
            j = 0;
        }
        long currentTimeMillis = System.currentTimeMillis();
        Long l = (Long) ((HashMap) c55077LjV.LIZLLL).get(Long.valueOf(j));
        if (l != null) {
            j2 = l.longValue();
        }
        if (currentTimeMillis - Long.valueOf(j2).longValue() < C55077LjV.LIZJ()) {
            try {
                interfaceC64592gB.accept(c55077LjV.LJ.get(Long.valueOf(j)));
                return;
            } catch (Exception e2) {
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append("onResult:");
                LIZ.append(Log.getStackTraceString(e2));
                C36922EeM.LIZLLL(2, "LiveStateManager", X1D.LIZIZ(LIZ));
                return;
            }
        }
        StringBuilder sb = new StringBuilder();
        sb.append(author.getUid());
        sb.append(",");
        if (!C79004UzY.LJJIFFI(arrayList)) {
            Iterator it = arrayList.iterator();
            while (it.hasNext()) {
                sb.append(((User) it.next()).getUid());
                sb.append(",");
            }
        }
        String sb2 = sb.toString();
        if (sb2.endsWith(",")) {
            sb2 = sb2.substring(0, sb2.length() - 1);
        }
        c55077LjV.LJII.liveStates(sb2, str, RequestAudienceApiExperiment.INSTANCE.getValue()).LJJL(T16.LIZ()).LJJJ(C73969T1h.LIZIZ()).LJJJLIIL(new AfS0S0300100_5(j, (long) c55077LjV, (GamePartnershipService) interfaceC64592gB, (InterfaceC88472Yns<? super C30605Bzl, C76800UCe>) arrayList, (DataChannel) 6), new AfS17S0001000_5(2, 7));
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51687KQh, X.AbstractC51688KQi, X.KRB
    public void onDestroyView() {
        this.mAdapter.LJJII(this.LJZ);
        AdReRankServiceManager.LIZJ().LIZ(ILE.FEED);
        super.onDestroyView();
        IH1.LIZJ().LIZLLL(getSimKitSceneID());
        if (isRecommendFeed()) {
            C2OE.LJIJJLI.dispose();
            C2KS LIZ = C2KJ.LIZ(getEventType());
            AObjectS147S0100000_9 aObjectS147S0100000_9 = new AObjectS147S0100000_9(this, 0);
            Aweme aweme = LIZ.LIZJ;
            if (aweme != null) {
                aObjectS147S0100000_9.invoke(aweme);
            }
            Iterator<Aweme> it = LIZ.LIZLLL.iterator();
            while (it.hasNext()) {
                Aweme it2 = it.next();
                o.LJIIIIZZ(it2, "it");
                aObjectS147S0100000_9.invoke(it2);
            }
            LIZ.LIZJ = null;
            LIZ.LIZLLL.clear();
            LIZ.LIZIZ.clear();
            C247409nM c247409nM = C247339nF.LJI;
            String str = LIZ.LIZ;
            c247409nM.getClass();
            C247339nF LIZIZ = C247409nM.LIZIZ(str);
            LIZIZ.LIZIZ = 0;
            LIZIZ.LIZ = 0;
        }
        if (((Number) C46373IHx.LIZ.getValue()).intValue() >= 0) {
            C57082Lw.LIZ.LIZJ("LivePageEnter").removeObserver(this.LL);
        }
        if (((Number) C46375IHz.LIZ.getValue()).intValue() >= 0) {
            C57082Lw.LIZ.LIZJ("LiveBroadcastPageEnter").removeObserver(this.LLD);
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryPlay() {
        if (this.activity == null || !isActive()) {
            return;
        }
        if (CP() || LJJLIIIJLJLI() || LJJLIIIJLLLLLLLZ() || LJJLIIIJL()) {
            super.tryPlay();
        }
    }

    @Override // X.LU2
    public final void w3() {
        IDP idp = this.mPlayerController;
        if (idp != null) {
            idp.LJLJJI();
        }
    }

    public static boolean LJJL() {
        return ((Boolean) C78895Uxn.LIZ().LJIIIZ(Boolean.FALSE, "enable_refresh_foru_avatar_live_status")).booleanValue();
    }

    public boolean CP() {
        return C54153LNd.LIZIZ(LJJLI());
    }

    public void LJII() {
        IFeedNonPersonalizedAbility iFeedNonPersonalizedAbility;
        if (!isViewValid()) {
            return;
        }
        InterfaceC55062LjG adapter = getAdapter();
        if (adapter != null && adapter.getCount() == 1 && C63081OpJ.LLIIII(adapter.getItem(0))) {
            isViewValid();
            return;
        }
        if (!this.LLFZ) {
            IRefreshAbility iRefreshAbility = this.refreshAbility;
            if (iRefreshAbility != null) {
                iRefreshAbility.setRefreshing(false);
            }
            if (((Boolean) C35183DrP.LJIIJ.getValue()).booleanValue() && C46368IHs.LIZIZ && C46368IHs.LIZJ && C46368IHs.LIZLLL) {
                ConcurrentHashMap concurrentHashMap = (ConcurrentHashMap) FAJ.LIZ;
                if (concurrentHashMap.get("optimize_feedloading") == null || !((Boolean) concurrentHashMap.get("optimize_feedloading")).booleanValue()) {
                    concurrentHashMap.put("optimize_feedloading", Boolean.TRUE);
                    return;
                }
            }
            IPageStateAbility iPageStateAbility = this.pageStateAbility;
            if (iPageStateAbility == null) {
                return;
            }
            iPageStateAbility.A90(true);
            return;
        }
        InterfaceC55235Lm3 interfaceC55235Lm3 = this.vScope;
        if (interfaceC55235Lm3 != null && (iFeedNonPersonalizedAbility = (IFeedNonPersonalizedAbility) C55096Ljo.LIZ(interfaceC55235Lm3, IFeedNonPersonalizedAbility.class, null)) != null && iFeedNonPersonalizedAbility.el0()) {
            IRefreshAbility iRefreshAbility2 = this.refreshAbility;
            if (iRefreshAbility2 == null) {
                return;
            }
            iRefreshAbility2.setRefreshing(false);
            return;
        }
        IRefreshAbility iRefreshAbility3 = this.refreshAbility;
        if (iRefreshAbility3 == null) {
            return;
        }
        iRefreshAbility3.setRefreshing(true);
    }

    public void Ne() {
        if (!isViewValid()) {
            return;
        }
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        if (!this.LLFZ) {
            LJJZ();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void checkLoadMore() {
        int intValue;
        if (SmartFeedLoadMoreService.instance().isSmartFeedLoadMoreScene(getEventType()) && SmartFeedLoadMoreService.instance().needCheckLoadMore(this.mCurIndex, this.mAdapter.getCount(), this.mAdapter.getItem(this.mCurIndex))) {
            AbstractC39351FcR LIZ = C38986FRu.LIZ();
            if (LIZ.LIZJ() == 1 && !LIZ.LIZ) {
                return;
            } else {
                SmartFeedLoadMoreService.instance().startSmartFeedLoadMoreJudge(this.mAdapter.getItem(this.mCurIndex), this.LLIIII);
            }
        }
        if ((this.mCurIndex >= this.mAdapter.getCount() - LJJJLZIJ() || (this.mCurIndex == this.mAdapter.getCount() - 1 && this.mAdapter.getCount() <= 3)) && this.mCheckLoadMoreListener != null) {
            AbstractC39351FcR LIZ2 = C38986FRu.LIZ();
            if (LIZ2.LIZJ() == 1 && !LIZ2.LIZ) {
                return;
            }
            if ((((Number) C35010Doc.LIZ.getValue()).intValue() == -1 && DXC.LIZ() == 0) || this.mCurIndex != 0 || this.mAdapter.getCount() != 1 || !this.mAdapter.getItem(0).isFromSplitData()) {
                if (C34186DbK.LIZ()) {
                    int i = this.mCurIndex;
                    int count = this.mAdapter.getCount() - LJJJLZIJ();
                    if (C2NW.LIZ().isNewUser()) {
                        intValue = C34182DbG.LIZ();
                    } else {
                        intValue = ((Number) C34187DbL.LIZ.getValue()).intValue();
                    }
                    if (i >= count + intValue) {
                        this.mCheckLoadMoreListener.Lf();
                        if (!((Boolean) C35199Drf.LIZ.getValue()).booleanValue() && this.mCurIndex != 0) {
                            C57022Lq.LIZ.LJLIL.postDelayed(new ARunnableS37S0100000_1(this, 25), ((Number) C52649KlR.LIZ.getValue()).intValue());
                            return;
                        } else {
                            this.mCheckLoadMoreListener.mf();
                        }
                    }
                }
                if (C34186DbK.LIZ && C2NW.LIZ().isNewUser() && ((Boolean) C33867DQx.LIZIZ.getValue()).booleanValue()) {
                    this.mCheckLoadMoreListener.Lf();
                    C34186DbK.LIZ = false;
                    return;
                }
                if (!((Boolean) C35199Drf.LIZ.getValue()).booleanValue()) {
                }
                this.mCheckLoadMoreListener.mf();
            }
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void handlePageResume() {
        IResumePlayPanelComponent iResumePlayPanelComponent;
        super.handlePageResume();
        if (!getUserVisibleHint()) {
            return;
        }
        C2MA curFeedViewHolder = getCurFeedViewHolder();
        if (curFeedViewHolder != null) {
            curFeedViewHolder.getAwemeType();
            curFeedViewHolder.LIZJ();
        }
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja != null && this.mViewPager != null) {
            abstractC55082Lja.LJJJJIZL(this.mCurIndex);
            getPlayerManager().LJJJLL(this.mPlayerController);
            C56692Kj.LIZ().getClass();
            Aweme item = this.mAdapter.getItem(this.mViewPager.getCurrentItem());
            if ((this.activity instanceof ActivityC45651qj) && isInMainPage()) {
                C9CI c9ci = new C9CI(item);
                c9ci.LJLILLLLZI = true;
                C2U8.LIZ(c9ci);
                LNH.LIZLLL((ActivityC45651qj) this.activity, item);
            }
            C2MA curViewHolder = getCurViewHolder();
            if (isUseSurfaceView() && curViewHolder != null) {
                curViewHolder.LJJIJIIJIL(1);
            }
            if (((Number) C48747JBf.LIZ.getValue()).intValue() > 0 && !C63081OpJ.LJJLIIIJJI(item) && (iResumePlayPanelComponent = this.resumePlayComponent) != null && iResumePlayPanelComponent.Pw()) {
                tryResumePlay();
                return;
            }
            C58152Pz.LIZIZ(C78996UzQ.LJIIL(item), "handlePageResume");
            String tryPlay = tryPlay(item);
            C58152Pz.LIZJ("tryPlay", tryPlay);
            if (!C35168DrA.LIZ()) {
                return;
            }
            C9K4 c9k4 = C9K4.LIZ;
            C56742Ko c56742Ko = new C56742Ko();
            c56742Ko.LIZ("FullFeedFragmentPanel.handlePageResume", "caller");
            c56742Ko.LIZ(C78996UzQ.LJIIL(item), "aid");
            c56742Ko.LIZ(tryPlay, "result");
            c56742Ko.LIZ(getEventType(), WM7.SCENE_SERVICE);
            c56742Ko.LIZ("tryPlay", "source");
            c9k4.LIZJ(C78996UzQ.LJIIL(item), c56742Ko.LIZ);
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:56:0x00e4, code lost:
    
        if (r2 == null) goto L47;
     */
    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void onPageSelected() {
        /*
            r7 = this;
            super.onPageSelected()
            com.ss.android.ugc.aweme.feed.model.Aweme r2 = r7.getCurrentAweme()
            X.LjA r0 = r7.LJLJJL
            r6 = 1
            if (r0 == 0) goto Le4
            if (r2 == 0) goto Le6
            com.ss.android.ugc.aweme.profile.model.User r0 = r2.getAuthor()
            if (r0 == 0) goto L25
            com.ss.android.ugc.aweme.profile.model.User r0 = r2.getAuthor()
            int r0 = r0.getFollowStatus()
            if (r0 == r6) goto L25
            com.ss.android.ugc.aweme.profile.model.User r0 = r2.getAuthor()
            r0.getFollowStatus()
        L25:
            java.lang.String r0 = r2.getAid()
        L29:
            X.C78983UzD.LJLJI = r0
            boolean r0 = X.C2305192x.LIZIZ()
            if (r0 == 0) goto L57
            java.lang.String r0 = r7.getEventType()
            boolean r0 = X.C2305192x.LIZ(r0)
            if (r0 == 0) goto L57
            if (r2 == 0) goto L57
            X.93Z r0 = r7.LJLJI
            if (r0 != 0) goto L4b
            X.Y01 r1 = X.Y01.LIZIZ
            X.LlX r0 = X.EnumC55203LlX.FEED
            X.93Z r0 = r1.LJIIIZ(r0)
            r7.LJLJI = r0
        L4b:
            X.93Z r1 = r7.LJLJI
            X.Lm3 r0 = r7.vScope
            r1.LIZIZ(r0)
            X.93Z r0 = r7.LJLJI
            r0.LJFF(r2)
        L57:
            int r1 = r7.mCurIndex
            r0 = 2
            if (r1 >= r0) goto Le3
        L5d:
            java.lang.String r5 = "repo_auto_volume"
            com.bytedance.keva.Keva r4 = com.bytedance.keva.Keva.getRepo(r5)
            java.lang.String r3 = "need_show_auto_volume_toast"
            r2 = 0
            if (r4 == 0) goto Le3
            boolean r0 = X.AV1.LJIILLIIL()
            r1 = r0 ^ 1
            java.lang.String r0 = "auto_volume_state"
            boolean r0 = r4.getBoolean(r0, r1)
            if (r0 == 0) goto Le3
            boolean r0 = r4.getBoolean(r3, r6)
            if (r0 == 0) goto Le3
            boolean r0 = X.IG3.LIZLLL
            if (r0 == 0) goto Le3
            java.lang.String r1 = "homepage_hot"
            java.lang.String r0 = r7.getEventType()
            boolean r0 = r1.equals(r0)
            if (r0 == 0) goto Le3
            int r0 = r7.getPageType()
            if (r0 != 0) goto Le3
            com.ss.android.ugc.aweme.feed.model.Aweme r0 = r7.getCurrentAweme()
            if (r0 == 0) goto Le3
            com.ss.android.ugc.aweme.feed.model.Aweme r0 = r7.getCurrentAweme()
            boolean r0 = r0.isAd()
            if (r0 != 0) goto Le3
            X.IG3.LIZLLL = r2
            com.bytedance.keva.Keva r0 = com.bytedance.keva.Keva.getRepo(r5)
            if (r0 == 0) goto Lad
            r0.storeBoolean(r3, r2)
        Lad:
            X.AKb r0 = r7.LJLLI
            if (r0 != 0) goto Lba
            X.AKb r1 = new X.AKb
            android.app.Activity r0 = r7.activity
            r1.<init>(r0)
            r7.LJLLI = r1
        Lba:
            X.AKb r2 = r7.LJLLI
            r0 = 2131848817(0x7f116e71, float:1.933115E38)
            r2.LJIIIIZZ(r0)
            r0 = 5000(0x1388, double:2.4703E-320)
            r2.LIZLLL(r0)
            r0 = 2131756312(0x7f100518, float:1.9143528E38)
            r2.LJFF(r0)
            android.content.Context r1 = r7.getContext()
            r0 = 2131101097(0x7f0605a9, float:1.7814594E38)
            int r0 = X.C04330Ez.LIZIZ(r1, r0)
            r2.LJI(r0)
            r2.LJIIJ()
            java.lang.String r0 = "auto_volume_adjustment_toast_show"
            X.FMX.onEventV3(r0)
        Le3:
            return
        Le4:
            if (r2 != 0) goto L25
        Le6:
            java.lang.String r0 = ""
            goto L29
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.feed.panel.FullFeedFragmentPanel.onPageSelected():void");
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51688KQi, X.KRB
    public void onResume() {
        IAdsPreviewService LJI;
        AbstractC55082Lja abstractC55082Lja;
        InterfaceC54327LTv interfaceC54327LTv;
        InterfaceC54054LJi LIZJ;
        InterfaceC36571c5 LJJJIL;
        super.onResume();
        if (!getUserVisibleHint()) {
            this.LJLIL.LJIIIIZZ("invisible, drop on resume");
            return;
        }
        if ((this.activity instanceof ActivityC45651qj) && isInMainPage()) {
            try {
                ActivityC45651qj activityC45651qj = (ActivityC45651qj) this.activity;
                if (activityC45651qj.getSupportFragmentManager() != null) {
                    FragmentManager fragmentManager = C116694i1.LIZ(activityC45651qj).LJLLI;
                    if (fragmentManager == null) {
                        LJJJIL = null;
                    } else {
                        LJJJIL = fragmentManager.LJJJIL("HOME");
                    }
                    InterfaceC54054LJi interfaceC54054LJi = (InterfaceC54054LJi) LJJJIL;
                    if (interfaceC54054LJi != null && getFragment() != null && getFragment().equals(interfaceC54054LJi.w2())) {
                        getPlayerManager().LJJJLL(this.mPlayerController);
                        C56692Kj.LIZ().getClass();
                    }
                }
            } catch (Exception e) {
                this.LJLIL.LJFF("[onResume]", e);
            }
        }
        boolean LJFF = KNV.LJFF((ActivityC45651qj) this.activity, "page_feed");
        IMSAdaptionService LJIIL = MSAdaptionService.LJIIL();
        if (LJIIL.LJI(getContext()) && (LIZJ = LJIIL.LIZJ(this.activity)) != null && (LIZJ.Oe() || LIZJ.lj() || LIZJ.uk() || LIZJ.oc() || LIZJ.K2())) {
            LJFF = true;
        }
        if (this.LLF && CP() && LJFF) {
            this.LLF = false;
        } else if (getPageType() != 31 ? (!LJJLIIIJLJLI() || this.LLFF) && ((!LJJLIIIJL() || this.LLFFF) && ((!LJJLIIIJLLLLLLLZ() || this.LLFII) && (!CP() || (LJI = AdsPreviewServiceImpl.LJI()) == null || !LJI.LIZ()))) : C54029LIj.LIZIZ.LJJI() && this.LLFF) {
            if ((CP() || LJJLIIIJLJLI() || LJJLIIIJLLLLLLLZ() || LJJLIIIJL()) && (abstractC55082Lja = this.mAdapter) != null && abstractC55082Lja.getCount() > 0 && LJFF && ((!LLIILII || C44938HkM.LJ()) && !LJJJJL())) {
                super.tryResumePlayByOnResume(false);
            }
        }
        if (this.LJLLJ.get() && (interfaceC54327LTv = this.LJLLILLLL) != null) {
            interfaceC54327LTv.LJLIIL();
        }
        IEncourageLogInService LIZJ2 = EncourageLoginPopupManager.LIZJ();
        if (LIZJ2 != null) {
            Activity activity = this.activity;
            if (activity instanceof ActivityC45651qj) {
                LIZJ2.LIZIZ((ActivityC45651qj) activity);
            }
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void resetShareButtonStatus() {
        InterfaceC57312Mt currentFeedUGView = getCurrentFeedUGView();
        if (currentFeedUGView != null && currentFeedUGView.getRootView() != null) {
            currentFeedUGView.LJJJJIZL();
            currentFeedUGView.LJJIJL(null);
        }
    }

    @Override // X.InterfaceC223218pR
    public final void showLoadMoreLoading() {
        ILoadMoreAbility iLoadMoreAbility;
        if (isViewValid() && (iLoadMoreAbility = this.loadMoreAbility) != null) {
            iLoadMoreAbility.vR();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final boolean showShareStayHomeGuide() {
        InterfaceC57312Mt currentFeedUGView;
        if (!isMockPopup() && (currentFeedUGView = getCurrentFeedUGView()) != null && currentFeedUGView.getRootView() != null) {
            Aweme currentAweme = getCurrentAweme();
            if (C00F.LIZ(31744, 0, "stay_home_share_guide", true) == 1 && C80X.LJI(currentAweme)) {
                currentFeedUGView.LJJJJJL();
                mobShareStayHome(currentAweme);
                return true;
            }
            if (C00F.LIZ(31744, 0, "stay_home_share_guide", true) == 2 && C80X.LJIIIZ(currentAweme)) {
                this.LJLJLJ = C80X.LJIIJ(this.activity, currentFeedUGView.getRootView().findViewById(R.id.jtg), new AfS36S0101000_5(2, this, 38));
                C80X.LJII = new LDC(this);
                C80X.LJFF = Long.valueOf(System.currentTimeMillis());
                C80X.LJ = 5000L;
                C80X.LJI.postDelayed(C80X.LJIIIIZZ, 5000L);
                mobShareStayHome(currentAweme);
                return true;
            }
        }
        return false;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryResumePlay() {
        if (LJJJJL()) {
            return;
        }
        super.tryResumePlay();
    }

    @Override // X.InterfaceC223218pR
    public final void Iw() {
        isViewValid();
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final ViewGroup getViewRoot() {
        return this.LJLILLLLZI;
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryShowMTScrollToFeedFollowGuide() {
        isRecommendFeed();
    }

    public static void LJJJJIZL(FullFeedFragmentPanel fullFeedFragmentPanel) {
        if (!fullFeedFragmentPanel.isViewValid()) {
            return;
        }
        C2MA curFeedViewHolderExcludeLive = fullFeedFragmentPanel.getCurFeedViewHolderExcludeLive();
        if (curFeedViewHolderExcludeLive != null) {
            if (!((Boolean) C33963DUp.LIZ.getValue()).booleanValue()) {
                curFeedViewHolderExcludeLive.LIZLLL(curFeedViewHolderExcludeLive.getAweme());
            }
            if ((fullFeedFragmentPanel.activity instanceof ActivityC45651qj) && fullFeedFragmentPanel.isInMainPage() && fullFeedFragmentPanel.isInHomePage) {
                C2U8.LIZ(new C9CI(curFeedViewHolderExcludeLive.getAweme()));
                LNH.LIZLLL((ActivityC45651qj) fullFeedFragmentPanel.activity, curFeedViewHolderExcludeLive.getAweme());
            }
            C2U8.LIZ(new C55391LoZ(curFeedViewHolderExcludeLive.getAweme(), fullFeedFragmentPanel.param.getEventType(), fullFeedFragmentPanel.param.getPageType(), fullFeedFragmentPanel));
        }
        C2MA curViewHolder = fullFeedFragmentPanel.getCurViewHolder();
        if (curViewHolder != null && C79146V4k.LJJJJ(fullFeedFragmentPanel.param.getEventType()) && BaseListFragmentPanel.isLiveViewHolder(curViewHolder)) {
            IDP idp = fullFeedFragmentPanel.mPlayerController;
            if (idp != null) {
                idp.LJLJJI();
            }
            Activity activity = fullFeedFragmentPanel.activity;
            if (activity instanceof ActivityC45651qj) {
                LNH.LIZLLL((ActivityC45651qj) activity, curViewHolder.getAweme());
            }
        }
        if (curFeedViewHolderExcludeLive != null && curFeedViewHolderExcludeLive.getAwemeType() == 2) {
            return;
        }
        fullFeedFragmentPanel.hideIvPlay();
        C56692Kj.LIZ().LIZIZ();
        fullFeedFragmentPanel.tryPlay();
        if (!fullFeedFragmentPanel.isUseSurfaceView() || curFeedViewHolderExcludeLive == null) {
            return;
        }
        curFeedViewHolderExcludeLive.B7();
    }

    public final void DA(InterfaceC55112Lk4 interfaceC55112Lk4) {
        ILoadMoreAbility iLoadMoreAbility = this.loadMoreAbility;
        if (iLoadMoreAbility != null) {
            iLoadMoreAbility.DA(interfaceC55112Lk4);
        }
    }

    @Override // X.LU2
    public final void LIZJ(InterfaceC54327LTv interfaceC54327LTv) {
        InterfaceC54327LTv interfaceC54327LTv2;
        this.LJLLILLLL = interfaceC54327LTv;
        if (this.LJLLJ.get() && (interfaceC54327LTv2 = this.LJLLILLLL) != null) {
            interfaceC54327LTv2.LJLIIL();
        }
    }

    public final boolean LJJJLL(String str) {
        AbstractC55082Lja abstractC55082Lja;
        if (str != null && (abstractC55082Lja = this.mAdapter) != null && abstractC55082Lja.LJJIL() != null) {
            C8RO c8ro = this.LJLIL;
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("[deleteItemById] ");
            LIZ.append(str);
            c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
            List<Aweme> LJJIL = this.mAdapter.LJJIL();
            for (int i = 0; i < LJJIL.size(); i++) {
                Aweme aweme = (Aweme) ListProtector.get(LJJIL, i);
                if (C54838Lfe.LJJ(aweme)) {
                    if (str.equals(aweme.getAuthorUid())) {
                        LJJJJZI(i, aweme);
                        return true;
                    }
                    onStoryDeleted(i, str);
                } else if (aweme != null && str.equals(aweme.getAid())) {
                    onItemDeleted(i);
                    return true;
                }
            }
        }
        return false;
    }

    public final void LJJLIIJ(String str) {
        stopPlayer();
        this.mAdapter.notifyDataSetChanged();
        LJL();
        onPageSelected();
        changePageBreak(str, false);
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onDeleteItemInModel], ");
        LIZ.append(str);
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
    }

    public final void LJJLIL(boolean z) {
        FeedRefreshViewModel feedRefreshViewModel;
        if (isRecommendFeed()) {
            Activity activity = this.activity;
            o.LJIIIZ(activity, "activity");
            if ((activity instanceof ActivityC45651qj) && (feedRefreshViewModel = (FeedRefreshViewModel) ViewModelProviders.of((ActivityC45651qj) activity).get(FeedRefreshViewModel.class)) != null) {
                ((LiveData) feedRefreshViewModel.LJLILLLLZI.getValue()).postValue(Boolean.valueOf(z));
            }
        }
    }

    public final void LJJZZIII(String str) {
        if (!C80X.LJFF(getCurrentAweme())) {
            return;
        }
        o.LJIIIZ(str, "<set-?>");
        AnonymousClass804.LIZ = str;
        InterfaceC57312Mt currentFeedUGView = getCurrentFeedUGView();
        if (currentFeedUGView != null) {
            currentFeedUGView.LJJJI();
        }
    }

    @QD3
    public void OnDeleteTopViewAwemeEvent(C9CC c9cc) {
        Aweme LJJIZ = this.mAdapter.LJJIZ(0);
        if (LJJIZ != null && TextUtils.equals(LJJIZ.getAid(), c9cc.LJLIL.getAid())) {
            onItemDeleted(0);
            C55511LqV.LJIILIIL = true;
        }
    }

    @Override // X.InterfaceC223218pR
    public final void Qw(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        this.LJLIL.LJIILJJIL("[showLoadLatestError]", exc);
        if (this.mAdapter.getCount() == 0) {
            IPageStateAbility iPageStateAbility = this.pageStateAbility;
            if (iPageStateAbility != null) {
                iPageStateAbility.fk(exc);
            }
            onFirstDataLoaded();
            return;
        }
        C5S1 c5s1 = new C5S1(this.activity);
        c5s1.LIZJ(R.string.hvc);
        c5s1.LJ();
    }

    public final void bindView(View view) {
        this.LJLILLLLZI = (ViewGroup) view.findViewById(R.id.d8h);
    }

    @Override // X.InterfaceC51032K1c
    public final void c0(boolean z) {
        this.LJLJJI = z;
    }

    /* JADX WARN: Code restructure failed: missing block: B:10:0x001d, code lost:
    
        if (X.C63081OpJ.LLIIII(r1.getItem(0)) != false) goto L11;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void cb0(java.lang.Exception r8) {
        /*
            r7 = this;
            boolean r0 = r7.isViewValid()
            if (r0 != 0) goto L7
            return
        L7:
            X.LjG r1 = r7.getAdapter()
            r5 = 0
            if (r1 == 0) goto Lcf
            int r0 = r1.getCount()
            r6 = 1
            if (r0 != r6) goto Lcf
            com.ss.android.ugc.aweme.feed.model.Aweme r0 = r1.getItem(r5)
            boolean r0 = X.C63081OpJ.LLIIII(r0)
            if (r0 == 0) goto Lcf
        L1f:
            r4 = 0
            boolean r0 = android.text.TextUtils.isEmpty(r4)
            if (r0 == 0) goto Lb0
        L26:
            com.ss.android.ugc.feed.platform.panel.refreshpanel.IRefreshAbility r0 = r7.refreshAbility
            if (r0 == 0) goto L2d
            r0.setRefreshing(r5)
        L2d:
            boolean r0 = r8 instanceof X.C55015LiV
            if (r0 == 0) goto L85
        L31:
            X.Lm3 r1 = r7.vScope
            if (r1 == 0) goto L42
            java.lang.Class<com.ss.android.ugc.feed.platform.panel.nonperson.IFeedNonPersonalizedAbility> r0 = com.ss.android.ugc.feed.platform.panel.nonperson.IFeedNonPersonalizedAbility.class
            X.2K0 r0 = X.C55096Ljo.LIZ(r1, r0, r4)
            com.ss.android.ugc.feed.platform.panel.nonperson.IFeedNonPersonalizedAbility r0 = (com.ss.android.ugc.feed.platform.panel.nonperson.IFeedNonPersonalizedAbility) r0
            if (r0 == 0) goto L42
            r0.yP(r8)
        L42:
            X.LRe r0 = r7.mDialogShowingManager
            if (r0 == 0) goto L65
            boolean r0 = r0.LJ()
            if (r0 == 0) goto L70
            X.2NV r0 = r7.mSwipeUpGuideManager
            if (r0 == 0) goto L57
            android.os.Handler r1 = r0.LIZJ
            Y.ARunnableS37S0100000_1 r0 = r0.LIZLLL
            r1.removeCallbacks(r0)
        L57:
            X.LS9 r0 = r7.swipeUpGuide
            if (r0 == 0) goto L5e
            r0.LJIILL()
        L5e:
            X.LRe r1 = r7.mDialogShowingManager
            java.lang.String r0 = "swipe_up_guide"
            r1.LJIIJ(r0, r5, r4)
        L65:
            r7.LJJLIL(r5)
            X.8RO r1 = r7.LJLIL
            java.lang.String r0 = "[showLoadError]"
            r1.LJIILJJIL(r0, r8)
            return
        L70:
            X.LRe r0 = r7.mDialogShowingManager
            boolean r0 = r0.LIZJ()
            if (r0 == 0) goto L65
            X.LS9 r0 = r7.notInterestedTutorial
            if (r0 == 0) goto L7f
            r0.LJIILL()
        L7f:
            X.LRe r0 = r7.mDialogShowingManager
            r0.LJI(r5)
            goto L65
        L85:
            boolean r0 = r7.LLFZ
            if (r0 != 0) goto La6
            if (r6 != 0) goto La6
            com.ss.android.ugc.feed.platform.panel.pagestate.IPageStateAbility r0 = r7.pageStateAbility
            if (r0 == 0) goto La6
            X.KUR r0 = r0.kp0()
            if (r0 != 0) goto La0
            com.ss.android.ugc.feed.platform.panel.pagestate.IPageStateAbility r0 = r7.pageStateAbility
            if (r0 == 0) goto L9c
            r0.Ic0(r8)
        L9c:
            r7.onFirstDataLoaded()
            goto L31
        La0:
            com.ss.android.ugc.feed.platform.panel.pagestate.IPageStateAbility r0 = r7.pageStateAbility
            r0.Aa()
            goto L9c
        La6:
            X.MGN r2 = X.MGN.LJLILLLLZI
            android.app.Activity r1 = r7.activity
            X.MG5 r0 = X.MG5.FULL_FEED
            r2.triggerNetworkTips(r1, r0, r8, r4)
            goto L31
        Lb0:
            org.json.JSONObject r3 = new org.json.JSONObject
            r3.<init>()
            java.lang.String r2 = "timestamp"
            long r0 = java.lang.System.currentTimeMillis()     // Catch: org.json.JSONException -> Lc4
            r3.put(r2, r0)     // Catch: org.json.JSONException -> Lc4
            java.lang.String r0 = "URL"
            r3.put(r0, r4)     // Catch: org.json.JSONException -> Lc4
            goto Ld2
        Lc4:
            r0 = move-exception
            X.C16880lQ.LLLLIIL(r0)
            java.lang.String r0 = "feed_retry_e"
            X.FUA.LIZJ(r0, r3)
            goto L26
        Lcf:
            r6 = 0
            goto L1f
        Ld2:
            throw r4
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.feed.panel.FullFeedFragmentPanel.cb0(java.lang.Exception):void");
    }

    @QD3(threadMode = ThreadMode.MAIN)
    public void deleteRecUserFeedAndScrollNextFeed(C55206Lla c55206Lla) {
        String str;
        int i;
        int i2;
        int i3;
        if (C53576L0y.LIZJ()) {
            str = "RecSwipeBigCard";
        } else {
            str = "TTRecUserBigCard";
        }
        C221018lt.LIZ(str, "[deleteRecUserFeedAndScrollNextFeed] handle");
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja == null || abstractC55082Lja.LJJIL() == null) {
            return;
        }
        List<Aweme> LJJIL = this.mAdapter.LJJIL();
        AbstractC55082Lja abstractC55082Lja2 = this.mAdapter;
        if (abstractC55082Lja2 == null || abstractC55082Lja2.LJJIL() == null) {
            i = -1;
        } else {
            List<Aweme> LJJIL2 = this.mAdapter.LJJIL();
            if (C53576L0y.LIZJ()) {
                i3 = 4004;
            } else {
                i3 = 4003;
            }
            i = -1;
            for (int i4 = 0; i4 < LJJIL2.size(); i4++) {
                if (((Aweme) ListProtector.get(LJJIL2, i4)).getAwemeType() == i3) {
                    i = i4;
                }
            }
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[deleteRecUserFeedAndScrollNextFeed] big card index = ");
        LIZ.append(i);
        C221018lt.LIZ(str, X1D.LIZIZ(LIZ));
        if (i == -1) {
            C221018lt.LIZ(str, "[deleteRecUserFeedAndScrollNextFeed] illegal index");
            return;
        }
        int curIndex = getCurIndex();
        if (curIndex < 0 || curIndex >= LJJIL.size()) {
            return;
        }
        if (i == curIndex && (i2 = curIndex + 1) < LJJIL.size()) {
            setCurrentItem(i2, true);
        }
        deleteAwemeAtPos(i, (Aweme) ListProtector.get(LJJIL, i));
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("[DeleteRecUserFeedAndScrollNextFeedEvent]");
        LIZ2.append(curIndex);
        LIZ2.append(",");
        LIZ2.append(i);
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ2));
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void deleteUserStory(int i) {
        List<Aweme> LJJIL;
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja == null || (LJJIL = abstractC55082Lja.LJJIL()) == null || LJJIL.size() - 1 < i) {
            return;
        }
        Aweme aweme = (Aweme) ListProtector.get(LJJIL, i);
        if (!C54838Lfe.LJJ(aweme) || !C78996UzQ.LJJIIZI(aweme)) {
            return;
        }
        onItemDeleted(i);
        LJJLIIJ(aweme.getAid());
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void handlePageStop(boolean z) {
        super.handlePageStop(z);
        stopCalPlayTime(null);
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("pause, source ");
        LIZ.append("handlePageStop");
        C58152Pz.LIZ(X1D.LIZIZ(LIZ));
        pausePlayer();
        C56692Kj.LIZ().LIZIZ();
        tryToHideStayHomeGuide(this.activity, getCurrentAweme(), 0L, 0L);
        if (isRecommendFeed()) {
            C2OE.LJIJJLI.LIZLLL();
            CountDownTimer countDownTimer = C2OE.LJIILLIIL;
            if (countDownTimer != null) {
                countDownTimer.cancel();
            }
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:26:0x005c, code lost:
    
        if ((r3.ov0() instanceof X.InterfaceC54054LJi) != false) goto L16;
     */
    /* JADX WARN: Code restructure failed: missing block: B:28:0x0063, code lost:
    
        if (CP() == false) goto L10;
     */
    /* JADX WARN: Removed duplicated region for block: B:43:0x0135 A[ORIG_RETURN, RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:44:0x0121 A[EXC_TOP_SPLITTER, SYNTHETIC] */
    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void handleVideoEvent(X.C50420Jqa r18) {
        /*
            Method dump skipped, instructions count: 545
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.feed.panel.FullFeedFragmentPanel.handleVideoEvent(X.Jqa):void");
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public void invokeSelectCallback(int i) {
        String groupId;
        super.invokeSelectCallback(i);
        Aweme currentAweme = getCurrentAweme();
        IProactiveTriggersService iProactiveTriggersService = this.LJLZ;
        ActivityC45651qj LJJLI = LJJLI();
        if (currentAweme == null) {
            groupId = null;
        } else {
            groupId = currentAweme.getGroupId();
        }
        iProactiveTriggersService.LIZJ(LJJLI, groupId);
        if (C30581Hy.LJIL(getEventType())) {
            getFeedAdReRankImpl().LJIIZILJ(i, currentAweme);
            if (currentAweme != null) {
                AdSessionPositionHelper.LJIILIIL(i, currentAweme.getAid(), "fyp");
                return;
            }
            return;
        }
        if (!C30581Hy.LJIJJ(getEventType()) || currentAweme == null) {
            return;
        }
        AdSessionPositionHelper.LJIILIIL(i, currentAweme.getAid(), "following");
    }

    public void nc(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        ILoadMoreAbility iLoadMoreAbility = this.loadMoreAbility;
        if (iLoadMoreAbility != null) {
            iLoadMoreAbility.showLoadMoreError();
        }
        IOfflineModeSwitchAbility iOfflineModeSwitchAbility = this.offlineModeSwitchAbility;
        if (iOfflineModeSwitchAbility != null) {
            iOfflineModeSwitchAbility.V70();
        }
        this.LJLIL.LJIILJJIL("[showLoadMoreError]", exc);
        C769130d.LIZ(this.mAdapter, this.mViewPager, getContext(), getEventType(), 0);
    }

    @QD3
    public void onBackupUpdateEvent(C2TC c2tc) {
        Map<String, AwemeStatisticsBackup> map = c2tc.LJLIL;
        if (isRecommendFeed() && map != null && map.size() != 0) {
            AfS50S0200000_1 afS50S0200000_1 = new AfS50S0200000_1(c2tc, map, 2);
            C80796VnM c80796VnM = this.mViewPager;
            if (c80796VnM != null) {
                int childCount = c80796VnM.getChildCount();
                for (int i = 0; i < childCount; i++) {
                    Object tag = this.mViewPager.getChildAt(i).getTag(R.id.d87);
                    if (tag != null) {
                        try {
                            afS50S0200000_1.accept(tag);
                        } catch (Exception e) {
                            C16880lQ.LLLLIIL(e);
                        }
                    }
                }
            }
        }
    }

    @QD3
    public void onCommentDialogEvent(C174036sJ c174036sJ) {
        AnonymousClass901 j3;
        boolean z = true;
        if (c174036sJ.LJLIL != 1) {
            z = false;
        }
        this.LLIIJLIL = z;
        setCommentDialogShowing(z);
        if (!isRecommendFeed()) {
            return;
        }
        handleCommentDialogShow(this.LLIIJLIL);
        if (!this.LLIIJLIL && this.LLIIIL) {
            C2MA curViewHolder = getCurViewHolder();
            if (curViewHolder != null && (j3 = curViewHolder.j3()) != null) {
                j3.o2();
            }
            LJJZZIII(this.LJLL);
            this.LLIIIL = false;
            this.LJLL = "";
        }
    }

    @Override // X.AbstractC51688KQi, X.KRB
    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        if (this.LJLJJL == null) {
            this.LJLJJL = new C55056LjA();
        }
        Activity activity = this.activity;
        if (activity instanceof ActivityC45651qj) {
            ActivityC45651qj activity2 = (ActivityC45651qj) activity;
            o.LJIIIZ(activity2, "activity");
            ((LiveData) ((FeedRefreshViewModel) ViewModelProviders.of(activity2).get(FeedRefreshViewModel.class)).LJLIL.getValue()).observe(activity2, new AObserverS58S0101000_2(1, this, 5));
        }
    }

    @QD3
    public void onDeleteAwemeEvent(C55045Liz c55045Liz) {
        InterfaceC57302Ms interfaceC57302Ms;
        IMidAdAbility iMidAdAbility;
        if (TextUtils.equals(getEventType(), c55045Liz.LJLILLLLZI)) {
            this.LJLIL.LJII(c55045Liz.LJLIL, "[onDeleteAwemeEvent]");
            Aweme aweme = c55045Liz.LJLIL;
            if (TextUtils.equals(c55045Liz.LJLJI, "FUNCTION_FROM_NOT_INTERESTED") && C54838Lfe.LJJI(aweme) && aweme != null) {
                LJJJLL(aweme.getAuthorUid());
                LJJLIIJ(aweme.getAid());
                return;
            }
            if (TextUtils.equals(c55045Liz.LJLJI, "FUNCTION_FROM_TOPVIEW_SKIP")) {
                getFeedAdReRankImpl().LJIIJ(aweme);
                if (aweme != null) {
                    stopCalPlayTime(aweme.getAid());
                }
            }
            if (TextUtils.equals(getEventType(), "homepage_hot") && this.vScope != null && C1DJ.LJJ(aweme) && (iMidAdAbility = (IMidAdAbility) C55096Ljo.LIZ(this.vScope, IMidAdAbility.class, null)) != null && iMidAdAbility.FT() != null) {
                iMidAdAbility.FT().JN();
            }
            if (aweme == null || (interfaceC57302Ms = this.mDeleteItemListener) == null || !interfaceC57302Ms.LJJIJLIJ(aweme)) {
                return;
            }
            LJJLIIJ(aweme.getAid());
        }
    }

    @QD3
    public void onDislikeAwemeEvent(C55274Lmg c55274Lmg) {
        boolean z;
        if (c55274Lmg.LJLJJL != this.activity.hashCode() || this.mMixDetailCleanMode.booleanValue()) {
            return;
        }
        if (LJJLI() != null) {
            LRD.LIZ(LJJLI()).LJIIJ("long_press_layer", c55274Lmg.LJLIL, null);
        }
        boolean z2 = c55274Lmg.LJLIL;
        int i = c55274Lmg.LJLJJLL;
        if (i == 0 || i == 4) {
            z = true;
        } else {
            z = false;
        }
        handleMaskLayer(z2, z);
    }

    @QD3
    public void onInterceptedResumePlayOnResume(C55047Lj1 c55047Lj1) {
        Activity activity = this.activity;
        if (activity != null && activity.hashCode() == c55047Lj1.LJLILLLLZI) {
            this.LLF = !c55047Lj1.LJLIL;
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.MFO
    public final void onItemDeleteFailed(Exception exc) {
        if (!isViewValid()) {
            return;
        }
        C1A7.LJIJJLI(this.activity, exc, R.string.efx);
        this.LJLIL.LJIILJJIL("[onItemDeleteFailed]", exc);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.MFO
    public final void onItemDeleteSuccess(String str) {
        if (!isViewValid()) {
            return;
        }
        InterfaceC57302Ms interfaceC57302Ms = this.mDeleteItemListener;
        if ((interfaceC57302Ms != null && interfaceC57302Ms.deleteItem(str)) || LJJJLL(str)) {
            LJJLIIJ(str);
        }
        C26045AKb c26045AKb = new C26045AKb(this.activity);
        c26045AKb.LJIIIIZZ(R.string.egl);
        c26045AKb.LJIIJ();
        super.onItemDeleteSuccess(str);
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onItemDeleteSuccess] ");
        LIZ.append(str);
        c8ro.LJIIIIZZ(X1D.LIZIZ(LIZ));
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void onPlayCompletedToShowShareGuide(String str) {
        if (isMockPopup() || !isViewValid()) {
            return;
        }
        Aweme currentAweme = getCurrentAweme();
        if (TextUtils.equals(this.LLIIIILZ, str)) {
            int i = this.LLIIIJ + 1;
            this.LLIIIJ = i;
            LJLI(i, str, currentAweme);
        } else {
            if (currentAweme != null && C80X.LJIIIIZZ(currentAweme, str, getCurrentFeedUGView().LJIJI()) && C59406NTe.LJIILJJIL(currentAweme)) {
                LJJZZIII("promote");
                return;
            }
            this.LLIIIJ = 1;
            LJLI(1, str, currentAweme);
            this.LLIIIILZ = str;
        }
    }

    @QD3
    public void onPlayStateChangeEvent(C55051Lj5 c55051Lj5) {
        C2MA curViewHolder = getCurViewHolder();
        if (curViewHolder != null && curViewHolder.j3() != null) {
            curViewHolder.j3().P2(c55051Lj5.LJLIL);
        }
    }

    @QD3
    public void onRefreshEvent(LJK ljk) {
        this.LLIFFJFJJ = ljk.LJLIL;
        C225318sp.LIZ(this.activity);
        int i = this.LLIFFJFJJ;
        if (i == 0 || i == 1 || i == 2 || i == 3) {
            clearMultiTouchListener();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public void onRenderFirstFrame(String str) {
        List<Aweme> list;
        super.onRenderFirstFrame(str);
        if (!JA2.LIZ()) {
            C8SG c8sg = C8SG.LIZIZ;
            Context context = getContext();
            AbstractC55082Lja abstractC55082Lja = this.mAdapter;
            if (abstractC55082Lja != null && this.mViewPager != null) {
                list = abstractC55082Lja.LJJIL();
            } else {
                list = null;
            }
            c8sg.LJII(this.mCurrentPosition, 1, context, list);
        }
    }

    @QD3
    public void onVideoCleanModeEvent(C55048Lj2 c55048Lj2) {
        C2MA curViewHolder;
        int i = c55048Lj2.LJLJI;
        boolean z = c55048Lj2.LJLIL;
        if (i == 1) {
            C2MA curFeedViewHolderExcludeLive = getCurFeedViewHolderExcludeLive();
            if (curFeedViewHolderExcludeLive == null || c55048Lj2.LJLILLLLZI == null || curFeedViewHolderExcludeLive.getAweme() == null || !c55048Lj2.LJLILLLLZI.getAid().equals(curFeedViewHolderExcludeLive.getAweme().getAid())) {
                return;
            }
            IRefreshAbility iRefreshAbility = this.refreshAbility;
            if (iRefreshAbility != null) {
                iRefreshAbility.setCanTouch(!z);
            }
            curFeedViewHolderExcludeLive.u8(z, false);
            return;
        }
        if (i == 2 && !TextUtils.isEmpty(c55048Lj2.LJLILLLLZI.getAid()) && (curViewHolder = getCurViewHolder()) != null && c55048Lj2.LJLILLLLZI != null && curViewHolder.getAweme() != null) {
            curViewHolder.u8(z, true);
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    @QD3
    public void onVideoPlayerEvent(C46276IEe c46276IEe) {
        CountDownTimer countDownTimer;
        int i = c46276IEe.LJLIL;
        if (i != 2 && i != 3) {
            if (i != 4) {
                if (i == 5) {
                    this.LLIIIZ = false;
                    this.LLIIJI = false;
                }
            } else if (isRecommendFeed() && (countDownTimer = C2OE.LJIILLIIL) != null) {
                countDownTimer.cancel();
            }
        } else {
            if (isRecommendFeed()) {
                C2OE.LJIL = System.currentTimeMillis();
                if (!C2OE.LJJI) {
                    C2OE.LJIJJ.onNext(C76800UCe.LIZ);
                }
            }
            Long l = C80X.LJ;
            if (l != null) {
                C80X.LJI.postDelayed(C80X.LJIIIIZZ, l.longValue());
            }
        }
        super.onVideoPlayerEvent(c46276IEe);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final String tryPlay(Aweme aweme) {
        if (!CP() || !isActive()) {
            return "23";
        }
        return super.tryPlay(aweme);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryResumePlay(Aweme aweme) {
        if (LJJJJL()) {
            return;
        }
        super.tryResumePlay(aweme);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void tryResumePlayByOnResume(boolean z) {
        if (LJJJJL()) {
            return;
        }
        super.tryResumePlayByOnResume(z);
    }

    public FullFeedFragmentPanel(String str, int i) {
        super(str, i);
        this.LJLIL = new C8RO("FullFeedFragmentPanel");
        this.LJLJJLL = 0;
        this.LJLJL = -1;
        this.LJLJLJ = null;
        this.LJLJLLL = new Handler(C16880lQ.LLJJJJ());
        this.LJLL = "";
        this.LJLLJ = new AtomicBoolean(false);
        this.LJLLL = false;
        this.LJLLLL = false;
        this.LJLLLLLL = false;
        this.LJLZ = ProactiveTriggersService.LJI();
        this.LJZ = new C55046Lj0(this);
        this.LJZI = new C55059LjD(this);
        this.LJZL = new C78588Usq();
        this.LL = new AObserverS76S0100000_8(this, 20);
        this.LLD = new AObserverS76S0100000_8(this, 21);
        this.LLF = false;
        this.LLFF = false;
        this.LLFFF = false;
        this.LLFII = false;
        this.LLFZ = false;
        this.LLI = true;
        this.LLIFFJFJJ = -1;
        this.LLII = new ArrayList();
        this.LLIIII = new C30164Bse(this);
        this.LLIIIILZ = null;
        this.LLIIIJ = 0;
        this.LLIIIL = false;
        this.LLIIIZ = false;
        this.LLIIJI = false;
        this.LLIIJLIL = false;
    }

    /* JADX WARN: Removed duplicated region for block: B:47:0x00d9  */
    /* JADX WARN: Removed duplicated region for block: B:58:0x00f2  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public void J5(java.util.List<com.ss.android.ugc.aweme.feed.model.Aweme> r11, boolean r12) {
        /*
            Method dump skipped, instructions count: 982
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.feed.panel.FullFeedFragmentPanel.J5(java.util.List, boolean):void");
    }

    public final void LJJJJZI(int i, Aweme aweme) {
        if (this.mDeleteItemListener != null && aweme != null && !C54838Lfe.LJJ(aweme)) {
            if (!this.mDeleteItemListener.deleteItem(aweme.getAid()) && aweme.getAid() != null) {
                LJJJLL(aweme.getAid());
                return;
            }
            return;
        }
        super.deleteAwemeAtPos(i, aweme);
    }

    public final void LJJLIIIJ(int i, Aweme aweme) {
        try {
            insertItemList(C2KB.LIZ(i, "user_interested_video", Collections.singletonList(aweme)));
            String str = BaseListFragmentPanel.TAG;
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("insertItemAllowNextTimeOk insert success aid:");
            LIZ.append(aweme.getAid());
            LIZ.append(",pos:");
            LIZ.append(i);
            C36922EeM.LIZLLL(4, str, X1D.LIZIZ(LIZ));
        } catch (C49866Jhe unused) {
            String str2 = BaseListFragmentPanel.TAG;
            StringBuilder LIZ2 = X1D.LIZ();
            LIZ2.append("insertItemAllowNextTimeOk insert fail,wait, aid:");
            LIZ2.append(aweme.getAid());
            LIZ2.append(",pos:");
            LIZ2.append(i);
            C36922EeM.LIZLLL(4, str2, X1D.LIZIZ(LIZ2));
            ((ArrayList) this.LLII).add(new C15070iV(aweme, Integer.valueOf(i)));
        }
    }

    public final void LJJLJ(List<Aweme> list, boolean z) {
        if (C2305192x.LIZIZ() && C2305192x.LIZ(getEventType()) && list != null) {
            if (this.LJLJI == null) {
                this.LJLJI = Y01.LIZIZ.LJIIIZ(EnumC55203LlX.FEED);
            }
            this.LJLJI.LIZ(getEventType(), list, !z);
        }
    }

    public final void LJJLL(List<Aweme> list, boolean z) {
        if (J8V.LJIILIIL() && !C79004UzY.LJJIFFI(list)) {
            if (C00F.LIZ(31744, 0, "feed_fragment_player_add_medias_async_opt", true) == 1) {
                C38995FSd.LIZIZ().execute(new ARunnableS8S0210000_9((Object) this, (View) z, (boolean) list, (InterfaceC65784Pro<C76800UCe>) 0));
            } else if (SFS.LJLILLLLZI && C00F.LIZ(31744, 0, "player_vc_strategy_add_medias_delay_opt", true) == 1) {
                SFS.LJLIL = new ARunnableS8S0210000_9((Object) this, (View) z, (boolean) list, (InterfaceC65784Pro<C76800UCe>) 1);
            } else {
                boolean z2 = !z;
                C46728IVo.LIZ(list, z2, z2, getSimKitSceneID(), getEventType());
            }
            SFS.LJLILLLLZI = false;
        }
        IH1.LIZJ().LIZ(getSimKitSceneID(), list, !z);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void deleteAwemeAtPos(int i, Aweme aweme) {
        super.deleteAwemeAtPos(i, aweme);
        InterfaceC57302Ms interfaceC57302Ms = this.mDeleteItemListener;
        if (interfaceC57302Ms != null && aweme != null) {
            interfaceC57302Ms.deleteItem(aweme.getAid());
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public final void doUnSelect(C2MA c2ma, boolean z) {
        super.doUnSelect(c2ma, z);
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void hideShareStayHomeGuide(long j, long j2) {
        InterfaceC57312Mt currentFeedUGView = getCurrentFeedUGView();
        if (currentFeedUGView != null && currentFeedUGView.getRootView() != null && j >= 0) {
            this.LJLJLLL.postDelayed(new IDRunnableS6S0101000(6, currentFeedUGView, 0), j);
        }
        InterfaceC82683Wch interfaceC82683Wch = this.LJLJLJ;
        if (interfaceC82683Wch != null && interfaceC82683Wch.isShowing() && j2 >= 0) {
            this.LJLJLLL.postDelayed(new IDRunnableS6S0101000(4, this, 3), j2);
        }
        C80X.LJI.removeCallbacks(C80X.LJIIIIZZ);
        C80X.LJFF = null;
        C80X.LJ = null;
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void j0(List<Aweme> list, boolean z) {
        boolean z2;
        List<Aweme> list2;
        IPlayerPreloadDataAbility iPlayerPreloadDataAbility;
        if (!isViewValid()) {
            this.LJLIL.LJIIL("[onLoadMoreResult] view invalid");
            return;
        }
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        int i = 0;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        this.mAdapter.LJLLL = z;
        ILoadMoreAbility iLoadMoreAbility = this.loadMoreAbility;
        if (iLoadMoreAbility != null) {
            z2 = iLoadMoreAbility.aY();
        } else {
            z2 = false;
        }
        if (!z && !this.LJLJJI) {
            ILoadMoreAbility iLoadMoreAbility2 = this.loadMoreAbility;
            if (iLoadMoreAbility2 != null) {
                iLoadMoreAbility2.showLoadMoreEmpty();
            }
        } else {
            ILoadMoreAbility iLoadMoreAbility3 = this.loadMoreAbility;
            if (iLoadMoreAbility3 != null) {
                iLoadMoreAbility3.resetLoadMoreState();
            }
        }
        IOfflineModeSwitchAbility iOfflineModeSwitchAbility = this.offlineModeSwitchAbility;
        if (iOfflineModeSwitchAbility != null) {
            iOfflineModeSwitchAbility.As();
        }
        C8RO c8ro = this.LJLIL;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[onLoadMoreResult] ");
        LIZ.append(z);
        c8ro.LJII(list, X1D.LIZIZ(LIZ));
        Aweme item = this.mAdapter.getItem(this.mViewPager.getCurrentItem());
        InterfaceC55235Lm3 vScope = getVScope();
        if (vScope != null && (iPlayerPreloadDataAbility = (IPlayerPreloadDataAbility) C55096Ljo.LIZ(vScope, IPlayerPreloadDataAbility.class, null)) != null) {
            iPlayerPreloadDataAbility.xo(item);
        }
        if (isRecommendFeed()) {
            getFeedAdReRankImpl().LJI(list);
        }
        int count = this.mAdapter.getCount();
        int LJJI = C78996UzQ.LJJI(item, list);
        if (C52472Kia.LIZ != 0) {
            Y01 y01 = Y01.LIZIZ;
            if (y01.LIZ().LIZJ()) {
                if (this.LLIIL == null) {
                    this.LLIIL = CaptionKevaServiceImpl.LJJJJI();
                }
                if (this.LLIIL.LJJIFFI()) {
                    String eventType = getEventType();
                    int size = list.size();
                    InterfaceC55053Lj7 LIZ2 = y01.LIZ();
                    if (size > LJJI) {
                        for (int i2 = LJJI + 1; i2 < size; i2++) {
                            Aweme aweme = (Aweme) ListProtector.get(list, i2);
                            if (LIZ2.LIZIZ(aweme)) {
                                LIZ2.LIZ(aweme, eventType);
                            }
                        }
                    }
                }
            }
        }
        this.mAdapter.setData(list);
        if (!((ArrayList) this.LLII).isEmpty()) {
            ArrayList arrayList = new ArrayList(this.LLII);
            ((ArrayList) this.LLII).clear();
            Iterator it = arrayList.iterator();
            while (it.hasNext()) {
                C15070iV c15070iV = (C15070iV) it.next();
                Aweme aweme2 = (Aweme) c15070iV.LIZ;
                Integer num = (Integer) c15070iV.LIZIZ;
                String str = BaseListFragmentPanel.TAG;
                StringBuilder LIZ3 = X1D.LIZ();
                LIZ3.append("pendingAddAwemeList insert aid:");
                LIZ3.append(aweme2.getAid());
                LIZ3.append(",pos:");
                LIZ3.append(num);
                C36922EeM.LIZLLL(4, str, X1D.LIZIZ(LIZ3));
                LJJLIIIJ(num.intValue(), aweme2);
            }
        }
        int count2 = this.mAdapter.getCount();
        if (count < count2 && list != null && list.size() >= count2) {
            LJJLL(list.subList(count, count2), true);
            LJJLJ(list.subList(count, count2), true);
        }
        if (!this.LJLJJI || (((Boolean) C33704DKq.LIZ.getValue()).booleanValue() && LJJI == count - 1 && z2)) {
            this.mViewPager.post(new ARunnableS4S0201000_1(LJJI, item, this, 1));
        }
        if (isImpressionEnabled()) {
            C2US.LIZJ(this.mImpressionKey).LIZIZ();
        }
        if (e1.LIZ(31744, "is_preload_process_data", true, false)) {
            getPlayerManager().LJIILL(list);
        }
        if (isRecommendFeed() && !C48714J9y.LIZ) {
            C48714J9y.LIZ = true;
            if (C48714J9y.LIZIZ) {
                C48714J9y.LIZ();
            }
        }
        C8SG c8sg = C8SG.LIZIZ;
        Context context = getContext();
        AbstractC55082Lja abstractC55082Lja = this.mAdapter;
        if (abstractC55082Lja != null && this.mViewPager != null) {
            list2 = abstractC55082Lja.LJJIL();
        } else {
            list2 = null;
        }
        c8sg.LJII(this.mCurrentPosition, 1, context, list2);
        if (list != null) {
            i = list.size();
        }
        if (C35168DrA.LIZ()) {
            C9K4 c9k4 = C9K4.LIZ;
            C56742Ko c56742Ko = new C56742Ko();
            c56742Ko.LIZ(getEventType(), WM7.SCENE_SERVICE);
            c56742Ko.LIZ(String.valueOf(i), "listNum");
            c56742Ko.LIZ(getEventType(), WM7.SCENE_SERVICE);
            c56742Ko.LIZ("loadMoreResult", "source");
            HashMap<String, String> extraInfo = c56742Ko.LIZ;
            o.LJIIIZ(extraInfo, "extraInfo");
            C9K4.LJ(c9k4, extraInfo, null, null, 30);
        }
        ICastingAbility iCastingAbility = this.castingAblity;
        if (iCastingAbility != null) {
            iCastingAbility.EX(list);
        }
        C769130d.LIZ(this.mAdapter, this.mViewPager, getContext(), getEventType(), 1);
    }

    @Override // X.InterfaceC223218pR
    public final void jh(List<Aweme> list, boolean z) {
        if (!isViewValid()) {
            return;
        }
        IRefreshAbility iRefreshAbility = this.refreshAbility;
        boolean z2 = false;
        if (iRefreshAbility != null) {
            iRefreshAbility.setRefreshing(false);
        }
        if (!z && !this.LJLJJI) {
            if (getUserVisibleHint() && this.activity != null && CP()) {
                C5S1 c5s1 = new C5S1(this.activity);
                c5s1.LIZJ(R.string.ect);
                c5s1.LJ();
                if (this.mViewPager.getCurrentItem() > 1) {
                    this.mViewPager.LJJJ(0, false);
                } else {
                    this.mViewPager.setCurrentItemWithDefaultVelocity(0);
                }
                this.LJLIL.LJIIIIZZ("[onLoadLatestResult], scroll to top");
            }
        } else {
            if (this.LJLJJI && !C79004UzY.LJJIFFI(list) && this.mAdapter.getCount() != list.size()) {
                z2 = true;
            }
            setPageChangeByLatest(z2);
            int count = this.mAdapter.getCount();
            this.mAdapter.setData(list);
            onFirstDataLoaded();
            if (!this.LJLJJI) {
                this.mViewPager.post(new ARunnableS37S0100000_1(this, 26));
            }
            int count2 = this.mAdapter.getCount();
            if (count < count2 && list != null && list.size() >= count2) {
                LJJLL(list.subList(count, count2), true);
                LJJLJ(list.subList(count, count2), true);
            }
        }
        if (isImpressionEnabled()) {
            C2US.LIZJ(this.mImpressionKey).LIZIZ();
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.IDR
    public final void onProgressUpdated(String str, int i) {
        C88545Yp3 c88545Yp3;
        InterfaceC57312Mt currentFeedUGView;
        Aweme currentAweme;
        if (i == 3) {
            if (this.LLIIIZ || this.sharePanelGuideManager == null || (currentAweme = getCurrentAweme()) == null) {
                return;
            }
            this.LLIIIZ = true;
            boolean LIZIZ = C4LD.LIZIZ.LIZIZ(currentAweme, getCurrentFeedUGView());
            if (this.sharePanelGuideManager.LIZ(this.param.isMyProfile(), currentAweme, this.activity, getCurrentFeedUGView()) && LIZIZ) {
                currentAweme.getAid();
                LJJZZIII("play_3s");
                return;
            }
            return;
        }
        if (i == 1 && !this.LLIIJI) {
            this.LLIIJI = true;
            Aweme currentAweme2 = getCurrentAweme();
            if (currentAweme2 != null && (c88545Yp3 = C88545Yp3.LIZIZ) != null && c88545Yp3.LIZ.LJIIL(currentAweme2) && (currentFeedUGView = getCurrentFeedUGView()) != null) {
                currentFeedUGView.LJJ();
            }
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel, X.AbstractC51687KQh, X.AbstractC51688KQi, X.KRB
    public void onViewCreated(View view, Bundle bundle) {
        boolean z;
        ILoadMoreAbility iLoadMoreAbility;
        super.onViewCreated(view, bundle);
        bindView(view);
        C16880lQ.LJIIL(this.LJLILLLLZI, new View.OnClickListener() { // from class: X.Lj8
            @Override // android.view.View.OnClickListener
            public final void onClick(View view2) {
            }
        });
        Activity activity = this.activity;
        if (activity instanceof ActivityC45651qj) {
            ActivityC45651qj activityC45651qj = (ActivityC45651qj) activity;
            LNH.LIZ(activityC45651qj, activityC45651qj, new C55049Lj3(this));
        }
        this.mViewPager.LJI(new C55040Liu(this));
        C10K.LIZJ(new ACallableS112S0100000_9(this, 7));
        this.mAdapter.LJIJ(this.LJZ);
        if (!LoadMorePanelComponentTempHelper.LJLJJLL && (iLoadMoreAbility = this.loadMoreAbility) != null) {
            iLoadMoreAbility.resetLoadMoreState();
            this.loadMoreAbility.qt0(this.mViewPager);
        }
        ILoadMoreAbility iLoadMoreAbility2 = this.loadMoreAbility;
        if (iLoadMoreAbility2 != null) {
            iLoadMoreAbility2.Kv("main_feed");
        }
        C80796VnM c80796VnM = this.mViewPager;
        if ("homepage_hot".equals(getEventType()) || (LPO.LIZ() && "homepage_follow".equals(getEventType()))) {
            z = true;
        } else {
            z = false;
        }
        c80796VnM.LLLIIIL = z;
        ActivityC45651qj LJJLI = LJJLI();
        if (LJJLI == null) {
            C36922EeM.LIZ(new RuntimeException("bindLiveData fail"));
            return;
        }
        if (isRecommendFeed()) {
            ((InterestViewModel) ViewModelProviders.of(LJJLI).get(InterestViewModel.class)).LJLIL.observe(LJJLI, new AObserverS58S0101000_2(1, this, 7));
            getFeedAdReRankImpl().LJIIIZ(new C55063LjH(this));
        }
        C32777Cth.LIZ = new C39412FdQ();
        if (((Number) C46373IHx.LIZ.getValue()).intValue() >= 0) {
            C57082Lw.LIZ.LIZJ("LivePageEnter").observeForever(this.LL);
        }
        if (((Number) C46375IHz.LIZ.getValue()).intValue() < 0) {
            return;
        }
        C57082Lw.LIZ.LIZJ("LiveBroadcastPageEnter").observeForever(this.LLD);
    }

    public final void LJLI(int i, String str, Aweme aweme) {
        String str2;
        ShareInfo shareInfo;
        if (C80X.LIZLLL(aweme) || IW7.LIZLLL() != 0) {
            if (C80X.LJII(aweme, getCurrentFeedUGView().LJIJI(), i, str)) {
                if (i == 1) {
                    if (aweme == null || (shareInfo = aweme.getShareInfo()) == null || (str2 = shareInfo.getButtonDisplayStrategySource()) == null) {
                        str2 = "";
                    }
                    this.LJLL = str2;
                } else {
                    this.LJLL = "loop2";
                }
                if (this.LLIIJLIL) {
                    this.LLIIIL = true;
                } else {
                    LJJZZIII(this.LJLL);
                }
                if (i == 2) {
                    String LJJLIIIIJ = C44384HbQ.LJJLIIIIJ();
                    C198517qh c198517qh = new C198517qh();
                    c198517qh.LIZ.put("awe_share_guide_type", LJJLIIIIJ);
                    FUA.LIZJ("awe_share_guide_type_log", c198517qh.LJ());
                    return;
                }
                return;
            }
            if (i != 2) {
                return;
            }
            C198517qh c198517qh2 = new C198517qh();
            c198517qh2.LIZ.put("awe_share_guide_type", LiveGiftNewGifterBadgeSetting.DEFAULT);
            FUA.LIZJ("awe_share_guide_type_log", c198517qh2.LJ());
        }
    }

    public static void LJJJJI(FullFeedFragmentPanel fullFeedFragmentPanel, boolean z, int i, int i2) {
        String str;
        HashMap<Boolean, String> hashMap;
        if (fullFeedFragmentPanel.mCheckLoadMoreListener != null) {
            SmartFeedLoadMoreService.getDebug();
            if (z) {
                fullFeedFragmentPanel.postDelayed(new ARunnableS5S0101000_1(fullFeedFragmentPanel, i2, 10), i);
                if (IW8.LIZJ && (hashMap = IW8.LIZLLL) != null) {
                    str = hashMap.get(Boolean.valueOf(z));
                } else {
                    str = null;
                }
                if (!TextUtils.isEmpty(str)) {
                    C47242IgQ.LIZ().smartTimelinessPreloadBusinessEvent(str);
                }
                SmartFeedLoadMoreService.getDebug();
            }
        }
    }

    @Override // com.ss.android.ugc.aweme.feed.panel.BaseListFragmentPanel
    public AbstractC55082Lja createFeedPagerAdapter(Context context, LayoutInflater layoutInflater, InterfaceC72642tA<C50420Jqa> interfaceC72642tA, Fragment fragment, View.OnTouchListener onTouchListener, BaseFeedPageParams baseFeedPageParams, InterfaceC2302191t interfaceC2302191t) {
        return new FullFeedPagerAdapter(context, layoutInflater, interfaceC72642tA, fragment, onTouchListener, baseFeedPageParams, interfaceC2302191t);
    }
}
