package com.ss.android.ugc.aweme.shortvideo.ui;

import X.AEY;
import X.AI2;
import X.AI8;
import X.AI9;
import X.AIF;
import X.AR6;
import X.ARI;
import X.AbstractC156986Ec;
import X.AbstractC157016Ef;
import X.ActivityC45651qj;
import X.C00F;
import X.C020506f;
import X.C025908h;
import X.C0UE;
import X.C10K;
import X.C124454uX;
import X.C131215Cz;
import X.C13860gY;
import X.C139895eL;
import X.C141365gi;
import X.C142955jH;
import X.C142985jK;
import X.C143195jf;
import X.C145995oB;
import X.C146535p3;
import X.C150705vm;
import X.C15070iV;
import X.C151345wo;
import X.C152915zL;
import X.C156996Ed;
import X.C157006Ee;
import X.C157026Eg;
import X.C157036Eh;
import X.C157046Ei;
import X.C157056Ej;
import X.C157066Ek;
import X.C157116Ep;
import X.C157956Hv;
import X.C158056If;
import X.C162236Yh;
import X.C162356Yt;
import X.C162696a1;
import X.C16360ka;
import X.C163726bg;
import X.C164096cH;
import X.C164846dU;
import X.C165326eG;
import X.C165706es;
import X.C165716et;
import X.C16880lQ;
import X.C188627ak;
import X.C188727au;
import X.C198517qh;
import X.C19N;
import X.C1AT;
import X.C1I0;
import X.C211898Th;
import X.C2309394n;
import X.C24540xm;
import X.C26012AIu;
import X.C26224AQy;
import X.C26227ARb;
import X.C268713r;
import X.C2NU;
import X.C2QW;
import X.C2YJ;
import X.C33381Ss;
import X.C36922EeM;
import X.C37203Eit;
import X.C38027EwB;
import X.C38028EwC;
import X.C38995FSd;
import X.C39214FaE;
import X.C40871j1;
import X.C40944G5c;
import X.C40949G5h;
import X.C40951G5j;
import X.C40966G5y;
import X.C40968G6a;
import X.C40976G6i;
import X.C40977G6j;
import X.C40978G6k;
import X.C40980G6m;
import X.C40981G6n;
import X.C40982G6o;
import X.C40983G6p;
import X.C40984G6q;
import X.C40990G6w;
import X.C40992G6y;
import X.C40999G7f;
import X.C41005G7l;
import X.C41008G7o;
import X.C41010G7q;
import X.C41015G7v;
import X.C41018G7y;
import X.C41021G8b;
import X.C41025G8f;
import X.C41028G8i;
import X.C41030G8k;
import X.C41032G8m;
import X.C41037G8r;
import X.C41315GJj;
import X.C41481GPt;
import X.C41485GPx;
import X.C41491GQd;
import X.C41529GRp;
import X.C41554GSo;
import X.C41555GSp;
import X.C41571GTf;
import X.C41658GWo;
import X.C41727GZf;
import X.C41859Gbn;
import X.C41890GcI;
import X.C42000Ge4;
import X.C42097Gfd;
import X.C42149GgT;
import X.C42151GgV;
import X.C42278GiY;
import X.C42279GiZ;
import X.C42303Gix;
import X.C42315Gj9;
import X.C42326GjK;
import X.C42539Gml;
import X.C42545Gmr;
import X.C42547Gmt;
import X.C42549Gmv;
import X.C42562Gn8;
import X.C42662Gok;
import X.C42663Gol;
import X.C42796Gqu;
import X.C42898GsY;
import X.C42970Gti;
import X.C43133GwL;
import X.C43150Gwc;
import X.C43212Gxc;
import X.C43542H7a;
import X.C43543H7b;
import X.C43587H8t;
import X.C43722HDy;
import X.C43723HDz;
import X.C43814HHm;
import X.C43882HKc;
import X.C44172HVg;
import X.C44224HXg;
import X.C44296Ha0;
import X.C44384HbQ;
import X.C44423Hc3;
import X.C44546He2;
import X.C44674Hg6;
import X.C44739Hh9;
import X.C45049Hm9;
import X.C45087Hml;
import X.C45804HyK;
import X.C47261Igj;
import X.C48331Ixz;
import X.C48335Iy3;
import X.C48340Iy8;
import X.C48343IyB;
import X.C51217K8f;
import X.C51556KLg;
import X.C52250Kf0;
import X.C52467KiV;
import X.C53258KvG;
import X.C58B;
import X.C5HR;
import X.C5IP;
import X.C5K0;
import X.C5KN;
import X.C5UD;
import X.C60903NvH;
import X.C62819Ol5;
import X.C62822Ol8;
import X.C62905OmT;
import X.C62906OmU;
import X.C63081OpJ;
import X.C69142nW;
import X.C69202nc;
import X.C6EY;
import X.C6EZ;
import X.C6FQ;
import X.C6XF;
import X.C6XP;
import X.C72062SPy;
import X.C73030SlO;
import X.C73411SrX;
import X.C73969T1h;
import X.C76800UCe;
import X.C77117UOj;
import X.C77412UZs;
import X.C780334l;
import X.C78555UsJ;
import X.C78596Usy;
import X.C78598Ut0;
import X.C78613UtF;
import X.C78685UuP;
import X.C78842Uww;
import X.C78857UxB;
import X.C78862UxG;
import X.C78866UxK;
import X.C78886Uxe;
import X.C78915Uy7;
import X.C78923UyF;
import X.C78934UyQ;
import X.C78983UzD;
import X.C78996UzQ;
import X.C79004UzY;
import X.C79045V0n;
import X.C793139j;
import X.C82161WMj;
import X.C8G2;
import X.CallableC42376Gk8;
import X.DU6;
import X.EDK;
import X.EF7;
import X.EnumC123874tb;
import X.EnumC42099Gff;
import X.EnumC42282Gic;
import X.EnumC42283Gid;
import X.EnumC42934Gt8;
import X.EnumC43590H8w;
import X.FFL;
import X.FMX;
import X.FSY;
import X.G5D;
import X.G5E;
import X.G5I;
import X.G5J;
import X.G5K;
import X.G5P;
import X.G5Q;
import X.G5R;
import X.G5T;
import X.G5X;
import X.G5Y;
import X.G61;
import X.G63;
import X.G64;
import X.G66;
import X.G67;
import X.G68;
import X.G6A;
import X.G6D;
import X.G6F;
import X.G6K;
import X.G6L;
import X.G6O;
import X.G6R;
import X.G6S;
import X.G6W;
import X.G6X;
import X.G6Y;
import X.G6Z;
import X.G74;
import X.G7B;
import X.G7I;
import X.G7K;
import X.G7M;
import X.G7V;
import X.G7W;
import X.G84;
import X.G8A;
import X.G8G;
import X.G8J;
import X.G8O;
import X.G8P;
import X.G8R;
import X.G9M;
import X.G9V;
import X.GA5;
import X.GAD;
import X.GAE;
import X.GAK;
import X.GB5;
import X.GBY;
import X.GFJ;
import X.GFL;
import X.GGO;
import X.GGS;
import X.GHX;
import X.GI3;
import X.GI5;
import X.GJJ;
import X.GLI;
import X.GQ4;
import X.GQ5;
import X.GQ6;
import X.GS5;
import X.GSR;
import X.GSX;
import X.GUH;
import X.GUT;
import X.GV9;
import X.GVF;
import X.GXR;
import X.H78;
import X.H7C;
import X.H7R;
import X.H83;
import X.H8E;
import X.H8G;
import X.H8H;
import X.HTP;
import X.HZV;
import X.InterfaceC162316Yp;
import X.InterfaceC165696er;
import X.InterfaceC40948G5g;
import X.InterfaceC40957G5p;
import X.InterfaceC40961G5t;
import X.InterfaceC40967G5z;
import X.InterfaceC41079GAh;
import X.InterfaceC43749HEz;
import X.InterfaceC65784Pro;
import X.InterfaceC88471Ynr;
import X.InterfaceC88472Yns;
import X.InterfaceC88474Ynu;
import X.InterfaceC92693kP;
import X.KL2;
import X.KMP;
import X.OHQ;
import X.OSZ;
import X.ProgressDialogC164766dM;
import X.Q0C;
import X.Q5C;
import X.Q8U;
import X.RunnableC151315wl;
import X.SY4;
import X.T03;
import X.T16;
import X.T3D;
import X.T5U;
import X.TBT;
import X.UFE;
import X.V0Z;
import X.WM7;
import X.WNH;
import X.WNW;
import X.X1D;
import X.XKX;
import Y.ACListenerS15S1300000_7;
import Y.ACListenerS24S0101000_5;
import Y.ACallableS110S0100000_7;
import Y.ACallableS80S0101000_9;
import Y.ACallableS84S0200000_7;
import Y.AObjectS117S0200000_7;
import Y.AObjectS120S0200000_2;
import Y.AObjectS123S0200000_7;
import Y.AObjectS127S0200000_7;
import Y.AObjectS131S0200000_7;
import Y.AObjectS136S0100000_7;
import Y.AObjectS141S0100000_7;
import Y.AObjectS145S0100000_7;
import Y.AObjectS40S0201000_7;
import Y.AObjectS42S0101000_5;
import Y.AObjectS42S0201000_13;
import Y.AObjectS43S0101000_7;
import Y.AObjectS50S0101000_5;
import Y.AObjectS52S0101000_7;
import Y.AObjectS54S0101000_9;
import Y.AObjectS56S0101000_13;
import Y.AObjectS58S0000000_7;
import Y.AObjectS86S0100000_7;
import Y.AObjectS88S0101000_7;
import Y.AObjectS89S0101000_13;
import Y.AObjectS89S0300000_7;
import Y.AObserverS70S0100000_2;
import Y.ARunnableS11S0101000_7;
import Y.ARunnableS1S0001000_6;
import Y.AfS46S0300000_7;
import Y.AfS56S0200000_7;
import Y.AgS124S0100000_7;
import Y.IDCListenerS50S0200000_7;
import Y.IDCSpanS32S0100000_7;
import Y.IDComparatorS35S0000000_7;
import Y.IDDListenerS146S0100000_7;
import Y.IDRunnableS6S0101000;
import android.app.Activity;
import android.app.Application;
import android.content.Intent;
import android.graphics.Bitmap;
import android.os.Bundle;
import android.os.SystemClock;
import android.text.SpannableString;
import android.text.SpannableStringBuilder;
import android.text.TextUtils;
import android.text.style.StyleSpan;
import android.transition.AutoTransition;
import android.util.ArrayMap;
import android.util.Log;
import android.view.KeyEvent;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewStub;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.TextView;
import androidx.fragment.app.Fragment;
import androidx.lifecycle.LifecycleOwner;
import androidx.lifecycle.MutableLiveData;
import androidx.lifecycle.ViewModelKt;
import androidx.lifecycle.ViewModelProvider;
import com.bytedance.ies.abmock.SettingsManager;
import com.bytedance.ies.nle.editor_jni.LogLevel;
import com.bytedance.ies.nle.editor_jni.NLEEditor;
import com.bytedance.ies.nle.editor_jni.NLEModel;
import com.bytedance.ies.nle.editor_jni.NLESegmentVideo;
import com.bytedance.ies.nle.editor_jni.NLETrack;
import com.bytedance.ies.nle.editor_jni.NLETrackSlot;
import com.bytedance.jedi.arch.BaseJediViewModel;
import com.bytedance.jedi.arch.JediViewModel;
import com.bytedance.keva.Keva;
import com.bytedance.mt.protector.impl.collections.ListProtector;
import com.bytedance.scene.ktx.SceneExtensionsKt;
import com.bytedance.scene.navigation.NavigationScene;
import com.bytedance.tux.input.TuxTextView;
import com.bytedance.tux.sheet.sheet.TuxSheet;
import com.ss.android.ugc.aweme.adaptation.PublishPreviewScene;
import com.ss.android.ugc.aweme.adaptation.analysis.Analysis;
import com.ss.android.ugc.aweme.anchor.service.AnchorListServiceImpl;
import com.ss.android.ugc.aweme.anchor.service.AnchorLock$IAnchorStateService;
import com.ss.android.ugc.aweme.anchor.service.AnchorOperationServiceImpl;
import com.ss.android.ugc.aweme.anchor.service.AnchorStateServiceImpl;
import com.ss.android.ugc.aweme.api.AnchorAutoSelectionService;
import com.ss.android.ugc.aweme.audio.copyrightdetect.PreCheckResult;
import com.ss.android.ugc.aweme.base.AnchorListManager;
import com.ss.android.ugc.aweme.base.model.UrlModel;
import com.ss.android.ugc.aweme.commerce.tools.common.publish.CommerceToolsPublishService;
import com.ss.android.ugc.aweme.commerce.tools.mission.Mission;
import com.ss.android.ugc.aweme.commerce.tools.mission.MissionUser;
import com.ss.android.ugc.aweme.commerce.tools.tcm.CommerceToolsTcmModel;
import com.ss.android.ugc.aweme.commerce.tools.tcm.TCMPostPageSubmitTextModel;
import com.ss.android.ugc.aweme.commerce.tools.tcm.service.CommerceToolsTcmServiceImpl;
import com.ss.android.ugc.aweme.common.MobClick;
import com.ss.android.ugc.aweme.creative.CreativeInfo;
import com.ss.android.ugc.aweme.creative.model.AIGCInfo;
import com.ss.android.ugc.aweme.creative.model.AudioCopyrightDetectModel;
import com.ss.android.ugc.aweme.creative.model.CreativeModel;
import com.ss.android.ugc.aweme.creative.model.NowsShootModel;
import com.ss.android.ugc.aweme.creative.model.PUgcTemplateData;
import com.ss.android.ugc.aweme.creative.model.PrivacySettingModel;
import com.ss.android.ugc.aweme.creative.model.UgcTemplateData;
import com.ss.android.ugc.aweme.creative.model.WWAModel;
import com.ss.android.ugc.aweme.creative.model.draft.DraftInfoModel;
import com.ss.android.ugc.aweme.creative.model.publish.AVTextExtraStruct;
import com.ss.android.ugc.aweme.creative.model.publish.CaptionModel;
import com.ss.android.ugc.aweme.creative.model.trending.TrendingUploadModel;
import com.ss.android.ugc.aweme.editSticker.model.InfoStickerModel;
import com.ss.android.ugc.aweme.editSticker.model.StickerItemModel;
import com.ss.android.ugc.aweme.favorites.service.FavoriteServiceImpl;
import com.ss.android.ugc.aweme.favorites.service.IFavoriteService;
import com.ss.android.ugc.aweme.feed.model.CardStruct;
import com.ss.android.ugc.aweme.feed.model.InteractionTagInfoKt;
import com.ss.android.ugc.aweme.feed.model.InteractionTagUserInfo;
import com.ss.android.ugc.aweme.feed.model.trendingtopic.VideoTrendingTopic;
import com.ss.android.ugc.aweme.framework.services.ServiceManager;
import com.ss.android.ugc.aweme.friends.model.MutualStruct;
import com.ss.android.ugc.aweme.geofencing.model.TranslatedRegion;
import com.ss.android.ugc.aweme.image.model.SingleImageData;
import com.ss.android.ugc.aweme.internal.CrossLanguageUserExperiment;
import com.ss.android.ugc.aweme.internal.ShareServiceImpl;
import com.ss.android.ugc.aweme.mix.services.MixFeedService;
import com.ss.android.ugc.aweme.music.model.MusicBeanUtilKt;
import com.ss.android.ugc.aweme.mvtheme.MvCreateVideoData;
import com.ss.android.ugc.aweme.profile.model.User;
import com.ss.android.ugc.aweme.publish.publishcheck.CheckManager;
import com.ss.android.ugc.aweme.search.common.communicate.SearchServiceImpl;
import com.ss.android.ugc.aweme.service.IToolsVQEvaluationService;
import com.ss.android.ugc.aweme.services.IAVSettingServiceImpl;
import com.ss.android.ugc.aweme.services.NetworkStandardUIServiceImpl;
import com.ss.android.ugc.aweme.services.external.IComplianceService;
import com.ss.android.ugc.aweme.services.publish.AVPublishContentType;
import com.ss.android.ugc.aweme.services.publish.AVPublishExtensionUtils;
import com.ss.android.ugc.aweme.services.publish.AVPublishPageScene;
import com.ss.android.ugc.aweme.services.publish.ExtensionDataRepo;
import com.ss.android.ugc.aweme.services.publish.GoodsPublishModel;
import com.ss.android.ugc.aweme.services.publish.HotSpotTagPublishModel;
import com.ss.android.ugc.aweme.services.publish.IAVPublishExtension;
import com.ss.android.ugc.aweme.services.publish.Publish;
import com.ss.android.ugc.aweme.services.uikit.CreativeLoadingDialogBuilder;
import com.ss.android.ugc.aweme.services.uikit.CreativeToastBuilder;
import com.ss.android.ugc.aweme.share.ShareExtServiceImpl;
import com.ss.android.ugc.aweme.shortvideo.AVChallenge;
import com.ss.android.ugc.aweme.shortvideo.AVMusic;
import com.ss.android.ugc.aweme.shortvideo.EffectDraftSubmissionListViewModel;
import com.ss.android.ugc.aweme.shortvideo.audio.copyright.AudioCopyrightProcessObserver;
import com.ss.android.ugc.aweme.shortvideo.audio.copyright.StitchCopyrightProcessObserver;
import com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel;
import com.ss.android.ugc.aweme.shortvideo.edit.model.EditPreviewInfo;
import com.ss.android.ugc.aweme.shortvideo.edit.videolength.VideoLengthChecker;
import com.ss.android.ugc.aweme.shortvideo.experiment.AutogeneratedCaptionLanguageSelection;
import com.ss.android.ugc.aweme.shortvideo.image.ExpandTextViewModel;
import com.ss.android.ugc.aweme.shortvideo.image.ExpandedTitleModule;
import com.ss.android.ugc.aweme.shortvideo.model.AVUploadSaveModel;
import com.ss.android.ugc.aweme.shortvideo.model.AddToPlaylistItemStatus;
import com.ss.android.ugc.aweme.shortvideo.model.AutoSelectedAnchorInfos;
import com.ss.android.ugc.aweme.shortvideo.model.BehaviorType;
import com.ss.android.ugc.aweme.shortvideo.model.CommentSettingItemStatus;
import com.ss.android.ugc.aweme.shortvideo.model.CommonSettingItemStatus;
import com.ss.android.ugc.aweme.shortvideo.model.DuetSettingItemStatus;
import com.ss.android.ugc.aweme.shortvideo.model.StitchSettingItemStatus;
import com.ss.android.ugc.aweme.shortvideo.pugc.PUgcSlotData;
import com.ss.android.ugc.aweme.shortvideo.transition.VideoCoverBitmapHolder;
import com.ss.android.ugc.aweme.shortvideo.ui.VideoPublishContainerScene;
import com.ss.android.ugc.aweme.shortvideo.ui.savelocal.SaveLocalHelper;
import com.ss.android.ugc.aweme.shortvideo.ui.viewmodel.VideoPublishState;
import com.ss.android.ugc.aweme.shortvideo.ui.viewmodel.VideoPublishViewModel;
import com.ss.android.ugc.aweme.shoutouts.ShoutOutsData;
import com.ss.android.ugc.aweme.topic.trendingtopic.IVideoTrendingTopicService;
import com.ss.android.ugc.aweme.topic.trendingtopic.VideoTrendingTopicServiceImpl;
import com.ss.android.ugc.aweme.utils.Au2S13S0100000_2;
import com.ss.android.ugc.aweme.video.hashtag.feedback.KeyboardStateViewModel;
import com.ss.android.ugc.tiktok.tpsc.model.PrivacyUserSettingsV2;
import com.ss.android.vesdk.runtime.VEMem;
import com.zhiliaoapp.musically.R;
import defpackage.b1;
import defpackage.e1;
import defpackage.g0;
import defpackage.i0;
import java.io.Serializable;
import java.lang.ref.WeakReference;
import java.math.BigDecimal;
import java.math.RoundingMode;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.concurrent.Callable;
import java.util.concurrent.atomic.AtomicInteger;
import kotlin.jvm.internal.AqS154S0200000_7;
import kotlin.jvm.internal.AqS173S0100000_7;
import kotlin.jvm.internal.o;
import ujb.s;
import yq4.a;

/* loaded from: classes8.dex */
public class VideoPublishContainerScene extends TikTokPublishGroupScene implements GAK, InterfaceC40948G5g, IComplianceService, G6K, InterfaceC162316Yp, InterfaceC41079GAh, InterfaceC165696er {
    public static final String LLLFZ = C16880lQ.LJLLJ(VideoPublishContainerScene.class);
    public List<InterfaceC40967G5z> LJLJL;
    public G5X LJLJLJ;
    public View LJLJLLL;
    public C188627ak LJLL;
    public View LJLLI;
    public View LJLLILLLL;
    public View LJLLJ;
    public TuxTextView LJLLL;
    public CommentSettingItemStatus LJLLLL;
    public DuetSettingItemStatus LJLLLLLL;
    public StitchSettingItemStatus LJLZ;
    public AudioCopyrightProcessObserver LJZ;
    public C40992G6y LLF;
    public AI8 LLFF;
    public G74 LLFFF;
    public AI8 LLFII;
    public AI8 LLFZ;
    public C2QW LLI;
    public IVideoTrendingTopicService LLII;
    public G5K LLIIIILZ;
    public GQ5 LLIIIJ;
    public C41485GPx LLIIIL;
    public LinearLayout LLIIIZ;
    public C42796Gqu LLIIJI;
    public C793139j LLIIJLIL;
    public C164096cH LLIIL;
    public TuxTextView LLIILII;
    public View LLIILZL;
    public View LLIIZ;
    public View LLIL;
    public TuxTextView LLILII;
    public GSR LLILIL;
    public TuxTextView LLILL;
    public TuxTextView LLILLIZIL;
    public G6F LLILLJJLI;
    public C40984G6q LLILZ;
    public ViewGroup LLILZIL;
    public VideoPublishEditModel LLILZLL;
    public VideoCoverBitmapHolder LLIZ;
    public Bundle LLIZLLLIL;
    public Bitmap LLJ;
    public ProgressDialogC164766dM LLJI;
    public C42278GiY LLJIJIL;
    public List<C15070iV<Class<?>, IAVPublishExtension<?>>> LLJILJILJ;
    public C43722HDy LLJILLL;
    public H8E LLJJIII;
    public G6O LLJJIJI;
    public C40871j1<Boolean> LLJJIJIIJIL;
    public GS5 LLJJIJIL;
    public IDDListenerS146S0100000_7 LLJJJ;
    public View LLJJJIL;
    public View LLJJJJ;
    public View LLJJJJJIL;
    public View LLJJJJLIIL;
    public View LLJJL;
    public Activity LLJLIL;
    public AbstractC156986Ec LLJLILLLLZIIL;
    public AI8 LLJLL;
    public TextView LLJLLL;
    public TextView LLJZ;
    public TextView LLJZIJLIL;
    public SY4 LLL;
    public TextView LLLF;
    public SY4 LLLFF;
    public ExpandTextViewModel LLLFFI;
    public final AddToPlaylistItemStatus LJZI = new AddToPlaylistItemStatus();
    public final G7B LJZL = new G7B();
    public final CommonSettingItemStatus LL = new CommonSettingItemStatus();
    public AI8 LLD = null;
    public AI8 LLIFFJFJJ = null;
    public final MutableLiveData<G6D> LLIIII = new MutableLiveData<>();
    public KeyboardStateViewModel LLILLL = null;
    public final AtomicInteger LLJILJIL = new AtomicInteger(0);
    public final List<G63> LLJJ = new ArrayList();
    public Mission LLJJI = null;
    public final AnchorLock$IAnchorStateService LLJJLIIIJLLLLLLLZ = AnchorStateServiceImpl.LJIIJ();
    public final boolean LLJL = C58B.LIZ();
    public boolean LLJLLIL = false;

    public final void J() {
        C41010G7q.LJFF(this.mActivity, C78983UzD.LJJJJJL(this.LLILZLL), new AObjectS52S0101000_7(3, this, 23), new AObjectS52S0101000_7(1, this, 4));
    }

    @Override // com.ss.android.ugc.aweme.adaptation.AbsSceneAdaptationScene
    public final String LLL() {
        return "video_post_page";
    }

    public final synchronized IVideoTrendingTopicService LLLLL() {
        if (this.LLII == null) {
            this.LLII = VideoTrendingTopicServiceImpl.LIZLLL();
        }
        return this.LLII;
    }

    public final void LLLLZLL() {
        if (!"us".equalsIgnoreCase(C44296Ha0.LIZ()) && !"au".equalsIgnoreCase(C44296Ha0.LIZ())) {
            return;
        }
        LLLLZIL();
    }

    @Override // X.G6K
    public final LifecycleOwner getLifeCycleOwner() {
        return this;
    }

    public static void v() {
        C44172HVg.LIZJ.getClass();
        C44172HVg.LIZJ.getClass();
    }

    public final void C() {
        ARI ari = new ARI(LLII());
        ari.LJI(R.string.q1, null);
        C26227ARb c26227ARb = new C26227ARb(LLII());
        c26227ARb.LJFF(LLII().getString(R.string.a1p));
        c26227ARb.LIZIZ(LLII().getString(R.string.a1o, ""));
        c26227ARb.LJIIL = ari;
        C77117UOj.LJIL(c26227ARb, LLII().getString(R.string.q6), new AObjectS42S0101000_5(3, this, 37));
        c26227ARb.LJI().LIZLLL();
        C145995oB c145995oB = new C145995oB();
        c145995oB.LJI("creation_id", this.LLILZLL.getCreationId());
        c145995oB.LJI("enter_from", "video_post_page");
        c145995oB.LJI("shoot_way", this.LLILZLL.mShootWay);
        c145995oB.LJI("content_type", H7R.LJIIIZ(this.LLILZLL));
        c145995oB.LJI("content_source", H7R.LJIIIIZZ(this.LLILZLL));
        FMX.LJIIL("create_ugc_template_fail_popup_show", c145995oB.LIZ);
    }

    public final void E() {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null && videoPublishEditModel.creativeModel.soundEffectInfoModel.shouldShowRemoveToast) {
            H7C.LIZ(new C5IP() { // from class: X.5IR
            }, "show soundEffect removed toast on publish page");
            C24540xm.LIZ(R.string.fnu, requireActivity(), 2020);
            this.LLILZLL.creativeModel.soundEffectInfoModel.shouldShowRemoveToast = false;
            return;
        }
        H7C.LIZ(new C5IP() { // from class: X.5IR
        }, "not show soundEffect removed toast on edit page");
    }

    public final void H() {
        G6A g6a;
        G5I g5i;
        G6F g6f = this.LLILLJJLI;
        if (g6f != null && (g6a = g6f.LIZ) != null && (g5i = ((C40990G6w) g6a).LIZ) != null && g5i.getVisibility() == 0) {
            ShareServiceImpl.LIZJ().LIZ(getPublishPermission(), getMusicPreventDownload());
        }
    }

    public final void I() {
        int i;
        IFavoriteService LJIJJLI;
        Activity activity = this.mActivity;
        if (activity != null && !activity.isFinishing()) {
            G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
            g5d.LJJIFFI = true;
            g5d.LJI = true;
            if (!g5d.LJJIZ && !g5d.LJIIL) {
                this.mActivity.finish();
            }
            C5UD c5ud = C44172HVg.LIZJ;
            LLJLL();
            String str = this.LLILZLL.mStickerID;
            c5ud.getClass();
            if (str != null) {
                C63081OpJ.LJJJJJ(EF7.LIZIZ(), InterfaceC40957G5p.class);
                if (!s.LJJJLZIJ(str, "153070", false)) {
                    s.LJJJLZIJ(str, "153071", false);
                }
            }
            H78.LIZ("before publish, do not use model from draft");
            List<C15070iV<Class<?>, IAVPublishExtension<?>>> list = this.LLJILJILJ;
            if (list != null) {
                Iterator it = ((ArrayList) list).iterator();
                while (it.hasNext()) {
                    ((IAVPublishExtension) ((C15070iV) it.next()).LIZIZ).onPublish(C42000Ge4.LJIILJJIL(this.LLILZLL));
                }
            }
            PublishPreviewScene publishPreviewScene = null;
            C43150Gwc.LJIIIIZZ("-2", BehaviorType.EVENT, "CP", null, 24);
            this.LLILZLL.screenBrightness = C62819Ol5.LJIJ(this.mActivity);
            H8E h8e = this.LLJJIII;
            Activity requireActivity = requireActivity();
            VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
            GSR gsr = this.LLILIL;
            G6F g6f = this.LLILLJJLI;
            NavigationScene LJIIJJI = C78923UyF.LJIIJJI(this);
            if (LJIIJJI != null) {
                List<WM7> sceneList = LJIIJJI.getSceneList();
                ArrayList arrayList = (ArrayList) sceneList;
                if (arrayList.size() != 0) {
                    int size = arrayList.size();
                    while (true) {
                        size--;
                        if (size < 0) {
                            break;
                        }
                        WM7 wm7 = (WM7) ListProtector.get(sceneList, size);
                        if (wm7 instanceof PublishPreviewScene) {
                            publishPreviewScene = (PublishPreviewScene) wm7;
                            break;
                        }
                    }
                }
            }
            h8e.LJII(requireActivity, videoPublishEditModel, gsr, g6f, false, publishPreviewScene, false, null, this.mArguments);
            H8E h8e2 = this.LLJJIII;
            ActivityC45651qj LLJLL = LLJLL();
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            G5D g5d2 = videoPublishEditModel2.creativeModel.transientPostPageModel;
            int i2 = g5d2.LJIILL;
            String publishActionTraceId = g5d2.LJIILJJIL;
            h8e2.getClass();
            o.LJIIIZ(publishActionTraceId, "publishActionTraceId");
            if (H7R.LJJJJL(videoPublishEditModel2)) {
                i = 11;
            } else {
                i = 0;
            }
            long j = 1024;
            int LIZ = (int) ((C48340Iy8.LIZ(LLJLL) / j) / j);
            if (C42549Gmv.LIZIZ) {
                C10K.LIZJ(new G5E(videoPublishEditModel2, i, LIZ, i2, publishActionTraceId));
            } else {
                C145995oB c145995oB = new C145995oB();
                c145995oB.LJI("creation_id", videoPublishEditModel2.getCreationId());
                c145995oB.LJI("shoot_way", videoPublishEditModel2.mShootWay);
                c145995oB.LJI("content_type", H7R.LJIIIZ(videoPublishEditModel2));
                c145995oB.LIZ(i, "video_type");
                c145995oB.LIZ(LIZ, "memory_total_size_mb");
                c145995oB.LIZ(0, "retry_publish");
                c145995oB.LIZ(i2, "pre_publish_type");
                c145995oB.LJI("publish_action_trace_id", publishActionTraceId);
                c145995oB.LIZ(videoPublishEditModel2.screenBrightness, "brightness");
                c145995oB.LIZ(C44546He2.LJFF(videoPublishEditModel2) ? 1 : 0, "is_hd_video");
                c145995oB.LIZ(1, "video_upload_type");
                FMX.LJIIL("performance_publish", c145995oB.LIZ);
            }
            GI3.LJII(new G8R(LLII(), LLLJ(false), this.LLILZLL.creativeModel.transientPostPageModel.LJIILIIL));
            LLZLI(System.currentTimeMillis() - this.LLILZLL.creativeModel.transientPostPageModel.LIZIZ, "tool_performance_publish_click_post_response_duration");
            if (this.LLILZLL.isSaveLocal()) {
                boolean isSaveLocalWithWaterMark = this.LLILZLL.isSaveLocalWithWaterMark();
                C145995oB LIZIZ = GFJ.LIZIZ(1004, "scene_id");
                LIZIZ.LJI("creation_id", this.LLILZLL.getCreationId());
                LIZIZ.LJI("group_id", "");
                LIZIZ.LJI("enter_from", "video_post_page");
                LIZIZ.LJI("content_type", LLLLIILLL());
                LIZIZ.LJI("download_type", "self");
                LIZIZ.LJI("download_method", "download_with_publish");
                LIZIZ.LIZ(isSaveLocalWithWaterMark ? 1 : 0, "is_save_with_watermark");
                LIZIZ.LIZ(this.LLILZLL.creativeModel.privacySettingModel.aigcInfo.AIGCLabelType, "aigc_theme_status");
                FMX.LJIIL("download", LIZIZ.LIZ);
            }
            LLZLL("publish");
            WWAModel wWAModel = this.LLILZLL.creativeModel.initialModel.wwaModel;
            if (wWAModel != null && wWAModel.completedEvent && (LJIJJLI = FavoriteServiceImpl.LJIJJLI()) != null) {
                LJIJJLI.LJIJ();
            }
        }
    }

    public final void L() {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            boolean z = videoPublishEditModel.mIsFromDraft;
            String mainBusinessData = videoPublishEditModel.getMainBusinessData();
            C164846dU.updateSDKShareContextWhenSaveOrPost(z, mainBusinessData);
            videoPublishEditModel.setMainBusinessData(mainBusinessData);
            InterfaceC43749HEz bridgeService = C78934UyQ.LJLIL.getBridgeService();
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            bridgeService.getClass();
            this.LLJILLL = C43723HDz.LIZJ(videoPublishEditModel2);
        }
    }

    @Override // X.GAK
    public final void LLIL() {
        this.LLILZLL.creativeModel.transientPostPageModel.LJIIIZ = true;
    }

    @Override // X.InterfaceC41079GAh
    public final void LLILL() {
        C40984G6q c40984G6q = this.LLILZ;
        if (c40984G6q != null) {
            c40984G6q.getClass();
        }
    }

    @Override // com.ss.android.ugc.aweme.adaptation.AbsSceneAdaptationScene
    public final C43212Gxc LLJZIJLIL() {
        GGS.LIZ.getClass();
        return GGS.LIZJ;
    }

    public final void LLLFFI() {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel == null) {
            return;
        }
        AVChallenge recordChallenge = videoPublishEditModel.creativeModel.commerceModel.getRecordChallenge();
        if (recordChallenge != null && !this.LLILZLL.mIsFromDraft) {
            ArrayList arrayList = new ArrayList();
            arrayList.add(recordChallenge);
            this.LLIIIJ.LIZ(arrayList);
        }
        List<AVChallenge> recordEffectChallenges = this.LLILZLL.getRecordEffectChallenges();
        if (!recordEffectChallenges.isEmpty()) {
            this.LLIIIJ.LIZ(recordEffectChallenges);
        }
        AVMusic extractAVMusic = MusicBeanUtilKt.extractAVMusic(this.LLILZLL.creativeModel.musicBuzModel);
        if (!this.LLILZLL.mIsFromDraft && extractAVMusic != null && extractAVMusic.challenge != null) {
            ArrayList arrayList2 = new ArrayList();
            arrayList2.add(extractAVMusic.challenge);
            this.LLIIIJ.LIZ(arrayList2);
        }
        Mission mission = this.LLILZLL.creativeModel.commerceModel.getMission();
        this.LLJJI = mission;
        if (mission != null) {
            GQ5 gq5 = this.LLIIIJ;
            List<String> challengeNames = mission.getChallengeNames();
            if (gq5.LIZIZ.getText() != null && !C79004UzY.LJJIFFI(challengeNames)) {
                for (String str : challengeNames) {
                    if (str != null) {
                        String obj = gq5.LIZIZ.getText().toString();
                        StringBuilder LIZ = X1D.LIZ();
                        LIZ.append("#");
                        LIZ.append(str);
                        LIZ.append(" ");
                        if (!obj.contains(X1D.LIZIZ(LIZ))) {
                            String obj2 = gq5.LIZIZ.getText().toString();
                            StringBuilder LIZJ = b1.LIZJ("#", str);
                            LIZJ.append(gq5.LIZ.LJJLI(R.string.rhe));
                            if (!obj2.contains(X1D.LIZIZ(LIZJ))) {
                                ((HashSet) gq5.LIZIZ.LLFZ).add(i0.LJFF("#", str));
                                C41529GRp LIZIZ = C73030SlO.LIZIZ(gq5.LIZIZ.getText().toString(), str);
                                if (LIZIZ.LIZIZ <= gq5.LJIILLIIL.LIZIZ() + C40949G5h.LIZ) {
                                    GSR gsr = gq5.LIZIZ;
                                    gsr.LLJI = false;
                                    gsr.getText().insert(LIZIZ.LIZ, LIZIZ.LIZJ);
                                }
                                gq5.LIZIZ.LJIJJ(true);
                            }
                        }
                    }
                    ((HashSet) gq5.LIZIZ.LLFZ).add(i0.LJFF("#", str));
                }
            }
            if (this.LLJJI.getMentionedUsers() != null && !this.LLJJI.getMentionedUsers().isEmpty()) {
                for (MissionUser missionUser : this.LLJJI.getMentionedUsers()) {
                    if (missionUser != null) {
                        GQ5 gq52 = this.LLIIIJ;
                        String nickname = missionUser.getNickname();
                        String uid = missionUser.getUid();
                        String secUid = missionUser.getSecUid();
                        if (secUid == null) {
                            secUid = "";
                        }
                        gq52.LIZIZ.LJI(nickname, uid, secUid);
                    }
                }
            }
        }
    }

    public final void LLLI() {
        boolean z;
        boolean z2;
        String str;
        Integer M;
        C40984G6q c40984G6q = this.LLILZ;
        LinearLayout viewContainer = this.LLIIIZ;
        VideoPublishEditModel model = this.LLILZLL;
        HashMap<String, String> LLLLIIL = LLLLIIL();
        String creationId = this.LLILZLL.getCreationId();
        DuetSettingItemStatus reactDuetSettingItem = this.LJLLLLLL;
        CommentSettingItemStatus commentSettingItem = this.LJLLLL;
        StitchSettingItemStatus stitchSettingItem = this.LJLZ;
        c40984G6q.getClass();
        o.LJIIIZ(viewContainer, "viewContainer");
        o.LJIIIZ(model, "model");
        o.LJIIIZ(reactDuetSettingItem, "reactDuetSettingItem");
        o.LJIIIZ(commentSettingItem, "commentSettingItem");
        o.LJIIIZ(stitchSettingItem, "stitchSettingItem");
        if (!C44172HVg.LJIJ.isChildrenMode()) {
            G5Q g5q = new G5Q(reactDuetSettingItem, new WeakReference(viewContainer.getContext()));
            c40984G6q.LJIJI = g5q;
            o.LJIIIIZZ(viewContainer.getContext(), "viewContainer.context");
            CreativeModel creativeModel = model.creativeModel;
            boolean z3 = true;
            if (creativeModel.postPageModel.publishSettingApplied && !creativeModel.draftInfoModel.isDraft) {
                C60903NvH.LJIIJJI().LJJIL().setReactDuetSettingChanged(true);
                C60903NvH.LJIIJJI().LJJIL().setReactDuetSettingCurrent(1 - model.reactDuetSetting);
            }
            boolean reactDuetSettingChanged = C60903NvH.LJIIJJI().LJJIL().getReactDuetSettingChanged(false);
            try {
                z = C2NU.LIZ.LIZIZ();
            } catch (Exception unused) {
                z = false;
            }
            if (reactDuetSettingChanged) {
                if (C60903NvH.LJIIJJI().LJJIL().getReactDuetSettingCurrent(2) == 1) {
                    z = true;
                } else {
                    z = false;
                }
            }
            G5P g5p = new G5P("duet");
            if (H7R.LJJJJL(model)) {
                z2 = C41491GQd.LIZIZ(model);
            } else if ((model.isShoutout() && ShoutOutsData.MODE_POST.equals(model.mShoutOutsData.getShoutOutsMode())) || model.getVideoLength() > 0 || model.recordMode == 1 || (model.getVideoLength() > 0 && model.getVideoLength() <= 60500)) {
                z2 = true;
            } else {
                z2 = false;
            }
            g5p.LIZIZ = z2;
            C41859Gbn LIZIZ = C1I0.LIZIZ();
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("default duet switch: ");
            if (z) {
                str = "on";
            } else {
                str = "off";
            }
            LIZ.append(str);
            LIZ.append(", reason: init publish page");
            LIZIZ.LIZJ("publish_setting", X1D.LIZIZ(LIZ));
            g5p.LIZJ = z;
            boolean LJJJJL = H7R.LJJJJL(model);
            g5p.LJIIIIZZ = LJJJJL;
            if (LJJJJL) {
                g5p.LJIIIZ = R.string.p6c;
            }
            g5p.LIZLLL = model.getVideoLength();
            g5p.LJ = R.string.h15;
            g5p.LJFF = R.string.tnh;
            g5p.LJIIJ = new ACListenerS15S1300000_7(g5q, model, creationId, LLLLIIL, 1);
            PrivacyUserSettingsV2 privacyUserSettings = a.LJIILIIL().getPrivacyUserSettings();
            if (privacyUserSettings == null || (M = privacyUserSettings.M("duet")) == null || M.intValue() != 3) {
                z3 = false;
            }
            g5p.LJIIJJI = z3;
            g5p.LJIIL = C78983UzD.LJJJJJL(model);
            g5q.LIZ(g5p);
        }
        c40984G6q.LIZJ(viewContainer, model, LLLLIIL, creationId, stitchSettingItem);
        if (C44172HVg.LJIJ.isChildrenMode()) {
            return;
        }
        C78842Uww.LJIIZILJ(new G5Q(commentSettingItem, new WeakReference(viewContainer.getContext())), model, LLLLIIL);
    }

    public final void LLLII() {
        VideoPublishEditModel videoPublishEditModel;
        if (this.LJLL == null || (videoPublishEditModel = this.LLILZLL) == null) {
            return;
        }
        if (videoPublishEditModel.tagUserList != null) {
            ArrayList arrayList = new ArrayList();
            Iterator<InteractionTagUserInfo> it = this.LLILZLL.tagUserList.iterator();
            while (it.hasNext()) {
                arrayList.add(InteractionTagInfoKt.toMutualUser(it.next()));
            }
            if (arrayList.size() > 0) {
                this.LJLL.setVisibility(0);
                this.LJLL.LIZ(new MutualStruct(0, arrayList.size(), arrayList, 0), 4);
                return;
            }
        }
        this.LJLL.setVisibility(8);
    }

    public final void LLLIIII() {
        if (!C45087Hml.LJJIJLIJ(this.LLILZLL)) {
            this.LLILZLL.creativeModel.autoCutAnchorModel.templateZipPath = null;
        } else {
            C45049Hm9.LIZ(LogLevel.LEVEL_INFO, "VideoPublishContainerScene#buildAutoCutTemplateZip start");
            C10K.LIZJ(new ACallableS110S0100000_7(this, 12));
        }
    }

    public final void LLLIIIIL() {
        if (!C43133GwL.LIZIZ(this.LLILZLL)) {
            return;
        }
        C10K.LIZJ(new ACallableS80S0101000_9(2, this, 0));
    }

    public final void LLLIIIL() {
        MutableLiveData<Integer> mutableLiveData;
        Integer value;
        AudioCopyrightProcessObserver audioCopyrightProcessObserver = this.LJZ;
        if (audioCopyrightProcessObserver != null) {
            AObjectS52S0101000_7 aObjectS52S0101000_7 = new AObjectS52S0101000_7(1, this, 9);
            AbstractC157016Ef LIZ = audioCopyrightProcessObserver.LJLJJLL.LIZ();
            if (LIZ == null || (mutableLiveData = LIZ.LJ) == null || (value = mutableLiveData.getValue()) == null || value.intValue() != 102) {
                aObjectS52S0101000_7.invoke();
                return;
            }
            AbstractC156986Ec abstractC156986Ec = audioCopyrightProcessObserver.LJLJJLL;
            abstractC156986Ec.getClass();
            AbstractC157016Ef LIZ2 = abstractC156986Ec.LIZ();
            if (LIZ2 == null) {
                return;
            }
            LIZ2.LIZJ(aObjectS52S0101000_7);
            return;
        }
        e();
    }

    public final void LLLIILIL() {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null && C45804HyK.LJJJI(videoPublishEditModel)) {
            String creationId = videoPublishEditModel.getCreationId();
            C62822Ol8 c62822Ol8 = C43814HHm.LIZIZ;
            boolean z = true;
            if (!((Keva) c62822Ol8.getValue()).getBoolean(creationId, true)) {
                ((Keva) c62822Ol8.getValue()).storeBoolean(videoPublishEditModel.getCreationId(), true);
                EditPreviewInfo previewInfo = videoPublishEditModel.getPreviewInfo();
                o.LJIIIZ(previewInfo, "previewInfo");
                if (previewInfo.getPreviewVideoLength() == 0 || previewInfo.getPreviewVideoLength() < 61000) {
                    z = false;
                }
                if (z) {
                    C62905OmT c62905OmT = new C62905OmT(requireActivity());
                    c62905OmT.LJII(R.string.eyz, new IDCListenerS50S0200000_7(this, videoPublishEditModel, 1));
                    c62905OmT.LJIIJ(R.string.ez0, new IDCListenerS50S0200000_7(this, videoPublishEditModel, 3));
                    c62905OmT.LJ(R.string.ez2);
                    c62905OmT.LIZ(R.string.ezc);
                    new C62906OmU(c62905OmT).LIZLLL();
                } else {
                    C62905OmT c62905OmT2 = new C62905OmT(requireActivity());
                    c62905OmT2.LJII(R.string.eyz, new IDCListenerS50S0200000_7(this, videoPublishEditModel, 0));
                    c62905OmT2.LJIIJ(R.string.ez0, new IDCListenerS50S0200000_7(this, videoPublishEditModel, 2));
                    c62905OmT2.LJ(R.string.ez2);
                    c62905OmT2.LIZ(R.string.ez1);
                    new C62906OmU(c62905OmT2).LIZLLL();
                }
                FMX.LJIIL("show_audio_clear_popup", LLLILZLLLI().LIZ);
            }
        }
    }

    public final void LLLILZ() {
        this.LLILZLL.creativeModel.transientPostPageModel.LJIIIIZZ = System.currentTimeMillis();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        C42970Gti.LIZJ(videoPublishEditModel.creativeModel.transientPostPageModel.LJIILIIL, videoPublishEditModel.getCreationId());
        c();
    }

    public final C145995oB LLLILZLLLI() {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        C145995oB c145995oB = new C145995oB();
        c145995oB.LJI("enter_from", "video_post_page");
        if (videoPublishEditModel != null) {
            c145995oB.LIZLLL("creation_id", videoPublishEditModel.getCreationId());
            if (!TextUtils.isEmpty(videoPublishEditModel.newDraftId)) {
                c145995oB.LIZLLL("new_draft_id", videoPublishEditModel.newDraftId);
            }
        }
        return c145995oB;
    }

    public final void LLLIZZ() {
        try {
            if (!C2YJ.LIZIZ.LIZ.getSilentShareConfigurable().booleanValue()) {
                return;
            }
        } catch (C158056If unused) {
        }
        G6F g6f = this.LLILLJJLI;
        if (g6f != null) {
            G6A g6a = g6f.LIZ;
            ((C40990G6w) g6a).LIZ.setSyncShareViewTitle(getString(R.string.r3g));
        }
    }

    public final void LLLJIL() {
        Activity activity;
        Activity activity2;
        if (this.LLJILJIL.decrementAndGet() != 0) {
            return;
        }
        if (C41028G8i.LIZ()) {
            if (this.LLJIJIL != null && (activity2 = this.mActivity) != null && !activity2.isFinishing()) {
                this.LLJIJIL.dismiss();
                this.LLJIJIL = null;
                return;
            }
            return;
        }
        ProgressDialogC164766dM progressDialogC164766dM = this.LLJI;
        if (progressDialogC164766dM == null || !progressDialogC164766dM.isShowing() || (activity = this.mActivity) == null || activity.isFinishing()) {
            return;
        }
        this.LLJI.dismiss();
        this.LLJI = null;
        C42303Gix.LIZ(1602, GGO.DISMISS, EnumC42283Gid.PROGRESS_WITH_MESSAGE, EnumC42282Gic.CLOSE_GONE, null);
    }

    public final void LLLJL() {
        LLZLL("enter_video_edit_page");
        p(false);
        LLZZZIL();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        Intent LJFF = C43543H7b.LJFF(LLLLJI().LJJJJJL, videoPublishEditModel, false);
        LJFF.putExtra("NLE", videoPublishEditModel.nleData);
        if (H7R.LJJJJL(videoPublishEditModel) && !H7R.LJJIJLIJ(videoPublishEditModel)) {
            HZV.LIZ().LJIIJJI(requireActivity(), LJFF);
        } else {
            C42662Gok.LJ(requireActivity(), C16880lQ.LLJJIJI(LJFF));
        }
    }

    public final HashMap<String, String> LLLLIIL() {
        if (this.LLILZLL == null) {
            return null;
        }
        HashMap<String, String> hashMap = new HashMap<>();
        hashMap.put("creation_id", this.LLILZLL.getCreationId());
        hashMap.put("enter_from", "video_post_page");
        hashMap.put("content_type", LLLLIILLL());
        hashMap.put("content_source", H7R.LJJIFFI(this.LLILZLL));
        hashMap.put("shoot_way", this.LLILZLL.mShootWay);
        return hashMap;
    }

    public final String LLLLIILLL() {
        return H7R.LJIIIZ(this.LLILZLL);
    }

    public final List<PUgcSlotData> LLLLIL() {
        ArrayList arrayList = new ArrayList();
        ArrayList arrayList2 = new ArrayList();
        if (TextUtils.isEmpty(this.LLILZLL.nleData)) {
            return arrayList;
        }
        C5K0.LIZIZ();
        NLEEditor nLEEditor = new NLEEditor();
        nLEEditor.LJI(this.LLILZLL.nleData);
        NLEModel LJ = nLEEditor.LJ();
        if (LJ != null && LJ.getTracks() != null) {
            for (int i = 0; i < LJ.getTracks().size(); i++) {
                NLETrack nLETrack = LJ.getTracks().get(i);
                nLETrack.LJIILL();
                for (int i2 = 0; i2 < nLETrack.LJIILL().size(); i2++) {
                    NLETrackSlot nLETrackSlot = nLETrack.LJIILL().get(i2);
                    NLESegmentVideo LJJ = NLESegmentVideo.LJJ(nLETrackSlot.LJI());
                    if (LJJ != null && LJJ.LIZIZ() != null && LJJ.LIZIZ().LIZJ() != null) {
                        String uuid = nLETrackSlot.getUUID();
                        String LIZJ = LJJ.LIZIZ().LIZJ();
                        boolean z = true;
                        float floatValue = BigDecimal.valueOf((((float) LJJ.getDuration()) / 1000.0f) / 1000.0f).setScale(1, RoundingMode.HALF_UP).floatValue();
                        if (LJJ.LIZIZ().LJFF() != EnumC123874tb.VIDEO) {
                            z = false;
                        }
                        arrayList.add(new PUgcSlotData(uuid, LIZJ, floatValue, z, false, nLETrackSlot.getStartTime(), ((float) LJJ.LJIILIIL()) / 1000.0f, null));
                        arrayList2.add(Integer.valueOf((int) (((float) LJJ.getDuration()) / 1000.0f)));
                    }
                }
            }
        }
        this.LLILZLL.creativeModel.pugcTemplateData.contentCnt = arrayList.size();
        PUgcTemplateData pUgcTemplateData = this.LLILZLL.creativeModel.pugcTemplateData;
        pUgcTemplateData.getClass();
        pUgcTemplateData.slotDurations = arrayList2;
        Collections.sort(arrayList, new IDComparatorS35S0000000_7(3));
        return arrayList;
    }

    public final String LLLLILI() {
        C41005G7l c41005G7l;
        C41485GPx c41485GPx = this.LLIIIL;
        if (c41485GPx == null || (c41005G7l = c41485GPx.LIZIZ) == null) {
            return getString(R.string.e5k);
        }
        return getString(R.string.jk3, Integer.valueOf(c41005G7l.LIZIZ()));
    }

    public final String LLLLJ() {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel == null) {
            return null;
        }
        return videoPublishEditModel.commerceData;
    }

    public final G5D LLLLJI() {
        return this.LLILZLL.creativeModel.transientPostPageModel;
    }

    public final boolean LLLLLILLIL() {
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> list = this.LLJILJILJ;
        boolean z = false;
        if (list != null) {
            Iterator it = ((ArrayList) list).iterator();
            while (it.hasNext()) {
                C15070iV c15070iV = (C15070iV) it.next();
                S s = c15070iV.LIZIZ;
                if ((s instanceof C42898GsY) && (((IAVPublishExtension) s).haveAnchors(EnumC42934Gt8.ANCHOR_SHOP_LINK.getTYPE()) || ((IAVPublishExtension) c15070iV.LIZIZ).haveAnchors(EnumC42934Gt8.ANCHOR_SHOP_WINDOW.getTYPE()))) {
                    z = true;
                }
            }
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("haveShopAnchor:");
        LIZ.append(z);
        C36922EeM.LIZLLL(2, "anchor_reverse", X1D.LIZIZ(LIZ));
        return z;
    }

    public final void LLLLLL() {
        if (!this.LLILZLL.creativeModel.transientPostPageModel.LJJIJIIJIL) {
            return;
        }
        G63 g63 = new G63(103, getString(R.string.bg4), "", R.raw.icon_playlist, false, null);
        g63.LJIIJJI = new AObjectS141S0100000_7(this, 3);
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final void LLLLLLJ() {
        Activity activity;
        Activity activity2;
        this.LLJILJIL.incrementAndGet();
        if (C41028G8i.LIZ()) {
            if (this.LLJIJIL == null && (activity2 = this.mActivity) != null && !activity2.isFinishing()) {
                C42279GiZ c42279GiZ = C42279GiZ.LIZ;
                Activity activity3 = this.mActivity;
                CreativeLoadingDialogBuilder creativeLoadingDialogBuilder = new CreativeLoadingDialogBuilder();
                creativeLoadingDialogBuilder.backCanCancel(false);
                creativeLoadingDialogBuilder.showProgress(false);
                creativeLoadingDialogBuilder.loadingMessage(getString(R.string.q5d));
                C42278GiY c42278GiY = (C42278GiY) c42279GiZ.createLoadingDialog(activity3, 1602, creativeLoadingDialogBuilder);
                this.LLJIJIL = c42278GiY;
                c42278GiY.delayShow(C42279GiZ.LIZ());
                return;
            }
            return;
        }
        if (this.LLJI != null || (activity = this.mActivity) == null || activity.isFinishing()) {
            return;
        }
        this.LLJI = ProgressDialogC164766dM.LIZLLL(this.mActivity, getString(R.string.q5d));
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("VideoPublish prepareEffects:");
        LIZ.append(this.LLJI);
        H78.LJI(X1D.LIZIZ(LIZ));
        C42303Gix.LIZ(1602, GGO.SHOW, EnumC42283Gid.PROGRESS_WITH_MESSAGE, EnumC42282Gic.CLOSE_GONE, null);
    }

    public final void LLLLLLLZIL() {
        AVMusic extractAVMusic;
        String string;
        String str;
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel.creativeModel.transientPostPageModel.LJJIIZI) {
            final boolean LIZJ = G6L.LIZJ(videoPublishEditModel);
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            final boolean z = false;
            if (videoPublishEditModel2 != null && (extractAVMusic = MusicBeanUtilKt.extractAVMusic(videoPublishEditModel2.creativeModel.musicBuzModel)) != null && extractAVMusic.isCommerceMusic()) {
                z = true;
            }
            if (CommerceToolsTcmServiceImpl.LJIJJ().LJIIJ()) {
                string = getString(R.string.s4r);
            } else {
                string = getString(R.string.c43);
            }
            if (!CommerceToolsTcmServiceImpl.LJIJJ().LJIIJ()) {
                str = getString(R.string.i7r);
            } else {
                str = "";
            }
            G63 g63 = new G63(104, string, str, R.raw.icon_film_star, false, null);
            g63.LJIIIIZZ = new InterfaceC88472Yns() { // from class: X.G5L
                @Override // X.InterfaceC88472Yns
                public final Object invoke(Object obj) {
                    VideoPublishContainerScene videoPublishContainerScene = VideoPublishContainerScene.this;
                    boolean z2 = LIZJ;
                    boolean z3 = z;
                    videoPublishContainerScene.getClass();
                    CommerceToolsTcmServiceImpl.LJIJJ().LJIIL(videoPublishContainerScene.mActivity, z2, videoPublishContainerScene.LLILZLL.creativeModel.commerceModel.getTcmModel(), z3, H7R.LJI(videoPublishContainerScene.LLILZLL));
                    return null;
                }
            };
            g63.LJIIJJI = new AObjectS58S0000000_7(0);
            ((ArrayList) this.LLJJ).add(g63);
        }
    }

    public final void LLLLZ() {
        if (!this.LLILZLL.creativeModel.transientPostPageModel.LJJIJ) {
            return;
        }
        if (C00F.LIZ(31744, 0, "studio_vq_hd_publish_style", true) == 0 || G6X.LIZIZ()) {
            ((ArrayList) this.LLJJ).add(new G63(2, getString(R.string.pil), getString(R.string.pim), R.raw.icon_video_star, C78685UuP.LJJJJL(this.LLILZLL.uploadSpeedInfo.getSpeed()), new AObjectS141S0100000_7(this, 2)));
        }
    }

    public final void LLLLZI() {
        G74 g74 = this.LLFFF;
        if (g74 != null) {
            g74.setImageMode(true);
        }
        Iterator<SingleImageData> it = this.LLILZLL.getImageAlbumData().getImageList().iterator();
        while (it.hasNext()) {
            it.next().setSynthesisData(null);
        }
    }

    public final void LLLLZLLIL() {
        OSZ osz;
        String string;
        String str;
        boolean z;
        if (C00F.LIZ(31744, 0, "mature_theme_creator_button_style", true) == 4) {
            C41008G7o c41008G7o = new C41008G7o(this.LLILZLL);
            ActivityC45651qj context = LLII();
            o.LJIIIZ(context, "context");
            FFL.LJIIIZ().getClass();
            if (FFL.LJIIJ(31744, 0, "mature_theme_creator_button_style", true) == 4) {
                osz = new OSZ(Integer.valueOf(R.string.i1o), Integer.valueOf(R.string.i1n));
            } else {
                osz = new OSZ(0, 0);
            }
            int intValue = ((Number) osz.getFirst()).intValue();
            int intValue2 = ((Number) osz.getSecond()).intValue();
            String str2 = null;
            if (intValue == 0) {
                string = null;
            } else {
                string = context.getString(intValue);
            }
            if (intValue2 != 0) {
                str2 = context.getString(intValue2);
            }
            OSZ osz2 = new OSZ(string, str2);
            String str3 = (String) osz2.getFirst();
            if (osz2.getSecond() != null) {
                str = (String) osz2.getSecond();
            } else {
                str = "";
            }
            if (this.LLILZLL.creativeFlowData.getPublishConfig().getMatureTheme() == 1) {
                z = true;
            } else {
                z = false;
            }
            G63 g63 = new G63(20, str3, str, R.raw.icon_eye_slash, z, null);
            g63.LJFF = new AObjectS89S0300000_7(this, c41008G7o, g63, 0);
            g63.LJIIJ = !g63.LJ;
            g63.LJIIIZ = new AObjectS89S0300000_7(this, c41008G7o, g63, 1);
            ((ArrayList) this.LLJJ).add(g63);
        }
    }

    public final void LLLLZLLLI() {
        boolean z;
        int i;
        boolean z2;
        if (!C141365gi.LJFF(this.LLILZLL)) {
            this.LLILZLL.creativeModel.ugcTemplateData.enablePublishAsTemplate = false;
            return;
        }
        boolean LIZJ = C141365gi.LIZJ(this.LLILZLL);
        UgcTemplateData ugcTemplateData = this.LLILZLL.creativeModel.ugcTemplateData;
        if (LIZJ && C78685UuP.LJJJJI()) {
            z = true;
        } else {
            z = false;
        }
        ugcTemplateData.enablePublishAsTemplate = z;
        ActivityC45651qj LLII = LLII();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        String string = LLII.getString(R.string.q6);
        SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder(LLII.getString(R.string.a1t, string));
        Integer LJI = C79045V0n.LJI(R.attr.gx, LLII);
        if (LJI != null) {
            i = LJI.intValue();
        } else {
            i = 0;
        }
        GJJ gjj = new GJJ(i, i, videoPublishEditModel, LLII);
        int indexOf = spannableStringBuilder.toString().toLowerCase(Locale.getDefault()).indexOf(string.toLowerCase(Locale.getDefault()));
        StyleSpan styleSpan = new StyleSpan(1);
        spannableStringBuilder.setSpan(gjj, indexOf, string.length() + indexOf, 33);
        spannableStringBuilder.setSpan(styleSpan, indexOf, string.length() + indexOf, 33);
        SpannableString valueOf = SpannableString.valueOf(spannableStringBuilder);
        String string2 = LLII().getString(R.string.qb);
        String string3 = LLII().getString(R.string.a1r);
        if (LIZJ && C78685UuP.LJJJJI()) {
            z2 = true;
        } else {
            z2 = false;
        }
        G63 g63 = new G63(9, string2, string3, R.raw.icon_template, z2, new AObjectS141S0100000_7(this, 8));
        g63.LJIIL = LIZJ;
        g63.LJII = valueOf;
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final void LLLZI() {
        G63 g63 = new G63(11, getString(R.string.p5x), getString(R.string.p5w), R.raw.icon_tiktok_logo_rectangle, !C40944G5c.LIZ.getBoolean("has_water_mark", false), null);
        g63.LJFF = new AObjectS131S0200000_7(this, g63, 2);
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final void LLLZIIL() {
        G63 g63 = new G63(1, getString(R.string.q9o), getString(R.string.tz), R.raw.icon_arrow_to_down, SaveLocalHelper.LIZ(H7R.LJJJJLL(this.LLILZLL)), null);
        g63.LJFF = new AObjectS131S0200000_7(this, g63, 1);
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final void LLLZIL() {
        Activity activity;
        if (!e1.LIZ(31744, "studio_enable_series_video", true, false) || (activity = this.mActivity) == null) {
            return;
        }
        G63 g63 = new G63(107, getString(R.string.qnc), getString(R.string.qnb), R.raw.icon_series_dollar, false, null);
        g63.LJIIJJI = new InterfaceC88471Ynr() { // from class: X.6bh
            @Override // X.InterfaceC88471Ynr
            public final Object invoke(Object obj, Object obj2) {
                VideoPublishContainerScene videoPublishContainerScene = VideoPublishContainerScene.this;
                videoPublishContainerScene.getClass();
                C162586Zq.LIZ.observe(videoPublishContainerScene, new AObserverS70S0100000_2((AI8) obj2, 63));
                return null;
            }
        };
        g63.LJIIIIZZ = new AObjectS120S0200000_2(this, activity, 1);
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final void LLLZL() {
        G63 g63 = new G63(102, getString(R.string.q9o), "", R.raw.icon_arrow_to_down, false, new AObjectS58S0000000_7(1));
        g63.LJI = SaveLocalHelper.LIZJ(SaveLocalHelper.LIZIZ(H7R.LJJJJLL(this.LLILZLL)));
        g63.LJIIIIZZ = new AObjectS145S0100000_7(this, 1);
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final boolean LLZ() {
        VideoPublishEditModel videoPublishEditModel;
        Bundle bundle = this.mArguments;
        if (bundle == null || bundle.getInt("fromDraft", 0) == 0 || (videoPublishEditModel = this.LLILZLL) == null || videoPublishEditModel.isFromRestoreRecover) {
            return false;
        }
        return true;
    }

    public final void LLZILL() {
        int i;
        String str;
        if (this.LLILZLL.creativeModel.transientPostPageModel.LJJIIZI) {
            i = 2;
        } else {
            i = 3;
        }
        C145995oB c145995oB = new C145995oB();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            str = videoPublishEditModel.mShootWay;
        } else {
            str = "mModel is null";
        }
        c145995oB.LJI("shoot_way", str);
        c145995oB.LIZ(i, "creator_type");
        c145995oB.LIZ(SaveLocalHelper.LIZ(H7R.LJJJJLL(this.LLILZLL)) ? 1 : 0, "auto_save_status");
        FMX.LJIIL("post_page_show", c145995oB.LIZ);
    }

    public final void LLZLLIL() {
        C188727au c188727au = new C188727au();
        c188727au.LJIIIZ("enter_from", "trends");
        c188727au.LJIIIZ("anchor_name", "selected_trends");
        FMX.LJIIL("add_label", c188727au.LIZ);
    }

    public final boolean LLZZZIL() {
        Iterator it = ((ArrayList) this.LLJILJILJ).iterator();
        while (it.hasNext()) {
            ((IAVPublishExtension) ((C15070iV) it.next()).LIZIZ).onBackPressed(C42000Ge4.LJIILJJIL(this.LLILZLL));
        }
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (!videoPublishEditModel.creativeModel.transientPostPageModel.LJJIFFI) {
            if (C41571GTf.LJ(videoPublishEditModel)) {
                G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
                if (!g5d.LJJII) {
                    g5d.LJJIII = true;
                }
            }
            C60903NvH.LJIIJJI().getPublishService().LJI();
            GUT.LIZ(LLJLILLLLZIIL(), "publish_page_on_back_pressed");
        }
        C5KN.LIZ();
        return false;
    }

    public final void b() {
        if (this.mActivity == null) {
            return;
        }
        ActivityC45651qj LLII = LLII();
        if (LLII != null) {
            GUH.LJJIIJ(this.LLILZLL, LLLJ(true), LLII);
        }
        if (GA5.LIZ()) {
            C10K.LIZJ(CallableC42376Gk8.LJLIL);
        }
        C268713r.LIZ().LJIILLIIL(new AObjectS52S0101000_7(1, this, 3));
    }

    public final void c() {
        String obj;
        boolean z;
        boolean z2;
        if (!this.LLILZLL.creativeModel.pugcTemplateData.canPostTemplate) {
            C5KN.LIZ();
        }
        this.LLILZLL.creativeModel.transientPostPageModel.LIZIZ = System.currentTimeMillis();
        this.LLILZLL.creativeModel.transientPostPageModel.LJI = true;
        if (this.LLIIIJ.LJIILLIIL.LIZ() && this.LLIIIJ.LIZIZ(false)) {
            return;
        }
        if (C146535p3.LIZLLL(this.LLILZLL) && !this.LLILZLL.creativeModel.audioCopyrightDetectModel.getContinueSelected() && this.LLJLILLLLZIIL.LIZ() != null) {
            int LIZ = this.LLJLILLLLZIIL.LIZ().LIZ();
            PreCheckResult LIZ2 = C6EY.LIZ(this.LLILZLL.creativeModel.audioCopyrightDetectModel.getDetectResults().get(Integer.valueOf(LIZ)));
            if (LIZ2 != null && LLII() != null) {
                C157116Ep.LIZIZ(LLJLL().getSupportFragmentManager(), LLII(), LIZ2, this.LLILZLL, "video_post_page", "click_post", LIZ, null, null, new AObjectS43S0101000_7(2, this, 3));
                return;
            }
        }
        if (C40968G6a.LIZ()) {
            G8A g8a = G8A.LIZIZ;
            if (g8a.LIZIZ() >= 3) {
                g8a.LIZ();
            }
            this.LLILZLL.creativeModel.transientPostPageModel.LJFF = System.currentTimeMillis();
            C145995oB c145995oB = new C145995oB();
            c145995oB.LJI("publish_action_trace_id", this.LLILZLL.creativeModel.transientPostPageModel.LJIILJJIL);
            c145995oB.LJI("publish_click_scene", this.LLILZLL.creativeModel.transientPostPageModel.LJIL);
            FMX.LJIIL("performance_publish_click", c145995oB.LIZ);
            H78.LIZ("PublishDurationMonitor MANUAL_START");
            C41658GWo.LIZLLL().LJFF();
            if (TextUtils.isEmpty(this.LLILZLL.playlist_id) && !TextUtils.isEmpty(this.LLILZLL.playlist_name)) {
                MixFeedService.LJJIJIIJIL().LJIIL();
            }
            C41015G7v.LIZ(System.currentTimeMillis(), "duet_mode_creation", "publish");
            this.LLIIIJ.LJIIIIZZ();
            int LIZ3 = this.LLIIIILZ.LIZ();
            String LIZ4 = this.LLJJIJIL.LIZ();
            Integer num = null;
            if (this.LLIIIJ.LIZIZ.getText() == null) {
                obj = null;
            } else {
                obj = this.LLIIIJ.LIZIZ.getText().toString();
            }
            C44423Hc3 currentUser = C44172HVg.LJIJ.getCurrentUser();
            if ((currentUser != null && currentUser.LJIILIIL()) || LIZ3 == 2 || LIZ3 == 1 || obj == null || (((Boolean) C42539Gml.LIZ.getValue()).booleanValue() && ujb.o.LJJJJJL(obj) && (LIZ4 == null || ujb.o.LJJJJJL(LIZ4)))) {
                z = true;
            } else {
                z = false;
            }
            boolean LJ = C19N.LJ("allowed_post_prompts", false);
            if (!z && LJ) {
                z2 = true;
            } else {
                z2 = false;
            }
            G7K g7k = new G7K(LIZ4, obj, z2);
            C42149GgT LIZ5 = CheckManager.LIZ.LIZ(this, "publish fragment checker", ((Number) CheckManager.LIZJ.getValue()).intValue());
            if (this.LLIIII.getValue() != null) {
                num = Integer.valueOf(this.LLIIII.getValue().getPermission());
            }
            int intValue = num.intValue();
            LIZ5.LIZ(new G64(this.LLJLIL, this));
            LIZ5.LIZ(this.LJZ);
            ActivityC45651qj LLJLL = LLJLL();
            VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
            G5K g5k = this.LLIIIILZ;
            H7R.LJJJJL(videoPublishEditModel);
            g5k.LIZLLL("video_post_page", true);
            LIZ5.LIZ(new C41018G7y(LLJLL, videoPublishEditModel, g5k.LJFF, this.LLJJJ, new ARunnableS11S0101000_7(12, this, 11), new AObjectS42S0101000_5(3, this, 50), this.LLFFF.LJLLILLLL, false));
            LIZ5.LIZ(this.LJLJLJ.w20());
            LIZ5.LIZ(new G67(g7k));
            LIZ5.LIZ(new G7I(requireActivity(), "video_post_page", Integer.valueOf(intValue)));
            Activity activity = requireActivity();
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            AObjectS52S0101000_7 aObjectS52S0101000_7 = new AObjectS52S0101000_7(0, this, 10);
            AObjectS52S0101000_7 aObjectS52S0101000_72 = new AObjectS52S0101000_7(1, this, 25);
            o.LJIIIZ(activity, "activity");
            LIZ5.LIZ(new G66(g7k, activity, videoPublishEditModel2, aObjectS52S0101000_7, aObjectS52S0101000_72));
            LIZ5.LIZ(new G6W(this.mActivity, C78983UzD.LJJJJJL(this.LLILZLL), new AObjectS52S0101000_7(1, this, 14)));
            LIZ5.LIZJ(new AObjectS52S0101000_7(1, this, 8));
            LIZ5.LJI();
            return;
        }
        G8A g8a2 = G8A.LIZIZ;
        if (g8a2.LIZIZ() >= 3) {
            g8a2.LIZ();
        }
        String str = this.LLILZLL.creativeModel.initialModel.highLightVideoParametersModel.fragmentId;
        if (str != null && !str.isEmpty()) {
            TikTokPublishGroupSceneFragment LLLFF = LLLFF();
            CreativeToastBuilder creativeToastBuilder = new CreativeToastBuilder();
            creativeToastBuilder.messageRes(R.string.n62);
            C78915Uy7.LJJIJIIJI(LLLFF, 2005, creativeToastBuilder);
        }
        this.LLILZLL.creativeModel.transientPostPageModel.LJFF = System.currentTimeMillis();
        C145995oB c145995oB2 = new C145995oB();
        c145995oB2.LJI("publish_action_trace_id", this.LLILZLL.creativeModel.transientPostPageModel.LJIILJJIL);
        c145995oB2.LJI("publish_click_scene", this.LLILZLL.creativeModel.transientPostPageModel.LJIL);
        FMX.LJIIL("performance_publish_click", c145995oB2.LIZ);
        H78.LIZ("PublishDurationMonitor MANUAL_START");
        C41658GWo.LIZLLL().LJFF();
        this.LLILZLL.creativeModel.transientPostPageModel.LJII = System.currentTimeMillis();
        if (!C44172HVg.LJIJ.isLogin()) {
            C43150Gwc.LJIIIIZZ("-1", BehaviorType.FAILED, "CK", "LG", 16);
            LLZIL(new C51217K8f(5, this));
        } else {
            LLLIIIL();
        }
        if (TextUtils.isEmpty(this.LLILZLL.playlist_id) && !TextUtils.isEmpty(this.LLILZLL.playlist_name)) {
            MixFeedService.LJJIJIIJIL().LJIIL();
        }
        C41015G7v.LIZ(System.currentTimeMillis(), "duet_mode_creation", "publish");
    }

    @Override // X.InterfaceC41079GAh
    public final void cancel() {
        C40984G6q c40984G6q = this.LLILZ;
        if (c40984G6q != null) {
            c40984G6q.getClass();
        }
    }

    public final void e() {
        G6D value = this.LLIIII.getValue();
        if (value != null && value.getPermission() == -1) {
            this.LLILZLL.creativeModel.transientPostPageModel.LJJIIJZLJL = "click_post";
            C60903NvH.LJIIJJI().getPublishService().LJJIIZI().getClass();
            G9M.LJFF(this.LLILZLL, "video_post_page", value.getPermission(), new AObjectS42S0101000_5(6, this, 58));
            G5K g5k = this.LLIIIILZ;
            if (g5k != null && this.LLIILZL != null) {
                G84 g84 = new G84(this);
                IDDListenerS146S0100000_7 iDDListenerS146S0100000_7 = this.LLJJJ;
                if (g5k.LIZLLL != null) {
                    g5k.LIZLLL("video_post_page", false);
                    g5k.LIZJ(g5k.LJ);
                    g5k.LIZLLL.LIZ(g5k.LJFF, g5k.LIZ, g84, iDDListenerS146S0100000_7);
                    return;
                }
                return;
            }
            return;
        }
        this.LLIIIJ.LJIIIIZZ();
        this.LJLJLJ.ay(new AObjectS52S0101000_7(1, this, 20));
    }

    public final void g() {
        String str;
        ArrayList arrayList;
        int i;
        String str2;
        String creationId;
        AI9 ai9;
        boolean z;
        boolean z2;
        AEY aey;
        G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
        if (g5d.LJJI) {
            LLLZZIL("Publish");
            return;
        }
        g5d.LJJI = true;
        g5d.LJ = SystemClock.uptimeMillis();
        L();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            if (TextUtils.isEmpty(videoPublishEditModel.getMusicId())) {
                str = "";
            } else {
                str = this.LLILZLL.getMusicId();
            }
        } else {
            str = "mModel is null";
        }
        if (TextUtils.isEmpty(str)) {
            AVMusic extractAVMusic = MusicBeanUtilKt.extractAVMusic(this.LLILZLL.creativeModel.musicBuzModel);
            if (extractAVMusic == null) {
                str = "";
            } else {
                str = extractAVMusic.getMusicId();
            }
        }
        if (this.LLILZLL != null && !TextUtils.isEmpty(str) && "edit_page_recommend".equals(this.LLILZLL.getMusicOrigin()) && 1 == this.LLILZLL.comFrom) {
            C145995oB c145995oB = new C145995oB();
            c145995oB.LJI("item_id", str);
            c145995oB.LJI("channel_id", "94349537923");
            c145995oB.LJI("req_id", this.LLILZLL.aiMusicLogPbImprId);
            FMX.LJIIL("jarvis_item_click", c145995oB.LIZ);
        }
        this.LLIIIL.LJII(this.LLILZLL);
        GoodsPublishModel goodsPublishModel = (GoodsPublishModel) AVPublishExtensionUtils.findModel(this.LLJILJILJ, GoodsPublishModel.class);
        if (goodsPublishModel != null && !TextUtils.isEmpty(goodsPublishModel.getGoodsDraftId())) {
            this.LLILZLL.shopDraftId = goodsPublishModel.getGoodsDraftId();
        }
        HotSpotTagPublishModel hotSpotTagPublishModel = (HotSpotTagPublishModel) AVPublishExtensionUtils.findModel(this.LLJILJILJ, HotSpotTagPublishModel.class);
        if (hotSpotTagPublishModel != null) {
            this.LLILZLL.hotSpotTag = hotSpotTagPublishModel.getTag();
            this.LLILZLL.sentenceId = hotSpotTagPublishModel.getId();
        }
        G6D value = this.LLIIII.getValue();
        if (value != null) {
            if (value.getPermission() == 4) {
                this.LLILZLL.creativeModel.privacySettingModel.isSubscribeOnly = true;
            } else {
                VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
                videoPublishEditModel2.creativeModel.privacySettingModel.isSubscribeOnly = false;
                videoPublishEditModel2.isPrivate = value.getPermission();
            }
            this.LLILZLL.excludeUserList = value.getExcludeUserList();
            this.LLILZLL.allowRecommend = value.getAllowRecommend();
        }
        String str3 = this.LLILZLL.mOutputFile;
        if (str3 == null || TextUtils.isEmpty(str3)) {
            this.LLILZLL.mOutputFile = C41727GZf.LIZ(this.LLILZLL).LLLLLLLLLL().getPath();
        }
        C793139j c793139j = this.LLIIJLIL;
        int i2 = 3;
        if (c793139j != null) {
            c793139j.LJ = true;
            EffectDraftSubmissionListViewModel effectDraftSubmissionListViewModel = c793139j.LIZLLL;
            if (effectDraftSubmissionListViewModel != null) {
                XKX.LIZLLL(ViewModelKt.getViewModelScope(effectDraftSubmissionListViewModel), null, null, new C69202nc(c793139j, null), 3);
            } else {
                o.LJIJI("viewModel");
                throw null;
            }
        }
        if (CrossLanguageUserExperiment.LIZJ().LIZIZ()) {
            VideoPublishEditModel videoPublishEditModel3 = this.LLILZLL;
            C40984G6q c40984G6q = this.LLILZ;
            CommonSettingItemStatus commonSettingItemStatus = this.LL;
            c40984G6q.getClass();
            videoPublishEditModel3.allowAutoCaptionSetting = C40984G6q.LJI(commonSettingItemStatus);
            C40992G6y c40992G6y = this.LLF;
            if (c40992G6y != null) {
                VideoPublishEditModel videoPublishEditModel4 = this.LLILZLL;
                C40984G6q c40984G6q2 = this.LLILZ;
                CommonSettingItemStatus commonSettingItemStatus2 = this.LL;
                boolean LIZJ = c40992G6y.LIZJ(this.LLIIIILZ.LIZ());
                c40984G6q2.getClass();
                videoPublishEditModel4.allowAutoCaptionLoggingData = C40984G6q.LJFF(commonSettingItemStatus2, LIZJ);
            }
            this.LLILZLL.autoCaptionLang = C78685UuP.LJJIIJZLJL();
        }
        VideoPublishEditModel videoPublishEditModel5 = this.LLILZLL;
        C40984G6q c40984G6q3 = this.LLILZ;
        CommentSettingItemStatus commentSettingItem = this.LJLLLL;
        c40984G6q3.getClass();
        o.LJIIIZ(commentSettingItem, "commentSettingItem");
        Boolean value2 = commentSettingItem._checked.getValue();
        Boolean bool = Boolean.TRUE;
        if (o.LJ(value2, bool)) {
            i2 = 0;
        }
        videoPublishEditModel5.commentSetting = i2;
        VideoPublishEditModel videoPublishEditModel6 = this.LLILZLL;
        C40984G6q c40984G6q4 = this.LLILZ;
        DuetSettingItemStatus reactDuetSettingItem = this.LJLLLLLL;
        c40984G6q4.getClass();
        o.LJIIIZ(reactDuetSettingItem, "reactDuetSettingItem");
        videoPublishEditModel6.reactDuetSetting = !o.LJ(reactDuetSettingItem._checked.getValue(), bool) ? 1 : 0;
        VideoPublishEditModel videoPublishEditModel7 = this.LLILZLL;
        C40984G6q c40984G6q5 = this.LLILZ;
        StitchSettingItemStatus stitchSettingItem = this.LJLZ;
        c40984G6q5.getClass();
        o.LJIIIZ(stitchSettingItem, "stitchSettingItem");
        videoPublishEditModel7.stitchSetting = !o.LJ(stitchSettingItem._checked.getValue(), bool) ? 1 : 0;
        if (H7R.LJJLIIIJLJLI(this.LLILZLL)) {
            boolean LJJLIIIJLLLLLLLZ = H7R.LJJLIIIJLLLLLLLZ(this.LLILZLL);
            Object value3 = C165326eG.LIZ.getValue();
            o.LJIIIIZZ(value3, "<get-keva>(...)");
            ((Keva) value3).storeBoolean("switch", LJJLIIIJLLLLLLLZ);
        }
        if (H7R.LJJJLL(this.LLILZLL) && this.LLILZLL.getCamera() == 1) {
            boolean z3 = this.LLILZLL.creativeModel.mirrorMode.lastSegIsUseMirror;
            Object value4 = C165326eG.LIZ.getValue();
            o.LJIIIIZZ(value4, "<get-keva>(...)");
            ((Keva) value4).storeBoolean("switch", z3);
        }
        VideoPublishEditModel videoPublishEditModel8 = this.LLILZLL;
        C40984G6q c40984G6q6 = this.LLILZ;
        boolean booleanValue = ((C40990G6w) this.LLILLJJLI.LIZ).LIZ.getLemon8ButtonStatus().booleanValue();
        c40984G6q6.getClass();
        if (booleanValue) {
            arrayList = C47261Igj.LJII("lemon8");
        } else {
            arrayList = new ArrayList();
        }
        videoPublishEditModel8.openPlatformAutoSync = arrayList;
        this.LLILZLL.geofencingSetting = this.LJZL.LIZIZ();
        this.LLILZLL.challenges = null;
        G6A g6a = this.LLILLJJLI.LIZ;
        if (g6a != null) {
            i = ((C40990G6w) g6a).LIZ.getSaveUploadType();
        } else {
            i = -1;
        }
        C60903NvH.LJIIJJI().getPublishService().LJIJI().LJFF(i, this.LLILZLL);
        if (this.LLILZLL.getSaveModel() != null) {
            boolean LJJJJLL = H7R.LJJJJLL(this.LLILZLL);
            AVUploadSaveModel saveModel = this.LLILZLL.getSaveModel();
            AI8 ai8 = this.LLILZ.LJIILJJIL;
            if (ai8 != null) {
                ai9 = ai8.getAccessory();
            } else {
                ai9 = null;
            }
            if (((ai9 instanceof AI2) && (aey = (AEY) ai9) != null && aey.LJIIL()) || (this.LLILZ.LJIILL && SaveLocalHelper.LIZ(LJJJJLL))) {
                z = true;
            } else {
                z = false;
            }
            saveModel.setSaveToAlbum(z);
            AVUploadSaveModel saveModel2 = this.LLILZLL.getSaveModel();
            if (this.LLILZ.LJIILL && this.LLILZLL.hasSubtitle() && SaveLocalHelper.LIZIZ(LJJJJLL) == 2) {
                z2 = true;
            } else {
                z2 = false;
            }
            saveModel2.setSaveWithCaption(z2);
            this.LLILZLL.getSaveModel().setSaveToAppPathInsteadOfAlbum(this.LLILZ.LJIILL);
            this.LLILZLL.getSaveModel().setEnableSilentEnhancement(G6L.LIZ());
        }
        VideoPublishEditModel videoPublishEditModel9 = this.LLILZLL;
        G6A g6a2 = this.LLILLJJLI.LIZ;
        if (g6a2 == null) {
            str2 = "";
        } else {
            str2 = ((C40990G6w) g6a2).LIZ.LJII();
        }
        videoPublishEditModel9.mSyncPlatforms = str2;
        this.LLI.getClass();
        this.LJLJLJ.Ny();
        VideoPublishEditModel videoPublishEditModel10 = this.LLILZLL;
        G5D g5d2 = videoPublishEditModel10.creativeModel.transientPostPageModel;
        if (g5d2.LJJJJ) {
            videoPublishEditModel10.playlist_id = g5d2.LJJJIL;
            videoPublishEditModel10.playlist_name = g5d2.LJJJJI;
            C145995oB c145995oB2 = new C145995oB();
            c145995oB2.LJI("enter_from", "video_post_page");
            c145995oB2.LJI("enter_method", "publish_page");
            c145995oB2.LJI("playlist_id", this.LLILZLL.creativeModel.transientPostPageModel.LJJJIL);
            c145995oB2.LJI("action_type", "add");
            c145995oB2.LIZ(1, "video_cnt");
            FMX.LJIIL("add_playlist_video", c145995oB2.LIZ);
        } else {
            videoPublishEditModel10.playlist_id = "";
            videoPublishEditModel10.playlist_name = "";
        }
        try {
            VideoPublishEditModel videoPublishEditModel11 = this.LLILZLL;
            C51556KLg.LIZ.getClass();
            videoPublishEditModel11.mPoiData = C51556KLg.LIZ().LJJLIIJ(new AObjectS42S0101000_5(4, this, 57));
        } catch (Exception unused) {
        }
        C44384HbQ.LLJ(this.LLILZLL);
        C42562Gn8 c42562Gn8 = C42562Gn8.LIZIZ;
        VideoPublishEditModel videoPublishEditModel12 = this.LLILZLL;
        if (videoPublishEditModel12 == null) {
            creationId = null;
        } else {
            creationId = videoPublishEditModel12.getCreationId();
        }
        c42562Gn8.LIZIZ(creationId, new C42097Gfd(EnumC42099Gff.BEFORE_REAL_PUBLISH, this.LLILZLL, null), null);
        C143195jf.LIZ("start save draft before publish creation id = " + this.LLILZLL.getCreationId());
        String str4 = this.LLILZLL.mStickerID;
        if ((str4 == null || str4.isEmpty()) && C00F.LIZ(31744, 0, "use_back_camera_experiment", true) == 2) {
            ((Keva) C40978G6k.LIZ.getValue()).storeInt("camera_publish_facing", C60903NvH.LJIIJJI().LJJIL().getCameraPosition(0));
        }
        VideoPublishEditModel videoPublishEditModel13 = this.LLILZLL;
        if (videoPublishEditModel13 != null) {
            C41315GJj.LIZLLL(videoPublishEditModel13);
            C41658GWo.LIZLLL().LJIIIIZZ(this.LLILZLL.getCreationId());
            DraftInfoModel draftInfoModel = this.LLILZLL.creativeModel.draftInfoModel;
            draftInfoModel.getClass();
            draftInfoModel.saveDraftScene = "saveDraftBeforePublish";
        }
        GI3.LJII(new G8P(new C41021G8b(this.LLILZLL, new GLI("VideoPublishContainerScene", 1)), new C41890GcI(this, System.currentTimeMillis())));
        long j = this.LLILZLL.creativeModel.transientPostPageModel.LJII;
        if (!C40968G6a.LIZ() && j > 0) {
            C42151GgV.LIZIZ(j, "normal_publish");
        }
    }

    @Override // com.ss.android.ugc.aweme.services.external.IComplianceService
    public final boolean getMusicPreventDownload() {
        boolean z;
        AVMusic extractAVMusic = MusicBeanUtilKt.extractAVMusic(this.LLILZLL.creativeModel.musicBuzModel);
        if (extractAVMusic != null && extractAVMusic.isPreventDownload()) {
            z = true;
        } else {
            z = false;
        }
        return Boolean.valueOf(z).booleanValue();
    }

    @Override // com.ss.android.ugc.aweme.services.external.IComplianceService
    public final int getPublishPermission() {
        G74 g74 = this.LLFFF;
        if (g74 != null) {
            return g74.getPermission();
        }
        return -1;
    }

    public final void j() {
        String str;
        G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
        if (g5d.LJJI) {
            LLLZZIL("SaveDraft");
            return;
        }
        g5d.LJJI = true;
        if (TextUtils.isEmpty(this.LLJJIJIL.LIZ())) {
            H8H.LIZ(this.LLILZLL, "video_post_page", 0, false, Boolean.valueOf(this.LLILZLL.creativeModel.transientPostPageModel.LJIJ), this.LLILZLL.creativeModel.transientPostPageModel.LJIJJ);
        } else {
            H8H.LIZ(this.LLILZLL, "video_post_page", 1, false, Boolean.valueOf(this.LLILZLL.creativeModel.transientPostPageModel.LJIJ), this.LLILZLL.creativeModel.transientPostPageModel.LJIJJ);
        }
        LLZLL("save_draft");
        L();
        p(true);
        Iterator it = ((ArrayList) this.LLJILJILJ).iterator();
        while (it.hasNext()) {
            ((IAVPublishExtension) ((C15070iV) it.next()).LIZIZ).onSaveDraft(C42000Ge4.LJIILJJIL(this.LLILZLL));
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("[realSaveDraft], activity=");
        LIZ.append(this.mActivity);
        C143195jf.LIZ(X1D.LIZIZ(LIZ));
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        G6A g6a = this.LLILLJJLI.LIZ;
        if (g6a != null) {
            str = ((C40990G6w) g6a).LIZ.LJII();
        } else {
            str = "";
        }
        videoPublishEditModel.mSyncPlatforms = str;
        C41315GJj.LIZLLL(this.LLILZLL);
        VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
        videoPublishEditModel2.creativeModel.transientPostPageModel.LJIJI = true;
        C41485GPx c41485GPx = this.LLIIIL;
        c41485GPx.getClass();
        long currentTimeMillis = System.currentTimeMillis();
        c41485GPx.LJIIIZ();
        EditText editText = c41485GPx.LIZLLL.LJIIJJI;
        if (editText != null) {
            C78866UxK.LJL(editText);
        }
        CharSequence LIZ2 = c41485GPx.LIZJ.LIZ.LJ().LIZ();
        if (LIZ2 != null) {
            videoPublishEditModel2.setTitle(LIZ2.toString());
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("display text: ");
            LIZ3.append(videoPublishEditModel2.title);
            C41485GPx.LJ(X1D.LIZIZ(LIZ3));
        }
        videoPublishEditModel2.heading = c41485GPx.LIZLLL.LIZ();
        List<AVTextExtraStruct> LIZ4 = GQ6.LIZ(c41485GPx.LIZJ.LIZ.LIZ(), c41485GPx.LJ);
        videoPublishEditModel2.setStructList(LIZ4);
        StringBuilder LIZ5 = X1D.LIZ();
        LIZ5.append("legacy metadata(size=");
        LIZ5.append(((ArrayList) LIZ4).size());
        LIZ5.append("): ");
        LIZ5.append(C2309394n.LIZ(LIZ4));
        C41485GPx.LJ(X1D.LIZIZ(LIZ5));
        if (C40976G6i.LIZ()) {
            c41485GPx.LJIIIIZZ(videoPublishEditModel2);
        }
        long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
        GQ4 gq4 = c41485GPx.LJII;
        VideoPublishEditModel videoPublishEditModel3 = c41485GPx.LIZ;
        gq4.getClass();
        GQ4.LIZIZ(videoPublishEditModel3, "draft", currentTimeMillis2);
        C5KN.LIZ();
        GI3.LJII(new G8P(new C41021G8b(this.LLILZLL, new GLI("VideoPublishContainerScene", 0)), new GI5(this)));
    }

    public final void k() {
        C38027EwB LIZ = C38028EwC.LIZ(FSY.SERIAL);
        LIZ.LIZIZ = "TAG";
        C38995FSd.LIZ(LIZ.LIZ()).submit(new ARunnableS11S0101000_7(5, this, 15));
    }

    @Override // com.ss.android.ugc.aweme.shortvideo.ui.TikTokPublishGroupScene, X.AbstractC42651GoZ, X.AbstractC147255qD, X.WM7
    public final void onDestroyView() {
        G6O g6o = this.LLJJIJI;
        if (g6o != null) {
            ((List) g6o.LIZJ.getValue()).clear();
            this.LLJJIJI = null;
        }
        boolean z = true;
        if (H7R.LJJJJL(this.LLILZLL) && !this.LLILZLL.creativeModel.transientPostPageModel.LJJIFFI) {
            C151345wo.LIZIZ();
            GS5 gs5 = this.LLJJIJIL;
            Iterator it = ((ArrayList) gs5.LJIILL).iterator();
            while (it.hasNext()) {
                RunnableC151315wl runnableC151315wl = (RunnableC151315wl) it.next();
                if (!runnableC151315wl.LJLL) {
                    runnableC151315wl.LJLL = true;
                }
            }
            gs5.LJIILLIIL.clear();
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("ProcessPublish DestroyPublishFragment isPublish:");
        C13860gY.LIZIZ(LIZ, this.LLILZLL.creativeModel.transientPostPageModel.LJJIFFI, LIZ);
        G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
        if (!g5d.LJJIFFI && !g5d.LJJIII) {
            C60903NvH.LJIIJJI().getPublishService().LJI();
            GUT.LIZ(LLJLILLLLZIIL(), "publish_page_destroyed");
        }
        super.onDestroyView();
        G6F g6f = this.LLILLJJLI;
        if (g6f != null) {
            G6A g6a = g6f.LIZ;
            if (g6a != null) {
                ((C40990G6w) g6a).LIZ.LIZLLL();
            }
        } else {
            StringBuilder LIZ2 = X1D.LIZ();
            LIZ2.append("syncModule is null and the fragment's view is null?:->");
            if (this.mView != null) {
                z = false;
            }
            LIZ2.append(z);
            C36922EeM.LJ(X1D.LIZIZ(LIZ2));
        }
        G7K g7k = this.LLIIIJ.LJIIJ;
        if (g7k != null) {
            C73411SrX c73411SrX = g7k.LJII;
            if (c73411SrX != null) {
                c73411SrX.dispose();
            }
            C73411SrX c73411SrX2 = g7k.LJIIIIZZ;
            if (c73411SrX2 != null) {
                c73411SrX2.dispose();
            }
        }
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> list = this.LLJILJILJ;
        if (list != null) {
            Iterator it2 = ((ArrayList) list).iterator();
            while (it2.hasNext()) {
                ((IAVPublishExtension) ((C15070iV) it2.next()).LIZIZ).onDestroy();
            }
        }
        GUH.LJFF = null;
        CommerceToolsTcmServiceImpl.LJIJJ().clear();
        HTP.LJLJL.LIZ();
        C42796Gqu c42796Gqu = this.LLIIJI;
        T3D t3d = c42796Gqu.LLFFF;
        if (t3d != null) {
            t3d.LIZIZ();
        }
        c42796Gqu.LLFFF = null;
        C793139j c793139j = this.LLIIJLIL;
        if (c793139j != null && !c793139j.LJ) {
            EffectDraftSubmissionListViewModel effectDraftSubmissionListViewModel = c793139j.LIZLLL;
            if (effectDraftSubmissionListViewModel != null) {
                XKX.LIZLLL(ViewModelKt.getViewModelScope(effectDraftSubmissionListViewModel), C78613UtF.LIZJ, null, new C69142nW(effectDraftSubmissionListViewModel, null), 2);
            } else {
                o.LJIJI("viewModel");
                throw null;
            }
        }
        G8G.LIZ.leave(requireActivity(), "video_publish");
        C42326GjK c42326GjK = C42326GjK.LIZ;
        Activity requireActivity = requireActivity();
        c42326GjK.getClass();
        C42326GjK.LIZ(requireActivity);
        C41025G8f.LIZ("normal").LIZJ("at_post_page");
        List<InterfaceC40967G5z> list2 = this.LJLJL;
        if (list2 != null) {
            Iterator it3 = ((ArrayList) list2).iterator();
            while (it3.hasNext()) {
                ((InterfaceC40967G5z) it3.next()).LIZ();
            }
        }
    }

    public final void s() {
        EditText editText;
        this.LLIIIJ.LJIILIIL();
        GS5 gs5 = this.LLJJIJIL;
        if (gs5 != null && (editText = gs5.LJIIJJI) != null) {
            C78866UxK.LJL(editText);
        }
        this.LLILZLL.setTitle(this.LLIIIJ.LIZIZ.getNoAdTagTextForTitleModule());
        GS5 gs52 = this.LLJJIJIL;
        if (gs52.LJI) {
            this.LLILZLL.heading = gs52.LIZ();
        }
        List<AVTextExtraStruct> LJ = this.LLIIIJ.LJ();
        if (LJ != null) {
            this.LLILZLL.setStructList(LJ);
        }
        C41485GPx c41485GPx = this.LLIIIL;
        c41485GPx.getClass();
        if (!C40982G6o.LIZ()) {
            return;
        }
        long currentTimeMillis = System.currentTimeMillis();
        try {
            C0UE LIZ = c41485GPx.LIZJ.LIZ();
            c41485GPx.LIZ.creativeModel.postPageModel.captionModel.markupText = LIZ.LIZLLL();
            CaptionModel captionModel = c41485GPx.LIZ.creativeModel.postPageModel.captionModel;
            List<AVTextExtraStruct> LIZJ = LIZ.LIZJ();
            captionModel.getClass();
            captionModel.markupExtra = LIZJ;
        } catch (GB5 unused) {
        }
        long currentTimeMillis2 = System.currentTimeMillis() - currentTimeMillis;
        GQ4 gq4 = c41485GPx.LJII;
        VideoPublishEditModel videoPublishEditModel = c41485GPx.LIZ;
        gq4.getClass();
        GQ4.LIZIZ(videoPublishEditModel, "preview", currentTimeMillis2);
    }

    public final void t() {
        InterfaceC92693kP interfaceC92693kP;
        H78.LIZ("TitleSensitivity SensitiveTitleCheck() ");
        G6D value = this.LLIIII.getValue();
        if (value == null) {
            return;
        }
        G7K LJFF = this.LLIIIJ.LJFF(value.getPermission(), this.LLJJIJIL.LIZ(), C44172HVg.LJIJ.getCurrentUser().LJIILIIL());
        if (LJFF == null) {
            J();
            H78.LIZ("TitleSensitivity SensitiveTitleCheck() checker is null");
            return;
        }
        H78.LIZ("TitleSensitivity SensitiveTitleCheck() goes to sync  data");
        AObjectS52S0101000_7 aObjectS52S0101000_7 = new AObjectS52S0101000_7(2, this, 22);
        AObjectS127S0200000_7 aObjectS127S0200000_7 = new AObjectS127S0200000_7(this, LJFF, 2);
        H78.LIZ("TitleSensitivity start synchronize data with 2 different response");
        if (!LJFF.LJ && LJFF.LIZJ == null && LJFF.LIZIZ == null && LJFF.LIZLLL != null) {
            LLLLLLJ();
            H78.LIZ("TitleSensitivity showloding when sync data");
            T03 t03 = LJFF.LJFF;
            if (t03 != null) {
                interfaceC92693kP = t03.LJJL(T16.LIZ()).LJJJ(C73969T1h.LIZIZ()).LJJJLIIL(new AfS46S0300000_7(LJFF, aObjectS52S0101000_7, aObjectS127S0200000_7, 2), new AfS56S0200000_7(aObjectS52S0101000_7, aObjectS127S0200000_7, 9));
            } else {
                interfaceC92693kP = null;
            }
            LJFF.LJIIIIZZ = (C73411SrX) interfaceC92693kP;
            return;
        }
        aObjectS127S0200000_7.invoke();
    }

    public final void x() {
        C10K.LIZJ(new Q5C(2, this));
    }

    public final void A() {
        IToolsVQEvaluationService iToolsVQEvaluationService = (IToolsVQEvaluationService) ServiceManager.get().getService(IToolsVQEvaluationService.class);
        if (iToolsVQEvaluationService != null) {
            iToolsVQEvaluationService.LJ();
        }
    }

    public final void K() {
        if (C142985jK.LIZ() && !H7R.LJJLIIIJJIZ(this.LLILZLL)) {
            C162236Yh.LJFF(LLII(), this.LLIIL, this.LLILZLL);
            return;
        }
        C162236Yh.LJ(LLII(), this.LLILZLL, true, this.LLIIL, this);
    }

    public final void LLLL() {
        if (LLII() == null && C19N.LJ("enable_publish_activity_nullable_check", false)) {
            return;
        }
        Intent intent = new Intent();
        intent.putExtra("publish result", "PublishActivity success");
        requireActivity().setResult(-1, intent);
        requireActivity().finish();
    }

    public final SpannableString LLLLIIIILLL() {
        String string;
        String string2 = getString(R.string.s0c);
        StringBuilder LIZ = X1D.LIZ();
        if (this.LLILZLL.creativeModel.privacySettingModel.aigcInfo.AIGCLabelType == 2) {
            string = getString(R.string.s03);
        } else {
            string = getString(R.string.s0b);
        }
        String LIZIZ = C025908h.LIZIZ(LIZ, string, " ", string2, LIZ);
        int indexOf = LIZIZ.indexOf(string2);
        SpannableString spannableString = new SpannableString(LIZIZ);
        spannableString.setSpan(new IDCSpanS32S0100000_7(this, 0), indexOf, string2.length() + indexOf, 17);
        spannableString.setSpan(new T5U(62, false), indexOf, string2.length() + indexOf, 17);
        return spannableString;
    }

    public final void LLLLLJLJLL() {
        boolean z;
        if (!LLZZLLIL()) {
            return;
        }
        String string = getString(R.string.s0d);
        if (this.LLILZLL.creativeModel.privacySettingModel.aigcInfo.AIGCLabelType > 0) {
            z = true;
        } else {
            z = false;
        }
        G63 g63 = new G63(10, string, "", R.raw.icon_robot, z, new AObjectS88S0101000_7(1, this, 1));
        if (this.LLILZLL.creativeModel.privacySettingModel.aigcInfo.AIGCLabelType == 2) {
            g63.LJIIL = false;
        }
        g63.LJIIJ = !g63.LJ;
        g63.LJIIIZ = new AObjectS131S0200000_7(this, g63, 3);
        g63.LJII = LLLLIIIILLL();
        g63.LJIILIIL = new AObjectS50S0101000_5(4, this, 2);
        ((ArrayList) this.LLJJ).add(g63);
    }

    /* JADX WARN: Removed duplicated region for block: B:28:0x007d  */
    /* JADX WARN: Removed duplicated region for block: B:31:0x00a3  */
    /* JADX WARN: Removed duplicated region for block: B:34:0x00ca  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void LLLLLLIL() {
        /*
            r14 = this;
            com.ss.android.ugc.aweme.compliance.api.services.privacy.IPrivacyService r0 = yq4.a.LJIILIIL()
            r3 = 1
            java.lang.String r2 = "create_sticker"
            com.ss.android.ugc.tiktok.tpsc.model.PrivacySettingsRestrictionItem r6 = r0.LIZJ(r3, r2)
            if (r6 != 0) goto L12
            com.ss.android.ugc.tiktok.tpsc.model.PrivacySettingsRestrictionItem r6 = new com.ss.android.ugc.tiktok.tpsc.model.PrivacySettingsRestrictionItem
            r6.<init>()
        L12:
            int r0 = r6.getShowType()
            r5 = 2
            if (r0 != r5) goto L1a
            return
        L1a:
            X.HEe r0 = X.C60903NvH.LJIIJJI()
            com.ss.android.ugc.aweme.property.AVPreferences r1 = r0.LJJIL()
            r0 = 0
            boolean r0 = r1.getAllowCreateStickerChanged(r0)
            if (r0 == 0) goto Le2
            X.HEe r0 = X.C60903NvH.LJIIJJI()
            com.ss.android.ugc.aweme.property.AVPreferences r0 = r0.LJJIL()
            int r1 = r0.getAllowCreateStickerCurrent(r5)
        L35:
            com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel r0 = r14.LLILZLL
            com.ss.android.ugc.aweme.creative.model.CreativeModel r0 = r0.creativeModel
            X.G5D r0 = r0.transientPostPageModel
            r0.LJIJJLI = r1
            com.ss.android.ugc.aweme.compliance.api.services.privacy.IPrivacyService r0 = yq4.a.LJIILIIL()
            com.ss.android.ugc.tiktok.tpsc.model.PrivacyUserSettingsV2 r0 = r0.getPrivacyUserSettings()
            if (r0 != 0) goto Lce
        L47:
            r2 = 1
        L48:
            int r0 = r6.getShowType()
            if (r0 == r3) goto Lcc
            com.ss.android.ugc.aweme.internal.IPrivacyService r0 = com.ss.android.ugc.aweme.internal.PrivacyServiceImpl.LIZIZ()
            boolean r0 = r0.LIZ()
            if (r0 != 0) goto Lcc
            com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel r1 = r14.LLILZLL
            int r0 = r1.creationMode
            if (r0 == r5) goto Lcc
            if (r2 == 0) goto Lcc
            int r0 = r1.getVideoLength()
            boolean r0 = X.GWJ.LIZIZ(r0)
            if (r0 != 0) goto Lcc
            com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel r0 = r14.LLILZLL
            boolean r0 = X.C78983UzD.LJJJJJL(r0)
            if (r0 != 0) goto Lcc
            r4 = 1
        L73:
            com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel r0 = r14.LLILZLL
            com.ss.android.ugc.aweme.creative.model.CreativeModel r1 = r0.creativeModel
            X.G5D r0 = r1.transientPostPageModel
            r0.LJIIZILJ = r4
            if (r4 != 0) goto L7f
            r0.LJIJJLI = r5
        L7f:
            com.ss.android.ugc.aweme.creative.model.PrivacySettingModel r1 = r1.privacySettingModel
            int r0 = r0.LJIJJLI
            r1.allowCreateSticker = r0
            X.G63 r7 = new X.G63
            r8 = 5
            r0 = 2131848541(0x7f116d5d, float:1.933059E38)
            java.lang.String r9 = r14.getString(r0)
            r0 = 2131848540(0x7f116d5c, float:1.9330589E38)
            java.lang.String r10 = r14.getString(r0)
            r11 = 2131756334(0x7f10052e, float:1.9143573E38)
            com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel r0 = r14.LLILZLL
            com.ss.android.ugc.aweme.creative.model.CreativeModel r0 = r0.creativeModel
            X.G5D r0 = r0.transientPostPageModel
            int r0 = r0.LJIJJLI
            if (r0 != r3) goto Lca
            r12 = 1
        La4:
            Y.AObjectS141S0100000_7 r13 = new Y.AObjectS141S0100000_7
            r0 = 7
            r13.<init>(r14, r0)
            r7.<init>(r8, r9, r10, r11, r12, r13)
            com.ss.android.ugc.aweme.shortvideo.edit.VideoPublishEditModel r0 = r14.LLILZLL
            com.ss.android.ugc.aweme.creative.model.CreativeModel r0 = r0.creativeModel
            X.G5D r0 = r0.transientPostPageModel
            boolean r0 = r0.LJIIZILJ
            r7.LJIIL = r0
            int r1 = r6.getResType()
            X.G5G r0 = new X.G5G
            r0.<init>()
            r7.LJIILIIL = r0
            java.util.List<X.G63> r0 = r14.LLJJ
            java.util.ArrayList r0 = (java.util.ArrayList) r0
            r0.add(r7)
            return
        Lca:
            r12 = 0
            goto La4
        Lcc:
            r4 = 0
            goto L73
        Lce:
            java.lang.Integer r0 = r0.M(r2)
            if (r0 != 0) goto Ld6
            goto L47
        Ld6:
            int r1 = r0.intValue()
            r0 = 5
            if (r1 == r0) goto Ldf
            goto L47
        Ldf:
            r2 = 0
            goto L48
        Le2:
            int r1 = r6.getDefaultValue()
            goto L35
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.shortvideo.ui.VideoPublishContainerScene.LLLLLLIL():void");
    }

    public final void LLLLLLL() {
        int i;
        boolean z;
        if (C52250Kf0.LIZIZ() || C40981G6n.LIZ()) {
            String string = getString(R.string.eb5);
            if (C41032G8m.LIZ()) {
                i = R.raw.icon_closed_captions;
            } else {
                i = R.raw.icon_closed_caption;
            }
            int i2 = 1;
            if (this.LLILZLL.allowAutoCaptionSetting > 0) {
                z = true;
            } else {
                z = false;
            }
            G63 g63 = new G63(4, string, "", i, z, new G5T(i2));
            g63.LJIIJJI = new AObjectS89S0101000_13(1, this, 1);
            ((ArrayList) this.LLJJ).add(g63);
        }
    }

    public final void LLLLLLLLL() {
        LLLLLLL();
        if (!"us".equalsIgnoreCase(C44296Ha0.LIZ()) && !"au".equalsIgnoreCase(C44296Ha0.LIZ())) {
            LLLLZIL();
        }
    }

    public final void LLLLLZL() {
        if (G61.LIZ()) {
            return;
        }
        G63 g63 = new G63(101, getString(R.string.p6k), "", R.raw.icon_scope, false, null);
        g63.LJIIJJI = new AObjectS141S0100000_7(this, 0);
        ((ArrayList) this.LLJJ).add(g63);
    }

    public final void LLLLZIL() {
        int i;
        int i2;
        String LLLZ;
        if (C52250Kf0.LIZIZ()) {
            if (GAE.LIZ()) {
                i = R.string.rxv;
            } else {
                i = R.string.dbd;
            }
            String string = getString(i);
            if (GAE.LIZ()) {
                i2 = R.string.rxu;
            } else {
                i2 = R.string.dbe;
            }
            G63 g63 = new G63(105, string, getString(i2), R.raw.icon_a_rectangle, false, new AObjectS58S0000000_7(1));
            String LJJIIJZLJL = C78685UuP.LJJIIJZLJL();
            AutogeneratedCaptionLanguageSelection[] LIZ = DU6.LIZ();
            int length = LIZ.length;
            int i3 = 0;
            while (true) {
                if (i3 < length) {
                    AutogeneratedCaptionLanguageSelection autogeneratedCaptionLanguageSelection = LIZ[i3];
                    if (autogeneratedCaptionLanguageSelection.getCode() == LJJIIJZLJL) {
                        LLLZ = autogeneratedCaptionLanguageSelection.getLocalName();
                        break;
                    }
                    i3++;
                } else {
                    Locale locale = IAVSettingServiceImpl.createIAVSettingServicebyMonsterPlugin(false).getLocale(LJJIIJZLJL);
                    if (locale != null) {
                        LLLZ = locale.getDisplayLanguage();
                    } else {
                        LLLZ = C16880lQ.LLLZ("%s", new Object[]{LJJIIJZLJL});
                    }
                }
            }
            o.LJIIIZ(LLLZ, "<set-?>");
            g63.LJI = LLLZ;
            g63.LJIIIIZZ = new AObjectS42S0201000_13(3, this, g63, 1);
            g63.LJIIJJI = new AObjectS141S0100000_7(this, 1);
            ((ArrayList) this.LLJJ).add(g63);
        }
    }

    public final void LLLZ() {
        boolean z;
        boolean z2;
        boolean z3;
        if (G6X.LIZ() && !H7R.LJJJJL(this.LLILZLL)) {
            LLLZIL();
            LLLLZLL();
            LLLLLLLZIL();
            LLLZZ();
            LLLLLJLJLL();
            LLLLLL();
            LLLLLZL();
            LLLLZ();
            LLLLZLLLI();
            VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
            if (videoPublishEditModel != null && videoPublishEditModel.hasSubtitle() && !H7R.LJJIIZ(this.LLILZLL)) {
                LLLZL();
            } else {
                LLLZIIL();
            }
            if (C40983G6p.LIZ()) {
                LLLZI();
            }
            LLLLLLLLL();
            LLLLLLIL();
            LLLLZLLIL();
        } else if (C40981G6n.LIZ() && !H7R.LJJJJL(this.LLILZLL)) {
            G63 g63 = new G63(1001, "", "", -1, false, null);
            G63 g632 = new G63(1002, "", "", -1, false, null);
            if (this.LJLLLL._checked.getValue() != null) {
                z = this.LJLLLL._checked.getValue().booleanValue();
            } else {
                z = false;
            }
            G63 g633 = new G63(6, G9V.LIZ(LLII()), "", R.raw.icon_bubble_left_ltr, z, null);
            g633.LJIIJJI = new AObjectS141S0100000_7(this, 4);
            if (this.LJLLLLLL._checked.getValue() != null) {
                z2 = this.LJLLLLLL._checked.getValue().booleanValue();
            } else {
                z2 = false;
            }
            G63 g634 = new G63(7, getString(R.string.bm3), "", R.raw.icon_duet, z2, null);
            g634.LJIIJJI = new AObjectS141S0100000_7(this, 5);
            if (this.LJLZ._checked.getValue() != null) {
                z3 = this.LJLZ._checked.getValue().booleanValue();
            } else {
                z3 = false;
            }
            G63 g635 = new G63(8, getString(R.string.bmb), "", R.raw.icon_stitch, z3, null);
            g635.LJIIJJI = new AObjectS141S0100000_7(this, 6);
            ListProtector.add(this.LLJJ, 0, g635);
            ListProtector.add(this.LLJJ, 0, g634);
            ListProtector.add(this.LLJJ, 0, g633);
            ListProtector.add(this.LLJJ, 0, g63);
            LLLLLLIL();
            ((ArrayList) this.LLJJ).add(g632);
            LLLI();
            LLLZIL();
            LLLLZLL();
            LLLLLLLZIL();
            LLLLLJLJLL();
            LLLZZ();
            LLLLLL();
            LLLLLZL();
            LLLLZ();
            LLLLZLLLI();
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            if (videoPublishEditModel2 != null && videoPublishEditModel2.hasSubtitle() && !H7R.LJJIIZ(this.LLILZLL)) {
                LLLZL();
            } else {
                LLLZIIL();
            }
            if (C40983G6p.LIZ()) {
                LLLZI();
            }
            LLLLLLLLL();
            LLLLZLLIL();
        } else {
            LLLZIL();
            VideoPublishEditModel videoPublishEditModel3 = this.LLILZLL;
            if (videoPublishEditModel3 != null && videoPublishEditModel3.hasSubtitle() && !H7R.LJJIIZ(this.LLILZLL)) {
                LLLZL();
            } else {
                LLLZIIL();
            }
            if (C40983G6p.LIZ()) {
                LLLZI();
            }
            LLLLLJLJLL();
            LLLLLLL();
            LLLLZIL();
            LLLLZ();
            LLLLZLLLI();
            LLLLZLLIL();
            LLLLLLIL();
        }
        VideoPublishViewModel n2 = n();
        List<G63> publishSettingList = this.LLJJ;
        n2.getClass();
        o.LJIIIZ(publishSettingList, "publishSettingList");
        n2.LJLJJLL = publishSettingList;
        VideoPublishViewModel n3 = n();
        G7B geoFencingItemStatus = this.LJZL;
        n3.getClass();
        o.LJIIIZ(geoFencingItemStatus, "geoFencingItemStatus");
        VideoPublishViewModel n4 = n();
        AddToPlaylistItemStatus addToPlaylistItemStatus = this.LJZI;
        n4.getClass();
        o.LJIIIZ(addToPlaylistItemStatus, "addToPlaylistItemStatus");
    }

    public final void LLLZZ() {
        if (LLLLL().LIZJ() && this.LLILZLL.creativeModel.trendingUploadModel.trendingTopicStatus == GBY.ENABLED.getValue()) {
            G63 g63 = new G63(106, getString(R.string.sk3), "", R.raw.icon_fire_3, false, new AObjectS58S0000000_7(1));
            g63.LJIIIIZZ = new AObjectS42S0201000_13(1, this, g63, 0);
            g63.LJIIJJI = new AObjectS141S0100000_7(this, 9);
            M(this.LLIFFJFJJ, this.LLILZLL.creativeModel.trendingUploadModel.trendingTopic, g63);
            LLZZJLIL("more_options");
            ((ArrayList) this.LLJJ).add(g63);
        }
    }

    public final boolean LLZZLLIL() {
        if (a.LJFF().LJJIJLIJ()) {
            return true;
        }
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        o.LJIIIZ(videoPublishEditModel, "<this>");
        if (videoPublishEditModel.creativeModel.privacySettingModel.aigcInfo.AIGCLabelType == 2 && C40980G6m.LIZ()) {
            return true;
        }
        return false;
    }

    @Override // com.ss.android.ugc.aweme.adaptation.AbsSceneAdaptationScene, X.G90
    public final Analysis getAnalysis() {
        if (super.getAnalysis() == null) {
            return super.getAnalysis();
        }
        HashMap hashMap = new HashMap();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            hashMap.put("creation_id", videoPublishEditModel.getCreationId());
        }
        hashMap.put("is_story_shoot", CardStruct.IStatusCode.DEFAULT);
        Analysis analysis = super.getAnalysis();
        analysis.setExtraMap(hashMap);
        return analysis;
    }

    @Override // X.G6K
    public final Fragment getFragment() {
        return LLLFF();
    }

    public final VideoPublishViewModel n() {
        return (VideoPublishViewModel) C163726bg.LIZIZ(SceneExtensionsKt.LIZLLL(this), this).LIZ(VideoPublishViewModel.class);
    }

    public final void o() {
        if (G6Y.LIZ() && G6Z.LIZ() == 1) {
            Application context = C60903NvH.LJ;
            VideoPublishEditModel editModel = this.LLILZLL;
            o.LJIIIZ(context, "context");
            o.LJIIIZ(editModel, "editModel");
            XKX.LIZLLL(C780334l.LJLIL, C78613UtF.LIZJ, null, new C131215Cz(context, editModel, null), 2);
        }
    }

    @Override // X.AbstractC42651GoZ, X.WM7
    public final void onPause() {
        super.onPause();
        this.LLJJL.setVisibility(0);
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            if (C78886Uxe.LJII(videoPublishEditModel)) {
                C124454uX.LJI.getClass();
                C124454uX.LIZLLL();
            }
            G8G.LIZ.pause(LLJLILLLLZIIL(), "video_publish", this.LLILZLL.getCreationId(), this.LLILZLL.mShootWay);
        }
        C42315Gj9.LIZJ("tool_publish_enter");
        VEMem.getInstance().uploadVirtualMemSize(5);
    }

    @Override // X.AbstractC42651GoZ, X.WM7
    public final void onResume() {
        String str;
        int i;
        int i2;
        List<StickerItemModel> list;
        super.onResume();
        VEMem.getInstance().uploadVirtualMemSize(4);
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        G8G.LIZ.end("av_video_publish", "first_frame");
        if (!LLLLJI().LJJJJJ && videoPublishEditModel != null && videoPublishEditModel.clickGoNextBtnTime != -1) {
            LLLLJI().LJJJJJ = true;
            long currentTimeMillis = System.currentTimeMillis() - videoPublishEditModel.clickGoNextBtnTime;
            C145995oB c145995oB = new C145995oB();
            c145995oB.LJI("shoot_way", videoPublishEditModel.mShootWay);
            c145995oB.LJI("enter_from", videoPublishEditModel.enterFrom);
            c145995oB.LJI("content_type", H7R.LJIIIZ(videoPublishEditModel));
            c145995oB.LJI("content_source", H7R.LJIIIIZZ(videoPublishEditModel));
            c145995oB.LJI("creation_id", videoPublishEditModel.getCreationId());
            if (!C139895eL.LIZIZ) {
                str = "1";
            } else {
                str = CardStruct.IStatusCode.DEFAULT;
            }
            c145995oB.LJI("is_nle", str);
            c145995oB.LIZIZ(currentTimeMillis, "first_ui_frame_duration");
            c145995oB.LJI("resolution", videoPublishEditModel.getVideoResolution());
            c145995oB.LIZIZ(currentTimeMillis, "first_frame_duration");
            c145995oB.LIZ(videoPublishEditModel.getPreviewInfo().getPreviewVideoLength(), "creation_duration");
            OSZ LJJIIJ = g0.LJJIIJ(videoPublishEditModel);
            if (((Integer) LJJIIJ.getSecond()).intValue() + ((Integer) LJJIIJ.getFirst()).intValue() > 1) {
                i = 1;
            } else {
                i = 0;
            }
            c145995oB.LIZ(i, "is_multi_content");
            InfoStickerModel infoStickerModel = videoPublishEditModel.infoStickerModel;
            if (infoStickerModel != null && (list = infoStickerModel.stickers) != null) {
                c145995oB.LIZ(list.size(), "text_and_captions_cnt");
            } else {
                c145995oB.LIZ(0, "text_and_captions_cnt");
            }
            C10K.LIZJ(new ACallableS84S0200000_7(c145995oB, videoPublishEditModel, 6));
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            if (videoPublishEditModel2 != null && videoPublishEditModel2.getPreviewInfo() != null) {
                i2 = this.LLILZLL.getPreviewInfo().getPreviewVideoLength();
            } else {
                i2 = -1;
            }
            C6FQ.LIZ(i2, currentTimeMillis, "click_next_in_edit");
        }
        long currentTimeMillis2 = System.currentTimeMillis();
        if (this.LLJJJIL != null && !LLLLJI().LJJJJL) {
            this.LLJJJIL.getViewTreeObserver().addOnGlobalLayoutListener(new G5J(this, currentTimeMillis2));
        }
        this.LLJJL.setVisibility(8);
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> list2 = this.LLJILJILJ;
        if (list2 != null) {
            Iterator it = ((ArrayList) list2).iterator();
            while (it.hasNext()) {
                ((IAVPublishExtension) ((C15070iV) it.next()).LIZIZ).onResume();
            }
        }
        if (C53258KvG.LIZIZ()) {
            String tcmCampaignInfo = this.LLILZLL.creativeModel.commerceModel.getTcmModel().getTcmCampaignInfo();
            if (tcmCampaignInfo != null && tcmCampaignInfo.contains("\"anchors\":\"[{")) {
                if (!this.LLJJLIIIJLLLLLLLZ.LJII(4)) {
                    Activity requireActivity = requireActivity();
                    CreativeToastBuilder creativeToastBuilder = new CreativeToastBuilder();
                    creativeToastBuilder.message(LLJLILLLLZIIL().getString(R.string.p6x));
                    C78915Uy7.LJJIIZI(requireActivity, 2001, creativeToastBuilder);
                    AnchorOperationServiceImpl.LIZJ().LIZ(new ArrayList(Arrays.asList(4, 3, 1)));
                } else {
                    AnchorOperationServiceImpl.LIZJ().LIZ(new ArrayList(Collections.singletonList(1)));
                }
                this.LLJJLIIIJLLLLLLLZ.LIZIZ(4);
            } else {
                this.LLJJLIIIJLLLLLLLZ.LIZLLL(4);
            }
        }
        this.LLJJIJIIJIL.LIZIZ(this, new AObjectS86S0100000_7(this, 105));
        C40871j1<Boolean> c40871j1 = n().LJLJL;
        c40871j1.LIZIZ(this, new AObjectS117S0200000_7(this, c40871j1, 4));
        this.LLJJIJIL.LJI();
        if (C41030G8k.LIZ()) {
            E();
        }
    }

    @Override // X.AbstractC42651GoZ, X.WM7
    public final void onStop() {
        int i;
        super.onStop();
        if (LLLLJI().LJJJJIZL != -1) {
            long currentTimeMillis = System.currentTimeMillis() - LLLLJI().LJJJJIZL;
            if (currentTimeMillis < 10000) {
                VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
                if (videoPublishEditModel != null && videoPublishEditModel.getPreviewInfo() != null) {
                    i = this.LLILZLL.getPreviewInfo().getPreviewVideoLength();
                } else {
                    i = -1;
                }
                C6FQ.LIZ(i, currentTimeMillis, "click_back_in_publish");
            }
            LLLLJI().LJJJJIZL = -1L;
        }
        long j = this.LLILZLL.creativeModel.transientPostPageModel.LJFF;
        if (j != -1) {
            long currentTimeMillis2 = System.currentTimeMillis() - j;
            if (currentTimeMillis2 < 10000) {
                C6FQ.LIZ(this.LLILZLL.getPreviewInfo().getPreviewVideoLength(), currentTimeMillis2, "click_publish");
            }
            this.LLILZLL.creativeModel.transientPostPageModel.LJFF = -1L;
        }
    }

    public static void LLLZZIL(String str) {
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("DoubleManualFinishPublish ");
        LIZ.append(str);
        String LIZIZ = X1D.LIZIZ(LIZ);
        H78.LIZJ(LIZIZ);
        C142955jH.LIZ(LIZIZ);
        H78.LIZJ("BlockDoubleManualFinishPublish");
    }

    public final void B(View view) {
        if (C00F.LIZ(31744, 0, "kcc_notice_show_in_KR", true) == 0) {
            return;
        }
        C60903NvH.LJIIJJI().getRegionService();
        if (!C44296Ha0.LIZ().equals("KR")) {
            return;
        }
        this.LLILZLL.creativeModel.transientPostPageModel.LJIIJ = true;
        view.findViewById(R.id.fdn).setVisibility(0);
    }

    public final void D(Boolean bool) {
        if (this.LLL == null || this.LLLFF == null) {
            return;
        }
        if (bool.booleanValue()) {
            this.LLL.setVisibility(0);
            TCMPostPageSubmitTextModel submitText = this.LLILZLL.creativeModel.commerceModel.getTcmModel().getSubmitText();
            if (submitText != null && !TextUtils.isEmpty(submitText.getSubmitButtonText())) {
                this.LLLFF.setText(submitText.getSubmitButtonText());
                this.LLL.setVisibility(8);
                this.LLLFF.setVisibility(0);
                return;
            }
            return;
        }
        this.LLLFF.setVisibility(8);
        this.LLL.setVisibility(8);
    }

    public final void G(Boolean bool) {
        if (this.LLJZIJLIL == null) {
            return;
        }
        if (bool.booleanValue()) {
            this.LLJZIJLIL.setVisibility(0);
        } else {
            this.LLJZIJLIL.setVisibility(8);
        }
    }

    @Override // X.G6K
    public final String LJJLI(int i) {
        return getString(i);
    }

    @Override // X.InterfaceC162316Yp
    public final void LLILZIL(Bitmap bitmap) {
        if (bitmap != null && !bitmap.isRecycled()) {
            this.LLJ = bitmap;
        }
    }

    public final void LLLFZ(User user) {
        if (user == null) {
            return;
        }
        GQ5 gq5 = this.LLIIIJ;
        gq5.getClass();
        gq5.LIZIZ.LJI(user.getNickname(), user.getUid(), user.getSecUid());
    }

    public final Bundle LLLJ(boolean z) {
        G6F g6f;
        G6A g6a;
        G6A g6a2;
        G6F g6f2 = this.LLILLJJLI;
        int i = -1;
        if (g6f2 != null && (g6a2 = g6f2.LIZ) != null) {
            i = ((C40990G6w) g6a2).LIZ.getSaveUploadType();
        }
        AVUploadSaveModel LIZIZ = C60903NvH.LJIIJJI().getPublishService().LJIJI().LIZIZ(this.LLILZLL, i, z, new G5R(this.LLILZ), false);
        this.LLILZLL.setSaveModel(LIZIZ);
        int i2 = 0;
        if (LIZIZ != null && i == 0 && (g6f = this.LLILLJJLI) != null && (g6a = g6f.LIZ) != null && ((C40990G6w) g6a).LIZ.LJ()) {
            LIZIZ.setSaveLocal(false);
        }
        C43587H8t.LIZJ(H83.LIZ(this.LLILZLL), new C44224HXg(this.LLILZLL), EnumC43590H8w.PUBLISH, EnumC43590H8w.SEND_REQUEST);
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        videoPublishEditModel.userClickPublishTime = videoPublishEditModel.creativeModel.transientPostPageModel.LJ;
        Bundle bundle = new Bundle();
        if (H7R.LJJJJL(this.LLILZLL)) {
            i2 = 11;
        }
        bundle.putInt("video_type", i2);
        bundle.putBoolean("from_search", this.LLILZLL.creativeModel.searchCreateModel.isFromSearch());
        bundle.putSerializable("extra_video_publish_args", this.LLILZLL);
        bundle.putString("shoot_way", this.LLILZLL.mShootWay);
        bundle.putString("creation_id", this.LLILZLL.getCreationId());
        bundle.putInt("extra_stick_point_type", this.LLILZLL.creativeModel.transientPostPageModel.LJJIL);
        bundle.putBoolean("enter_record_from_other_platform", this.LLILZLL.creativeModel.transientPostPageModel.LJJIZ);
        bundle.putBoolean("extra_enter_from_live", this.LLILZLL.creativeModel.transientPostPageModel.LJIIL);
        bundle.putInt("publish_private_state", this.LLILZLL.isPrivate());
        bundle.putInt("publish_permission", this.LLIIIILZ.LIZ());
        bundle.putBoolean("publish_high_quality_with_prompt", C41315GJj.LIZIZ(this.LLILZLL));
        if (H7R.LJJL(this.LLILZLL)) {
            bundle.putBoolean("shoutouts_video_fast_publish", true);
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("VideoPublishService.createBundleParams()  bundle=");
        LIZ.append(bundle);
        C36922EeM.LJ(X1D.LIZIZ(LIZ));
        C145995oB c145995oB = new C145995oB();
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("VideoPublishService.createBundleParams()  bundle=");
        LIZ2.append(bundle);
        c145995oB.LJI("log", X1D.LIZIZ(LIZ2));
        FMX.LJIIL("av_video_memory", c145995oB.LIZ);
        Publish.PublishBundle = bundle;
        return bundle;
    }

    public final void LLLLLIL(boolean z) {
        float f;
        if (z) {
            this.LJLLLLLL._isDisabled = true;
            this.LJLZ._isDisabled = true;
        } else {
            MutableLiveData<Boolean> mutableLiveData = this.LJLLLLLL._enable;
            Boolean bool = Boolean.FALSE;
            mutableLiveData.setValue(bool);
            this.LJLZ._enable.setValue(bool);
        }
        if (G6X.LIZ()) {
            f = 0.34f;
        } else {
            f = 0.4f;
        }
        MutableLiveData<Boolean> mutableLiveData2 = this.LJLLLLLL._checked;
        Boolean bool2 = Boolean.FALSE;
        mutableLiveData2.setValue(bool2);
        this.LJLLLLLL._alpha.setValue(Float.valueOf(f));
        this.LJLZ._checked.setValue(bool2);
        this.LJLZ._alpha.setValue(Float.valueOf(f));
        this.LLILZLL.creativeModel.privacySettingModel.allowCreateSticker = 2;
        Iterator it = ((ArrayList) this.LLJJ).iterator();
        while (it.hasNext()) {
            G63 g63 = (G63) it.next();
            if (g63.LIZ == 5) {
                g63.LJIIL = false;
                g63.LJ = false;
                return;
            }
        }
    }

    public final void LLLLLLZ(View view) {
        if (this.LLILZLL.creativeModel.transientPostPageModel.LJJIIZ) {
            return;
        }
        TuxTextView tuxTextView = (TuxTextView) view.findViewById(R.id.bat);
        this.LLIILII = tuxTextView;
        if (this.LLJL) {
            tuxTextView.setBackgroundResource(R.drawable.sn);
        }
        C16880lQ.LJIIJ(new Au2S13S0100000_2(this, 3, 42), view.findViewById(R.id.bas));
    }

    public final void LLLLLZIL(TikTokPublishGroupSceneFragment tikTokPublishGroupSceneFragment) {
        C40999G7f LIZ = CommerceToolsPublishService.LIZJ().LIZ(new C40966G5y(this, tikTokPublishGroupSceneFragment));
        this.LJLJLJ = LIZ;
        LIZ.initialize();
    }

    public final void LLLZLL(View view) {
        if (C40981G6n.LIZ() && !H7R.LJJJJL(this.LLILZLL)) {
            return;
        }
        if (G6X.LIZ()) {
            ViewStub viewStub = (ViewStub) view.findViewById(R.id.it8);
            if (viewStub == null) {
                return;
            }
            viewStub.inflate();
            this.LJLLL = (TuxTextView) view.findViewById(R.id.it7);
            if (Keva.getRepo("publish_bubble").getInt("redesign_privacy_settings_item", 0) < 3) {
                TuxTextView tuxTextView = this.LJLLL;
                G6O g6o = this.LLJJIJI;
                ActivityC45651qj LLII = LLII();
                if (LLII != null && tuxTextView != null && g6o != null) {
                    G6S g6s = new G6S(new AqS154S0200000_7(LLII, tuxTextView, 50));
                    G6R g6r = (G6R) g6o.LIZIZ.getValue();
                    g6r.getClass();
                    if (g6r.LIZ(g6s) < g6s.LJLILLLLZI) {
                        ((List) g6o.LIZJ.getValue()).add(g6s);
                    }
                }
            }
            if (this.LJLLI == null) {
                View findViewById = view.findViewById(R.id.etd);
                this.LJLLI = findViewById;
                this.LJLLLL.bindView(findViewById, this);
            }
            if (this.LJLLILLLL == null) {
                View findViewById2 = view.findViewById(R.id.etv);
                this.LJLLILLLL = findViewById2;
                this.LJLLLLLL.bindView(findViewById2, this);
            }
            if (this.LJLLJ == null) {
                View findViewById3 = view.findViewById(R.id.ev2);
                this.LJLLJ = findViewById3;
                this.LJLZ.bindView(findViewById3, this);
            }
        } else {
            if (C162356Yt.LIZ()) {
                if (this.LJLLI == null) {
                    this.LJLLI = view.findViewById(R.id.blm);
                }
                if (this.LJLLILLLL == null) {
                    this.LJLLILLLL = view.findViewById(R.id.ciu);
                }
                if (this.LJLLJ == null) {
                    this.LJLLJ = view.findViewById(R.id.kku);
                }
            } else {
                if (this.LJLLI == null) {
                    this.LJLLI = ((ViewStub) view.findViewById(R.id.blm)).inflate();
                }
                if (this.LJLLILLLL == null) {
                    this.LJLLILLLL = ((ViewStub) view.findViewById(R.id.ciu)).inflate();
                }
                if (this.LJLLJ == null) {
                    this.LJLLJ = ((ViewStub) view.findViewById(R.id.kku)).inflate();
                }
            }
            if (C40981G6n.LIZ()) {
                View view2 = this.LJLLI;
                if (view2 instanceof AI8) {
                    C26012AIu.LIZ(R.raw.icon_bubble_ellipsis_right, (AI8) view2);
                    C26012AIu.LIZIZ((AI8) this.LJLLI, G9V.LIZ(LLII()));
                }
                View view3 = this.LJLLILLLL;
                if (view3 instanceof AI8) {
                    C26012AIu.LIZ(R.raw.icon_duet, (AI8) view3);
                    C26012AIu.LIZIZ((AI8) this.LJLLILLLL, getString(R.string.bm3));
                }
                View view4 = this.LJLLJ;
                if (view4 instanceof AI8) {
                    C26012AIu.LIZ(R.raw.icon_stitch, (AI8) view4);
                    C26012AIu.LIZIZ((AI8) this.LJLLJ, getString(R.string.bmb));
                }
            } else {
                View view5 = this.LJLLI;
                if (view5 instanceof AI8) {
                    ((AI8) view5).setTitle(G9V.LIZ(LLII()));
                }
            }
            this.LJLLLL.bindView(this.LJLLI, this);
            this.LJLLLLLL.bindView(this.LJLLILLLL, this);
            this.LJLZ.bindView(this.LJLLJ, this);
        }
        LLLI();
    }

    public final void LLLZLZ(View view) {
        String charSequence;
        if (LLLLL().LIZIZ() && this.LLILZLL.creativeModel.trendingUploadModel.trendingTopicStatus == GBY.ENABLED.getValue()) {
            AI8 ai8 = (AI8) ((ViewStub) view.findViewById(R.id.n9b)).inflate();
            this.LLIFFJFJJ = ai8;
            M(ai8, this.LLILZLL.creativeModel.trendingUploadModel.trendingTopic, null);
            if (C40981G6n.LIZ()) {
                C26012AIu.LIZ(R.raw.icon_fire_3, this.LLIFFJFJJ);
                CharSequence title = this.LLIFFJFJJ.getTitle();
                if (title == null) {
                    charSequence = "";
                } else {
                    charSequence = title.toString();
                }
                C26012AIu.LIZIZ(this.LLIFFJFJJ, charSequence);
            }
            ((AIF) this.LLIFFJFJJ.getAccessory()).LJIILJJIL(new ACListenerS24S0101000_5(5, this, 2));
            LLZZJLIL("post_page");
        }
    }

    public final void LLZIL(G7W g7w) {
        Bundle bundle = this.mArguments;
        boolean z = false;
        if (bundle != null) {
            z = bundle.getBoolean("is_from_sys_share", false);
        }
        if (z) {
            C145995oB c145995oB = new C145995oB();
            c145995oB.LJI("enter_from", "video_edit_page");
            FMX.LJIIL("login_notify", c145995oB.LIZ);
        }
        C60903NvH.LJIIJJI().getPublishService().LJI();
        GUT.LIZ(LLJLILLLLZIIL(), "jump_to_login_page");
        C44172HVg.LJIJ.LJIIIIZZ(LLLFF(), "video_edit_page", "click_shoot", new G7V(g7w));
    }

    public final void LLZL(boolean z) {
        String str;
        String str2;
        C145995oB c145995oB = new C145995oB();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        String str3 = "mModel is null";
        if (videoPublishEditModel == null) {
            str = "mModel is null";
        } else {
            str = videoPublishEditModel.getCreationId();
        }
        c145995oB.LJI("creation_id", str);
        VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
        if (videoPublishEditModel2 != null) {
            str3 = videoPublishEditModel2.mShootWay;
        }
        c145995oB.LJI("shoot_way", str3);
        c145995oB.LJI("enter_from", "video_post_page");
        if (z) {
            str2 = "on";
        } else {
            str2 = "off";
        }
        c145995oB.LJI("status", str2);
        FMX.LJIIL("click_high_quality_upload_control", c145995oB.LIZ);
    }

    /* JADX WARN: Multi-variable type inference failed */
    public final void LLZLL(String str) {
        int i;
        long j;
        int i2;
        int i3;
        String str2;
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            j = System.currentTimeMillis() - videoPublishEditModel.creativeModel.transientPostPageModel.LIZLLL;
            G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
            boolean z = g5d.LJIIIZ;
            i = z;
            i3 = g5d.LJJIJL;
            i2 = g5d.LJJIJLIJ;
        } else {
            i = 0;
            j = 0;
            i2 = 0;
            i3 = 0;
        }
        C145995oB c145995oB = new C145995oB();
        c145995oB.LJI("enter_from", "video_post_page");
        VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
        String str3 = "mModel is null";
        if (videoPublishEditModel2 == null) {
            str2 = "mModel is null";
        } else {
            str2 = videoPublishEditModel2.mShootWay;
        }
        c145995oB.LJI("shoot_way", str2);
        VideoPublishEditModel videoPublishEditModel3 = this.LLILZLL;
        if (videoPublishEditModel3 != null) {
            str3 = videoPublishEditModel3.getCreationId();
        }
        c145995oB.LJI("creation_id", str3);
        c145995oB.LJI("leave_action", str);
        c145995oB.LIZ(i2, "is_enter_cover");
        c145995oB.LIZ(i3, "is_enter_preview");
        c145995oB.LIZ(i, "is_content_modified");
        c145995oB.LIZJ(C48335Iy3.LIZIZ("av_video_edit").getFirst(), "app_mem_use");
        c145995oB.LIZJ(C48335Iy3.LIZIZ("av_video_edit").getSecond(), "availble_mem");
        c145995oB.LIZIZ(j, "duration");
        c145995oB.LJI("publish_action_trace_id", this.LLILZLL.creativeModel.transientPostPageModel.LJIILJJIL);
        FMX.LJIIL("leave_post_page", c145995oB.LIZ);
    }

    public final void LLZZJLIL(String str) {
        String str2;
        C44423Hc3 currentUser = C44172HVg.LJIJ.getCurrentUser();
        if (currentUser != null) {
            str2 = currentUser.getUid();
        } else {
            str2 = "";
        }
        C188727au c188727au = new C188727au();
        c188727au.LJIIIZ("enter_from", "video_post_page");
        c188727au.LJIIIZ("creation_id", this.LLILZLL.getCreationId());
        c188727au.LJIIIZ("creator_id", str2);
        c188727au.LJIIIZ("shoot_way", this.LLILZLL.mShootWay);
        c188727au.LJIIIZ("show_position", str);
        FMX.LJIIL("trends_post_link_show", c188727au.LIZ);
    }

    @Override // X.InterfaceC41079GAh
    public final void M7(int i) {
        C40984G6q c40984G6q = this.LLILZ;
        if (c40984G6q != null) {
            new G5Y(c40984G6q).M7(i);
        }
    }

    public final void a(String str) {
        View view = this.LLIILZL;
        if (view != null) {
            view.setEnabled(false);
        }
        View view2 = this.LLIIZ;
        if (view2 != null) {
            view2.setEnabled(false);
        }
        C60903NvH.LJIIJJI().getPublishService().LJJIIJZLJL("publish_page_finish");
        C5KN.LIZ();
        if (!TextUtils.isEmpty(str)) {
            String str2 = LLLFZ;
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("finish video publish page, reason: ");
            LIZ.append(str);
            H78.LIZIZ(str2, X1D.LIZIZ(LIZ));
            C41658GWo.LIZLLL().LJI = "";
            LLJJI();
            return;
        }
        throw new IllegalArgumentException("finish reason can't be empty");
    }

    public final void m(InterfaceC65784Pro<C76800UCe> interfaceC65784Pro) {
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> list = this.LLJILJILJ;
        if (list != null) {
            Iterator<C15070iV<Class<?>, IAVPublishExtension<?>>> it = list.iterator();
            while (it.hasNext()) {
                IAVPublishExtension<?> iAVPublishExtension = it.next().LIZIZ;
                if (iAVPublishExtension instanceof C42898GsY) {
                    iAVPublishExtension.registerOnAddAnchorListener(interfaceC65784Pro);
                }
            }
        }
    }

    /* JADX WARN: Type inference failed for: r10v5, types: [X.GPt] */
    @Override // com.ss.android.ugc.aweme.shortvideo.ui.TikTokPublishGroupScene, com.ss.android.ugc.aweme.adaptation.AbsSceneAdaptationScene, X.AbstractC42651GoZ, X.WM7
    public final void onActivityCreated(Bundle bundle) {
        long currentTimeMillis;
        int i;
        boolean z;
        AbstractC156986Ec c157036Eh;
        VideoPublishEditModel videoPublishEditModel;
        VideoPublishEditModel videoPublishEditModel2;
        VideoPublishContainerScene videoPublishContainerScene;
        Map LJI;
        super.onActivityCreated(bundle);
        this.LLIZLLLIL = bundle;
        G8G.LIZ.enter(requireActivity(), "video_publish");
        C42315Gj9.LIZIZ("tool_publish_enter", C52467KiV.LIZIZ(), C52467KiV.LIZ());
        C60903NvH.LJIIJJI().LJJI().sceneReport("tool_publish_page_load");
        C48343IyB.LIZ(LLJLL(), G68.LIZ, this);
        this.LLJLIL = this.mActivity;
        View view = this.mView;
        this.LLILLL = (KeyboardStateViewModel) new ViewModelProvider(this).get(KeyboardStateViewModel.class);
        this.mActivity.getWindow().setSharedElementReenterTransition(new AutoTransition());
        this.mActivity.getWindow().setSharedElementExitTransition(new AutoTransition());
        C40871j1<Boolean> c40871j1 = new C40871j1<>(Boolean.TRUE);
        this.LLJJIJIIJIL = c40871j1;
        this.LLJJIJI = new G6O(c40871j1);
        this.LJLLLL = (CommentSettingItemStatus) C165706es.LJIIIIZZ(this, null, null, 6).get(CommentSettingItemStatus.class);
        this.LJLLLLLL = (DuetSettingItemStatus) C165706es.LJIIIIZZ(this, null, null, 6).get(DuetSettingItemStatus.class);
        this.LJLZ = (StitchSettingItemStatus) C165706es.LJIIIIZZ(this, null, null, 6).get(StitchSettingItemStatus.class);
        if (C162356Yt.LIZ()) {
            C41315GJj.LIZ(view.findViewById(R.id.ifg));
        } else {
            C41315GJj.LIZ(view.findViewById(R.id.iff));
        }
        if (this.LLIZ == null) {
            this.LLIZ = new VideoCoverBitmapHolder();
            getLifecycle().addObserver(this.LLIZ);
        }
        Bundle bundle2 = this.mArguments;
        o.LJIIIZ(bundle2, "<this>");
        this.LLILZLL = (VideoPublishEditModel) bundle2.getSerializable("args");
        if (C41030G8k.LIZ()) {
            boolean z2 = this.mArguments.getBoolean("extra_enter_from_shoutout_sync", false);
            if (this.LLILZLL == null) {
                if (z2) {
                    new C43542H7a("shoutOuts");
                    String string = this.mArguments.getString("extra_shoutout_video_path");
                    String string2 = this.mArguments.getString("extra_shoutout_pid");
                    String string3 = this.mArguments.getString("extra_shoutout_music_id");
                    CreativeInfo LJIJJ = C77412UZs.LJIJJ(this.mArguments);
                    VideoPublishEditModel videoPublishEditModel3 = new VideoPublishEditModel();
                    this.LLILZLL = videoPublishEditModel3;
                    C43542H7a.LJFF(videoPublishEditModel3, LJIJJ, string, string2, string3);
                } else {
                    H78.LIZJ("VideoPublishActivity onCreate error, model == null");
                    HashMap hashMap = new HashMap();
                    hashMap.put("intent", this.mArguments.toString());
                    C78983UzD.LJIILLIIL("VideoPublishActivity onCreate error, model == null", hashMap);
                }
            }
        }
        Bundle bundle3 = this.mArguments;
        if (bundle3 != null) {
            this.LLILZLL.creativeModel = C78996UzQ.LJIILLIIL(bundle3);
        }
        if (!LLZ()) {
            this.LLILZLL.challenges = (List) this.mArguments.getSerializable("challenge");
        } else {
            this.LLILZLL.mIsFromDraft = true;
            VideoLengthChecker.LJ().LIZIZ(requireActivity(), this.LLILZLL);
            long j = this.mArguments.getLong("draft_to_edit_start_time", -1L);
            if (j == -1) {
                currentTimeMillis = -1;
            } else {
                currentTimeMillis = System.currentTimeMillis() - j;
            }
            long j2 = this.mArguments.getLong("draft_modify_time", -1L);
            long j3 = this.mArguments.getLong("draft_file_size", -1L);
            VideoPublishEditModel videoPublishEditModel4 = this.LLILZLL;
            if (videoPublishEditModel4 != null) {
                EditPreviewInfo previewInfo = videoPublishEditModel4.getPreviewInfo();
                if (previewInfo != null) {
                    i = previewInfo.getVideoList().size();
                } else {
                    i = 1;
                }
                C145995oB LIZ = UFE.LIZ(currentTimeMillis, "duration");
                LIZ.LIZIZ(j3, "video_size");
                LIZ.LIZ(i, "video_count");
                LIZ.LJI("music_id", this.LLILZLL.getMusicId());
                LIZ.LIZIZ(j2, "modify_time");
                GXR.LIZ("tool_performance_draft_to_publish", LIZ.LIZ);
            }
            H78.LIZ("[Filter Intensity] VideoPublishActivity FromDraftBox mSelectedFilterIntensity:" + this.LLILZLL.mSelectedFilterIntensity + " mSelectedId:" + this.LLILZLL.mSelectedId + " mUseFilter:" + this.LLILZLL.mUseFilter);
        }
        G5D g5d = this.LLILZLL.creativeModel.transientPostPageModel;
        bundle2.getInt("music_rec_type", -1);
        g5d.getClass();
        VideoPublishEditModel videoPublishEditModel5 = this.LLILZLL;
        NowsShootModel nowsShootModel = videoPublishEditModel5.creativeModel.nowsShootModel;
        if (nowsShootModel != null) {
            nowsShootModel.nowsExtra.isNowPublish = false;
        }
        videoPublishEditModel5.uploadSpeedInfo = C60903NvH.LJIIJJI().getPublishService().LJIIJJI().LIZIZ();
        VideoPublishEditModel videoPublishEditModel6 = this.LLILZLL;
        videoPublishEditModel6.creativeModel.transientPostPageModel.LJJ = C78983UzD.LJLJJI;
        C78555UsJ.LJJJJJ(videoPublishEditModel6);
        if (Keva.getRepo("TOOLS_PUBLISH_REPO_NAME").getBoolean("autogenerated_caption_popup_shown_again", false)) {
            Keva.getRepo("TOOLS_PUBLISH_REPO_NAME").storeBoolean("autogenerated_caption_popup_shown_again_extra", true);
        }
        GVF gvf = C44172HVg.LJIILL;
        AVPublishContentType contentType = AVPublishContentType.Video;
        gvf.getClass();
        o.LJIIIZ(contentType, "contentType");
        ArrayList arrayList = new ArrayList();
        int i2 = C40951G5j.LIZ[contentType.ordinal()];
        if (i2 == 1 || i2 == 2) {
            if (C211898Th.LIZ()) {
                C51556KLg.LIZ.getClass();
                C15070iV<Class<?>, IAVPublishExtension<?>> LJJIFFI = C51556KLg.LIZ().LJJIFFI(AVPublishPageScene.MAIN);
                if (LJJIFFI != null) {
                    arrayList.add(LJJIFFI);
                }
            }
            if (C211898Th.LIZ() || ((LJI = AnchorListManager.LJI()) != null && (!LJI.isEmpty()))) {
                arrayList.add(new C15070iV(C42898GsY.class, new C42898GsY()));
            }
            this.LLJILJILJ = arrayList;
            if (arrayList.isEmpty()) {
                C36922EeM.LIZLLL(2, "anchor_reverse", "PublishExtension is empty");
            }
            VideoPublishEditModel videoPublishEditModel7 = this.LLILZLL;
            long j4 = 0;
            if (videoPublishEditModel7 != null && !videoPublishEditModel7.isPreviewInfoValid()) {
                Activity activity = this.mActivity;
                if (activity != null) {
                    if (C41030G8k.LIZ()) {
                        videoPublishContainerScene = this;
                    } else {
                        videoPublishContainerScene = null;
                    }
                    GI3.LJII(new G8O(activity, videoPublishContainerScene));
                }
                H78.LIZJ("VideoPublishPage finish because of null EditPreviewInfo");
            } else {
                this.LLILZLL.creativeModel.transientPostPageModel.LJJIL = bundle2.getInt("extra_stick_point_type", 0);
                this.LLILZLL.creativeModel.transientPostPageModel.LJJIZ = bundle2.getBoolean("enter_record_from_other_platform", false);
                this.LLILZLL.creativeModel.transientPostPageModel.LJIIL = bundle2.getBoolean("extra_enter_from_live", false);
                this.LLILZLL.creativeModel.transientPostPageModel.LJJJ = bundle2.getBoolean("edit_publish_session_end_together", false);
                this.LLILZLL.creativeModel.transientPostPageModel.LJIJ = bundle2.getBoolean("is_upload", false);
                this.LLILZLL.creativeModel.transientPostPageModel.LJIJJ = bundle2.getString("upload_item_type");
                H78.LJI("VideoPublishContainerScene filter_id_list:" + this.LLILZLL.mCurFilterIds + " prop_list:" + this.LLILZLL.mStickerID + " effect_list:" + this.LLILZLL.getEditEffectListStr() + " info_sticker_list:" + this.LLILZLL.getInfoStickerList());
                C60903NvH.LJIIJJI().LJIJ();
                this.LLILZLL.creativeModel.transientPostPageModel.LJIIJJI = C78596Usy.LJJJJ(LLII());
                G5D g5d2 = this.LLILZLL.creativeModel.transientPostPageModel;
                if (C44674Hg6.LIZ() && !H7R.LJJJJL(this.LLILZLL)) {
                    z = true;
                } else {
                    z = false;
                }
                g5d2.LJJIJ = z;
                this.LLILZLL.creativeModel.transientPostPageModel.LJJIIZI = CommerceToolsTcmServiceImpl.LJIJJ().LJIILL();
                if (H7R.LJJJJL(this.LLILZLL)) {
                    VideoPublishEditModel videoPublishEditModel8 = this.LLILZLL;
                    G5D g5d3 = videoPublishEditModel8.creativeModel.transientPostPageModel;
                    g5d3.LJJIIZI = false;
                    g5d3.LJJIIZ = C79004UzY.LJJIJ(videoPublishEditModel8);
                }
                try {
                    LLLLLJIL(view, bundle);
                    G5D g5d4 = this.LLILZLL.creativeModel.transientPostPageModel;
                    g5d4.LJI = false;
                    g5d4.LIZLLL = System.currentTimeMillis();
                    if (((Boolean) C42545Gmr.LIZ.getValue()).booleanValue()) {
                        View view2 = this.LLJJJIL;
                        if (view2 != null) {
                            IDRunnableS6S0101000 iDRunnableS6S0101000 = new IDRunnableS6S0101000(8, this, 34);
                            long longValue = ((Number) C42547Gmt.LIZ.getValue()).longValue();
                            if (longValue >= 0) {
                                j4 = longValue;
                            }
                            view2.postDelayed(iDRunnableS6S0101000, j4);
                        }
                    } else {
                        AObjectS52S0101000_7 aObjectS52S0101000_7 = new AObjectS52S0101000_7(1, this, 7);
                        VideoPublishEditModel videoPublishEditModel9 = this.LLILZLL;
                        if (videoPublishEditModel9 != null) {
                            aObjectS52S0101000_7.invoke();
                        } else {
                            C43543H7b.LIZJ(LLII(), videoPublishEditModel9, aObjectS52S0101000_7);
                        }
                    }
                    C162696a1.LIZ(this.mActivity);
                    this.LLIIJI.LJFF(LLLFF(), H7R.LJJJJL(this.LLILZLL), GHX.LIZ(this.LLILZLL), this.LLILZLL.creationMode);
                    ((ExtensionDataRepo) C165716et.LIZ(this).get(ExtensionDataRepo.class)).getZipUrl().setValue(this.LLILZLL.mUploadPath);
                    k();
                    ArrayList arrayList2 = new ArrayList();
                    if (C6EZ.LIZIZ(this.LLILZLL) && C78983UzD.LJJJIL(this.LLILZLL)) {
                        arrayList2.add(new C157056Ej(this.LLILZLL, this, n()));
                        G8J g8j = new G8J(this.LLILZLL, this, n(), new AObjectS54S0101000_9(2, this, 1));
                        m(g8j.LJIIJJI);
                        arrayList2.add(g8j);
                        c157036Eh = new C157006Ee(this.LLILZLL, arrayList2);
                    } else {
                        o.LJIIIZ(this.LLILZLL, "model");
                        if (C6EZ.LIZ()) {
                            arrayList2.add(new G8J(this.LLILZLL, this, n(), new AObjectS52S0101000_7(3, this, 18)));
                            c157036Eh = new C157046Ei(this.LLILZLL, arrayList2);
                        } else if (AnchorListServiceImpl.LIZLLL().LIZJ(EnumC42934Gt8.ANCHOR_SHOP_LINK.getTYPE())) {
                            G8J g8j2 = new G8J(this.LLILZLL, this, n(), new AObjectS136S0100000_7(this, 8));
                            m(g8j2.LJIIJJI);
                            arrayList2.add(g8j2);
                            c157036Eh = new C156996Ed(this.LLILZLL, arrayList2);
                        } else if (C5HR.LIZ()) {
                            arrayList2.add(new C157066Ek(this.LLILZLL, this, n()));
                            arrayList2.add(new C157056Ej(this.LLILZLL, this, n()));
                            c157036Eh = new C157026Eg(this.LLILZLL, arrayList2);
                        } else {
                            arrayList2.add(new C157056Ej(this.LLILZLL, this, n()));
                            c157036Eh = new C157036Eh(this.LLILZLL, arrayList2);
                        }
                    }
                    this.LLJLILLLLZIIL = c157036Eh;
                    AudioCopyrightDetectModel audioCopyrightDetectModel = this.LLILZLL.creativeModel.audioCopyrightDetectModel;
                    ArrayList<Integer> arrayList3 = new ArrayList<>();
                    Iterator it = c157036Eh.LIZJ().iterator();
                    while (it.hasNext()) {
                        arrayList3.add(Integer.valueOf(((AbstractC157016Ef) it.next()).LIZ()));
                    }
                    audioCopyrightDetectModel.setDetectScenes(arrayList3);
                    if (this.LLJLILLLLZIIL.LIZLLL()) {
                        this.LJZ = new AudioCopyrightProcessObserver(this.LLILZLL, this, this.LLJLILLLLZIIL);
                    }
                    m(new StitchCopyrightProcessObserver(this, this.LJLZ, new AObjectS50S0101000_5(1, this, 3), new AObjectS136S0100000_7(this, 4)).LJLJJLL);
                    if (!TextUtils.isEmpty(this.LLILZLL.playlist_name) && !TextUtils.isEmpty(this.LLILZLL.playlist_id)) {
                        this.LJZI._visibility.setValue(0);
                        VideoPublishEditModel videoPublishEditModel10 = this.LLILZLL;
                        if (videoPublishEditModel10.isPrivate == 0 && !C78983UzD.LJJJJJL(videoPublishEditModel10)) {
                            VideoPublishEditModel videoPublishEditModel11 = this.LLILZLL;
                            videoPublishEditModel11.creativeModel.transientPostPageModel.LJJJJ = true;
                            this.LJZI._nameText.setValue(videoPublishEditModel11.playlist_name);
                            VideoPublishEditModel videoPublishEditModel12 = this.LLILZLL;
                            G5D g5d5 = videoPublishEditModel12.creativeModel.transientPostPageModel;
                            g5d5.LJJJJI = videoPublishEditModel12.playlist_name;
                            g5d5.LJJJIL = videoPublishEditModel12.playlist_id;
                        } else {
                            this.LJZI._alpha.setValue(Float.valueOf(0.3f));
                            this.LLILZLL.creativeModel.transientPostPageModel.LJJJJ = false;
                        }
                    }
                    this.LLJJIII = new H8E();
                    H78.LJI("Publish Page, music: " + this.LLILZLL.getMusicId());
                    if (this.mActivity != null && ((C40990G6w) this.LLILLJJLI.LIZ).LIZ.getLemon8ButtonView() != null && ((C40990G6w) this.LLILLJJLI.LIZ).LIZ.getLemon8AuthLoadingHUD() != null) {
                        ShareExtServiceImpl.LJJLIIJ().LJJJJZI(this.mActivity);
                        ShareExtServiceImpl.LJJLIIJ().LJIJJLI(((C40990G6w) this.LLILLJJLI.LIZ).LIZ.getLemon8ButtonView(), ((C40990G6w) this.LLILLJJLI.LIZ).LIZ.getLemon8AuthLoadingHUD(), LLJLL());
                    }
                    A();
                } catch (Exception e) {
                    C1I0.LIZIZ().LJ("PostPageInit", "init failed, stacktrace: " + Log.getStackTraceString(e));
                    throw e;
                }
            }
            final boolean LLZ = LLZ();
            H78.LIZ("PublishDurationMonitor VideoPublishContainerScene onActivityCreated");
            if (bundle == null && (videoPublishEditModel2 = this.LLILZLL) != null) {
                int videoWidth = videoPublishEditModel2.videoWidth();
                int videoHeight = this.LLILZLL.videoHeight();
                float LJFF = C44739Hh9.LJFF(this.LLILZLL);
                boolean LIZ2 = GAD.LIZ();
                C198517qh c198517qh = new C198517qh();
                StringBuilder LIZ3 = X1D.LIZ();
                LIZ3.append(videoWidth);
                LIZ3.append("*");
                LIZ3.append(videoHeight);
                c198517qh.LIZ.put("resolution", X1D.LIZIZ(LIZ3));
                c198517qh.LIZ.put("bitrate", Long.valueOf(new BigDecimal(LJFF).longValue()));
                c198517qh.LIZ.put("frame_rate", Long.valueOf(new BigDecimal(0.0f).longValue()));
                c198517qh.LIZ.put("is_hardcode", Boolean.valueOf(LIZ2));
                C43882HKc.LIZIZ("aweme_video_record_info", c198517qh.LJ());
            }
            ?? r10 = new InterfaceC88474Ynu() { // from class: X.GPt
                @Override // X.InterfaceC88474Ynu
                public final Object invoke(Object obj, Object obj2, Object obj3, Object obj4) {
                    C41483GPv c41483GPv;
                    String str;
                    ExpandedTitleModule expandedTitleModule;
                    VideoPublishContainerScene videoPublishContainerScene2 = VideoPublishContainerScene.this;
                    Boolean bool = (Boolean) obj;
                    Boolean bool2 = (Boolean) obj3;
                    Boolean bool3 = (Boolean) obj4;
                    GS5 gs5 = videoPublishContainerScene2.LLJJIJIL;
                    if (gs5 != null && (expandedTitleModule = gs5.LJIIIZ) != null && expandedTitleModule.LJ()) {
                        expandedTitleModule.LIZLLL();
                        return null;
                    }
                    if (videoPublishContainerScene2.LLILZLL.isShoutout()) {
                        C26227ARb c26227ARb = new C26227ARb(videoPublishContainerScene2.requireActivity());
                        c26227ARb.LIZ(R.string.g5_);
                        UC0.LIZJ(c26227ARb, new AObjectS42S0101000_5(3, videoPublishContainerScene2, 51));
                        c26227ARb.LJI().LIZLLL();
                        return null;
                    }
                    VideoPublishEditModel model = videoPublishContainerScene2.LLILZLL;
                    o.LJIIIZ(model, "model");
                    if (C43465H4b.LIZ() != 0 || model.getOriginal() != 1 || model.mShootMode != 14) {
                        if (!bool.booleanValue()) {
                            MobClick obtain = MobClick.obtain();
                            obtain.setEventName("back_to_edit");
                            obtain.setLabelName("edit_page");
                            FMX.onEvent(obtain);
                            boolean booleanValue = bool2.booleanValue();
                            boolean booleanValue2 = bool3.booleanValue();
                            if (videoPublishContainerScene2.LLILZLL == null) {
                                StringBuilder LIZ4 = X1D.LIZ();
                                LIZ4.append(VideoPublishContainerScene.LLLFZ);
                                LIZ4.append(" model == null saveInfoForEdit failed");
                                H78.LJII(X1D.LIZIZ(LIZ4));
                            } else {
                                H8F.LJJIJL(C62819Ol5.LJIJ(videoPublishContainerScene2.requireActivity()), videoPublishContainerScene2.LLILZLL, null, null, "", Boolean.valueOf(videoPublishContainerScene2.mArguments.getBoolean("is_upload", false)), videoPublishContainerScene2.mArguments.getString("upload_item_type"));
                                videoPublishContainerScene2.LLZLL("enter_video_edit_page");
                                if (videoPublishContainerScene2.LLLF()) {
                                    videoPublishContainerScene2.p(false);
                                }
                                videoPublishContainerScene2.LLZZZIL();
                                VideoPublishEditModel videoPublishEditModel13 = videoPublishContainerScene2.LLILZLL;
                                String str2 = videoPublishEditModel13.title;
                                String chain = videoPublishEditModel13.getChain();
                                boolean isDisableDeleteChain = videoPublishEditModel13.isDisableDeleteChain();
                                List<AVTextExtraStruct> structList = videoPublishEditModel13.getStructList();
                                int i3 = videoPublishEditModel13.isPrivate;
                                List<AVChallenge> list = videoPublishEditModel13.challenges;
                                if (videoPublishEditModel13.isMvThemeVideoType()) {
                                    MvCreateVideoData mvCreateVideoData = videoPublishEditModel13.mvCreateVideoData;
                                    c41483GPv = new C41483GPv(mvCreateVideoData.videoCoverStartTime, mvCreateVideoData.videoCoverImgPath, videoPublishEditModel13.getCoverPublishModel());
                                } else {
                                    c41483GPv = new C41483GPv((int) (videoPublishEditModel13.mVideoCoverStartTm * 1000), null, videoPublishEditModel13.getCoverPublishModel());
                                }
                                C41482GPu c41482GPu = new C41482GPu(str2, chain, isDisableDeleteChain, structList, i3, list, c41483GPv, videoPublishEditModel13.getCompileProbeResult(), videoPublishEditModel13.geofencingSetting, new C43659HBn());
                                c41482GPu.LJLL = videoPublishEditModel13.commentSetting;
                                c41482GPu.LJLLJ = videoPublishEditModel13.commerceData;
                                c41482GPu.LJZ = videoPublishEditModel13.allowAutoCaptionSetting;
                                c41482GPu.LJZI = videoPublishEditModel13.autoCaptionLang;
                                c41482GPu.LJLLL = videoPublishEditModel13.allowDownloadSetting;
                                c41482GPu.LJLLLLLL = videoPublishEditModel13.excludeUserList;
                                c41482GPu.LJLZ = videoPublishEditModel13.allowRecommend;
                                c41482GPu.LL = videoPublishEditModel13.isDraftMusicIllegal();
                                c41482GPu.LLD = videoPublishEditModel13.playlist_name;
                                c41482GPu.LLF = videoPublishEditModel13.playlist_id;
                                c41482GPu.LLIFFJFJJ = videoPublishEditModel13.creativeModel.commerceModel.getMusicUsageConfirmation();
                                c41482GPu.LLII = videoPublishEditModel13.tagUserList;
                                c41482GPu.LLIIII = videoPublishEditModel13.getImageAlbumData();
                                c41482GPu.LJLJJL = videoPublishEditModel13.heading;
                                c41482GPu.LLFF = booleanValue;
                                c41482GPu.LLFFF = booleanValue2;
                                if (videoPublishEditModel13.creativeModel.audioCopyrightDetectModel.getOperation() >= 0) {
                                    c41482GPu.LLFZ = videoPublishEditModel13.creativeModel.audioCopyrightDetectModel.getOperation();
                                }
                                if (!videoPublishEditModel13.creativeModel.audioCopyrightDetectModel.getChangeMusicFrom().isEmpty()) {
                                    c41482GPu.LLI = videoPublishEditModel13.creativeModel.audioCopyrightDetectModel.getChangeMusicFrom();
                                }
                                c41482GPu.LJZL = videoPublishEditModel13.creativeModel.commerceModel.getTcmModel();
                                c41482GPu.LLIIIILZ = videoPublishEditModel13.creativeFlowData.getPublishConfig().getMatureTheme();
                                c41482GPu.LLIIIL = videoPublishEditModel13.getCreationId();
                                c41482GPu.LLIIIZ = videoPublishEditModel13.creativeModel.commonMobModel.hasClickRecommendHashtag;
                                c41482GPu.LLFII = videoPublishContainerScene2.LLLLLILLIL();
                                c41482GPu.LLIIJLIL = videoPublishEditModel13.creativeModel.audioCopyrightDetectModel.getDetectResults();
                                CreativeModel creativeModel = videoPublishEditModel13.creativeModel;
                                PrivacySettingModel privacySettingModel = creativeModel.privacySettingModel;
                                c41482GPu.LLIIJI = privacySettingModel.isSubscribeOnly;
                                c41482GPu.LLIILII = creativeModel.commonMobModel.editDescMobModel;
                                c41482GPu.LLIIL = creativeModel.pugcTemplateData.canPostTemplate;
                                AIGCInfo aIGCInfo = privacySettingModel.aigcInfo;
                                c41482GPu.LLIILZL = aIGCInfo.AIGCLabelType;
                                c41482GPu.LLIIZ = aIGCInfo.manualChangeSwitch;
                                C41485GPx c41485GPx = videoPublishContainerScene2.LLIIIL;
                                c41485GPx.getClass();
                                long currentTimeMillis2 = System.currentTimeMillis();
                                CharSequence LIZ5 = c41485GPx.LIZJ.LIZ.LJ().LIZ();
                                if (LIZ5 != null) {
                                    str = LIZ5.toString();
                                } else {
                                    str = null;
                                }
                                c41482GPu.LJLIL = str;
                                c41482GPu.LJLILLLLZI = GQ6.LIZ(c41485GPx.LIZJ.LIZ.LIZ(), c41485GPx.LJ);
                                if (C40982G6o.LIZ()) {
                                    try {
                                        C0UE LIZ6 = c41485GPx.LIZJ.LIZ();
                                        c41482GPu.LJLJI = LIZ6.LIZLLL();
                                        c41482GPu.LJLJJI = LIZ6.LIZJ();
                                    } catch (GB5 unused) {
                                        C41485GPx.LJ("snapshot caption state for edit failed");
                                    }
                                }
                                long currentTimeMillis3 = System.currentTimeMillis() - currentTimeMillis2;
                                GQ4 gq4 = c41485GPx.LJII;
                                VideoPublishEditModel videoPublishEditModel14 = c41485GPx.LIZ;
                                gq4.getClass();
                                GQ4.LIZIZ(videoPublishEditModel14, "edit", currentTimeMillis3);
                                C2U8.LIZ(c41482GPu);
                            }
                        } else {
                            videoPublishContainerScene2.LLLJL();
                        }
                        VideoPublishEditModel videoPublishEditModel15 = videoPublishContainerScene2.LLILZLL;
                        if (videoPublishEditModel15 != null) {
                            CommerceToolsTcmModel tcmModel = videoPublishEditModel15.creativeModel.commerceModel.getTcmModel();
                            if (TextUtils.equals(tcmModel.getBrandedContentSwitch(), CardStruct.IStatusCode.DEFAULT)) {
                                tcmModel.setTcmPreventSelfSee(1);
                            }
                        }
                        videoPublishContainerScene2.a("back event");
                        return null;
                    }
                    C5S1 c5s1 = new C5S1(videoPublishContainerScene2.requireActivity());
                    c5s1.LIZJ(R.string.b91);
                    c5s1.LJ();
                    return null;
                }
            };
            JediViewModel LIZ4 = C163726bg.LIZIZ(SceneExtensionsKt.LIZLLL(this), this).LIZ(VideoPublishViewModel.class);
            o.LJIIIIZZ(LIZ4, "of(scene).get(\n        VewModel::class.java\n    )");
            BaseJediViewModel.Jv0((BaseJediViewModel) LIZ4, this, new TBT() { // from class: X.G8s
                @Override // X.TBT, X.TBZ, X.TBW
                public final Object get(Object obj) {
                    return ((VideoPublishState) obj).getBackEvent();
                }
            }, new AqS173S0100000_7((C41481GPt) r10, 163));
            AObjectS88S0101000_7 aObjectS88S0101000_7 = new AObjectS88S0101000_7(2, this, 0);
            JediViewModel LIZ5 = C163726bg.LIZIZ(SceneExtensionsKt.LIZLLL(this), this).LIZ(VideoPublishViewModel.class);
            o.LJIIIIZZ(LIZ5, "of(scene).get(\n        VewModel::class.java\n    )");
            BaseJediViewModel.Jv0((BaseJediViewModel) LIZ5, this, new TBT() { // from class: X.G8t
                @Override // X.TBT, X.TBZ, X.TBW
                public final Object get(Object obj) {
                    return ((VideoPublishState) obj).getCancelEvent();
                }
            }, new AqS173S0100000_7(aObjectS88S0101000_7, 164));
            AutoSelectedAnchorInfos autoSelectedAnchorInfos = this.LLILZLL.creativeFlowData.getAutoSelectedAnchorInfos();
            if (autoSelectedAnchorInfos.getAnchorSourceType() != null || autoSelectedAnchorInfos.getOpenPlatformShareId() != null) {
                EDK edk = AnchorAutoSelectionService.LIZ;
                String openPlatformClientKey = autoSelectedAnchorInfos.getOpenPlatformClientKey();
                String openPlatFormExtra = autoSelectedAnchorInfos.getOpenPlatFormExtra();
                String anchorSourceType = autoSelectedAnchorInfos.getAnchorSourceType();
                Integer openPlatformAddFrom = autoSelectedAnchorInfos.getOpenPlatformAddFrom();
                String openPlatformShareId = autoSelectedAnchorInfos.getOpenPlatformShareId();
                edk.getClass();
                EDK.LIZIZ.getAnchorAutoSelectionResponse(openPlatformClientKey, openPlatFormExtra, anchorSourceType, openPlatformAddFrom, openPlatformShareId).LJ(new AgS124S0100000_7(autoSelectedAnchorInfos, 11), C10K.LJIIIIZZ, null);
            }
            final boolean z3 = this.mArguments.getBoolean("is_upload", false);
            final String string4 = this.mArguments.getString("upload_item_type");
            final String string5 = this.mArguments.getString("extra_edit_effect_uid");
            if ((C00F.LIZ(31744, 0, "creative_tools_publish_first_frame_opt", true) & 2) != 0) {
                C10K.LIZJ(new Callable() { // from class: X.G5W
                    @Override // java.util.concurrent.Callable
                    public final Object call() {
                        VideoPublishContainerScene videoPublishContainerScene2 = VideoPublishContainerScene.this;
                        H8G.LIZJ(videoPublishContainerScene2.LLILZLL, LLZ, z3, string4, string5);
                        return null;
                    }
                });
            } else {
                H8G.LIZJ(this.LLILZLL, LLZ, z3, string4, string5);
            }
            VideoPublishEditModel model = this.LLILZLL;
            o.LJIIIZ(model, "model");
            if (!C48331Ixz.LIZ()) {
                C145995oB c145995oB = new C145995oB();
                c145995oB.LJI(WM7.SCENE_SERVICE, "create_publish");
                Q8U.LIZJ(c145995oB, "shoot_way", model.mShootWay, model, "creation_id");
                c145995oB.LJI("enter_from", "publish");
                HTP.LJLJL.getClass();
                c145995oB.LIZIZ(0L, "dalvikPss");
                c145995oB.LIZIZ(0L, "nativePss");
                c145995oB.LIZIZ(0L, "otherPss");
                c145995oB.LIZIZ(0L, "totalPss");
                FMX.LJIIL("av_memory_log", c145995oB.LIZ);
            }
            if (C41030G8k.LIZ()) {
                LLLIILIL();
            }
            if (C150705vm.LIZ() && (videoPublishEditModel = this.LLILZLL) != null && H7R.LJJJJL(videoPublishEditModel)) {
                GV9 LJIIJ = C60903NvH.LJIIJJI().LJIIJ();
                VideoPublishEditModel videoPublishEditModel13 = this.LLILZLL;
                LJIIJ.LJI(videoPublishEditModel13, videoPublishEditModel13.getCreationId(), 4, null);
            }
            if (this.LLILZLL != null) {
                LLLLJI().LJJJJJL = this.mArguments.getInt("draft_to_edit_from", 0);
                this.LLILZLL.mDraftToEditFrom = LLLLJI().LJJJJJL;
                VideoPublishEditModel videoPublishEditModel14 = this.LLILZLL;
                videoPublishEditModel14.mCropVideo = videoPublishEditModel14.isChangeMultiEditData();
            }
            C41025G8f.LIZ("normal").LJFF("at_post_page", false);
            if (this.LLJJJIL != null && C157956Hv.LIZ()) {
                this.LLJJJIL.post(new ARunnableS1S0001000_6(3, 20));
            }
            G8G.LIZ.step("av_video_publish", "onCreate_end");
            return;
        }
        StringBuilder LIZ6 = X1D.LIZ();
        LIZ6.append("unknown type: ");
        LIZ6.append(contentType.getContentType());
        throw new IllegalArgumentException(X1D.LIZIZ(LIZ6));
    }

    @Override // X.WMH, X.WM7
    public final void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        if (this.LLIIIILZ != null && bundle != null) {
            SettingsManager.LIZLLL().getClass();
            bundle.putInt(OHQ.LIZ, SettingsManager.LIZ("private_available", true) ? 1 : 0);
        }
        bundle.putBoolean("contentModified", this.LLILZLL.creativeModel.transientPostPageModel.LJIIIZ);
        bundle.putString("publish_id", this.LLILZLL.creativeModel.transientPostPageModel.LJIILIIL);
        bundle.putString("publish_action_trace_id", this.LLILZLL.creativeModel.transientPostPageModel.LJIILJJIL);
    }

    @Override // X.WM7
    public final void onViewStateRestored(Bundle bundle) {
        super.onViewStateRestored(bundle);
        if (e1.LIZ(31744, "studio_enable_on_restore_mod", true, true)) {
            C145995oB c145995oB = new C145995oB();
            c145995oB.LIZLLL("activity_tag", C16880lQ.LJLLJ(getClass()));
            FMX.LJIIL("studio_activity_on_restore", c145995oB.LIZ);
        }
    }

    public final void p(boolean z) {
        G6D g6d;
        int i;
        ArrayList arrayList;
        if (!z) {
            s();
        }
        if (LLLF()) {
            g6d = this.LLIIII.getValue();
        } else {
            g6d = null;
        }
        if (this.LLILZLL != null) {
            int i2 = 0;
            if (g6d != null) {
                if (g6d.getPermission() == 4) {
                    this.LLILZLL.creativeModel.privacySettingModel.isSubscribeOnly = true;
                } else {
                    VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
                    videoPublishEditModel.creativeModel.privacySettingModel.isSubscribeOnly = false;
                    videoPublishEditModel.isPrivate = g6d.getPermission();
                }
                this.LLILZLL.excludeUserList = g6d.getExcludeUserList();
                this.LLILZLL.allowRecommend = g6d.getAllowRecommend();
            }
            this.LLILZLL.geofencingSetting = this.LJZL.LIZIZ();
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            videoPublishEditModel2.challenges = null;
            if (this.LLILZ != null) {
                CommentSettingItemStatus commentSettingItem = this.LJLLLL;
                o.LJIIIZ(commentSettingItem, "commentSettingItem");
                if (o.LJ(commentSettingItem._checked.getValue(), Boolean.TRUE)) {
                    i = 0;
                } else {
                    i = 3;
                }
                videoPublishEditModel2.commentSetting = i;
                VideoPublishEditModel videoPublishEditModel3 = this.LLILZLL;
                if (!this.LLILZ.LJI) {
                    i2 = 3;
                }
                videoPublishEditModel3.allowDownloadSetting = i2;
                if (((C40990G6w) this.LLILLJJLI.LIZ).LIZ.getLemon8ButtonStatus().booleanValue()) {
                    arrayList = C47261Igj.LJII("lemon8");
                } else {
                    arrayList = new ArrayList();
                }
                videoPublishEditModel3.openPlatformAutoSync = arrayList;
                if (CrossLanguageUserExperiment.LIZJ().LIZIZ() && this.LLF != null) {
                    VideoPublishEditModel videoPublishEditModel4 = this.LLILZLL;
                    C40984G6q c40984G6q = this.LLILZ;
                    CommonSettingItemStatus commonSettingItemStatus = this.LL;
                    c40984G6q.getClass();
                    videoPublishEditModel4.allowAutoCaptionSetting = C40984G6q.LJI(commonSettingItemStatus);
                    VideoPublishEditModel videoPublishEditModel5 = this.LLILZLL;
                    C40984G6q c40984G6q2 = this.LLILZ;
                    CommonSettingItemStatus commonSettingItemStatus2 = this.LL;
                    boolean LIZJ = this.LLF.LIZJ(this.LLIIIILZ.LIZ());
                    c40984G6q2.getClass();
                    videoPublishEditModel5.allowAutoCaptionLoggingData = C40984G6q.LJFF(commonSettingItemStatus2, LIZJ);
                    this.LLILZLL.autoCaptionLang = C78685UuP.LJJIIJZLJL();
                }
            }
        }
    }

    public final void u(View view) {
        int i;
        TuxTextView tuxTextView;
        TuxTextView tuxTextView2;
        this.LLILL = (TuxTextView) view.findViewById(R.id.a9d);
        this.LLILLIZIL = (TuxTextView) view.findViewById(R.id.a9c);
        this.LLILII = (TuxTextView) view.findViewById(R.id.wd);
        if (G6X.LIZIZ()) {
            this.LLILL.setTuxFont(62);
            this.LLILLIZIL.setTuxFont(62);
            this.LLILII.setTuxFont(62);
        }
        if (C40981G6n.LIZ()) {
            if (this.LLJL) {
                i = R.drawable.a5z;
            } else {
                i = R.drawable.a5y;
            }
        } else if (this.LLJL) {
            i = R.drawable.a5k;
        } else {
            i = R.drawable.a5j;
        }
        this.LLILL.setBackgroundResource(i);
        this.LLILLIZIL.setBackgroundResource(i);
        this.LLILII.setBackgroundResource(i);
        if (SearchServiceImpl.LLLZI().LJLIL().disableHashtagSearch && (tuxTextView2 = this.LLILL) != null) {
            tuxTextView2.setVisibility(8);
        }
        if (SearchServiceImpl.LLLZI().LJLIL().disableAtUserSearch && (tuxTextView = this.LLILLIZIL) != null) {
            tuxTextView.setVisibility(8);
        }
        if (this.LLILZLL.creativeModel.transientPostPageModel.LJJIIZ) {
            this.LLJJIJIL.LJII();
            return;
        }
        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) this.LLILLIZIL.getLayoutParams();
        marginLayoutParams.setMarginEnd((int) LLII().getResources().getDimension(R.dimen.a65));
        this.LLILLIZIL.setLayoutParams(marginLayoutParams);
        this.LLILII.setVisibility(0);
        this.LLILII.setCompoundDrawablesRelative(C41554GSo.LIZ(this.mActivity), null, null, null);
        int LJIIJJI = (KL2.LJIIJJI(LLII()) - ((int) KL2.LIZJ(LLII(), 46.0f))) / 3;
        this.LLILII.setMaxWidth(LJIIJJI);
        this.LLILL.setMaxWidth(LJIIJJI);
        this.LLILLIZIL.setMaxWidth(LJIIJJI);
    }

    public final void w(String str) {
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            videoPublishEditModel.commerceData = str;
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public final void y(InterfaceC40961G5t interfaceC40961G5t) {
        String str;
        C33381Ss c33381Ss = new C33381Ss();
        c33381Ss.LJLIL = R.drawable.bbl;
        C26224AQy c26224AQy = new C26224AQy();
        String text = getString(R.string.s0a);
        o.LJIIIZ(text, "text");
        c26224AQy.LJ = text;
        c26224AQy.LIZ = c33381Ss.LIZ(LLII());
        String string = getString(R.string.s0_);
        C72062SPy c72062SPy = new C72062SPy();
        c72062SPy.LJ(0);
        c72062SPy.LIZ = false;
        c72062SPy.LIZIZ(42);
        c72062SPy.LIZJ(R.string.s08);
        c72062SPy.LJFF = new AObjectS52S0101000_7(1, this, 12);
        c26224AQy.LIZLLL(new AR6(R.raw.icon_flag, null, getString(R.string.s07)), new AR6(R.raw.icon_shield_tick, null, getString(R.string.s09)), new AR6(R.raw.icon_block, null, C8G2.LIZ(string, c72062SPy.LIZ(LLII()))));
        String string2 = getString(R.string.s06);
        AObjectS123S0200000_7 aObjectS123S0200000_7 = new AObjectS123S0200000_7(interfaceC40961G5t, this, 1);
        c26224AQy.LJII = string2;
        c26224AQy.LJIIIZ = aObjectS123S0200000_7;
        String string3 = getString(R.string.s05);
        AObjectS40S0201000_7 aObjectS40S0201000_7 = new AObjectS40S0201000_7(1, this, interfaceC40961G5t, 0);
        c26224AQy.LJIIIIZZ = string3;
        c26224AQy.LJIIJ = aObjectS40S0201000_7;
        c26224AQy.LJIILIIL = false;
        c26224AQy.LJIILL = true;
        TuxSheet tuxSheet = c26224AQy.LIZ().LIZ;
        tuxSheet.LJLJI = false;
        tuxSheet.LLD = false;
        tuxSheet.show(LLJLL().getSupportFragmentManager(), "intro");
        C145995oB c145995oB = new C145995oB();
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null) {
            str = videoPublishEditModel.getCreationId();
        } else {
            str = "mModel is null";
        }
        c145995oB.LJI("creation_id", str);
        c145995oB.LJI("content_type", LLLLIILLL());
        c145995oB.LJI("content_source", this.LLILZLL.getAvetParameter().getContentSource());
        FMX.LJIIL("show_aigc_pop_up", c145995oB.LIZ);
    }

    public final void z(Boolean bool) {
        if (this.LLJZ == null) {
            return;
        }
        if (bool.booleanValue()) {
            this.LLJZ.setVisibility(0);
        } else {
            this.LLJZ.setVisibility(8);
        }
    }

    public static void LLZLI(long j, String str) {
        C145995oB c145995oB = new C145995oB();
        c145995oB.LJI("type", str);
        c145995oB.LIZIZ(j, "totaltime");
        FMX.LJIIL("tool_performance_operation_cost_time", c145995oB.LIZ);
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:138:0x0477  */
    /* JADX WARN: Removed duplicated region for block: B:145:0x0a3a  */
    /* JADX WARN: Removed duplicated region for block: B:147:0x0a4b  */
    /* JADX WARN: Removed duplicated region for block: B:148:0x0a71  */
    /* JADX WARN: Removed duplicated region for block: B:162:0x0520  */
    /* JADX WARN: Removed duplicated region for block: B:165:0x057d  */
    /* JADX WARN: Removed duplicated region for block: B:168:0x0593  */
    /* JADX WARN: Removed duplicated region for block: B:171:0x05c3  */
    /* JADX WARN: Removed duplicated region for block: B:176:0x0614  */
    /* JADX WARN: Removed duplicated region for block: B:179:0x0656  */
    /* JADX WARN: Removed duplicated region for block: B:189:0x06ba  */
    /* JADX WARN: Removed duplicated region for block: B:192:0x0772  */
    /* JADX WARN: Removed duplicated region for block: B:205:0x0804  */
    /* JADX WARN: Removed duplicated region for block: B:208:0x082c  */
    /* JADX WARN: Removed duplicated region for block: B:211:0x085d  */
    /* JADX WARN: Removed duplicated region for block: B:214:0x0895  */
    /* JADX WARN: Removed duplicated region for block: B:249:0x0906 A[LOOP:2: B:247:0x0900->B:249:0x0906, LOOP_END] */
    /* JADX WARN: Removed duplicated region for block: B:253:0x0b2d  */
    /* JADX WARN: Removed duplicated region for block: B:266:0x0c02  */
    /* JADX WARN: Removed duplicated region for block: B:269:0x0c3f  */
    /* JADX WARN: Removed duplicated region for block: B:272:0x0c5a  */
    /* JADX WARN: Removed duplicated region for block: B:275:0x0c6f  */
    /* JADX WARN: Removed duplicated region for block: B:279:0x0c82  */
    /* JADX WARN: Removed duplicated region for block: B:291:0x0ccb  */
    /* JADX WARN: Removed duplicated region for block: B:292:0x092e  */
    /* JADX WARN: Removed duplicated region for block: B:293:0x0931  */
    /* JADX WARN: Removed duplicated region for block: B:294:0x0935  */
    /* JADX WARN: Removed duplicated region for block: B:297:0x094a  */
    /* JADX WARN: Removed duplicated region for block: B:298:0x0955  */
    /* JADX WARN: Removed duplicated region for block: B:299:0x095f  */
    /* JADX WARN: Removed duplicated region for block: B:300:0x096c  */
    /* JADX WARN: Removed duplicated region for block: B:301:0x096f  */
    /* JADX WARN: Removed duplicated region for block: B:304:0x0989  */
    /* JADX WARN: Removed duplicated region for block: B:312:0x09c0  */
    /* JADX WARN: Removed duplicated region for block: B:317:0x09d2  */
    /* JADX WARN: Removed duplicated region for block: B:325:0x0a0e  */
    /* JADX WARN: Removed duplicated region for block: B:327:0x0a1c  */
    /* JADX WARN: Removed duplicated region for block: B:90:0x038f  */
    /* JADX WARN: Removed duplicated region for block: B:93:0x03aa  */
    /* JADX WARN: Type inference failed for: r2v113, types: [X.G5d] */
    /* JADX WARN: Type inference failed for: r2v134, types: [X.G5d] */
    /* JADX WARN: Type inference failed for: r2v145, types: [X.G5d] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void LLLLLJIL(android.view.View r21, android.os.Bundle r22) {
        /*
            Method dump skipped, instructions count: 3299
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.ss.android.ugc.aweme.shortvideo.ui.VideoPublishContainerScene.LLLLLJIL(android.view.View, android.os.Bundle):void");
    }

    public final void LLZZZZ(int i, View imageView) {
        Bitmap bitmap;
        OSZ osz;
        boolean z;
        String str;
        UrlModel urlModel;
        VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
        if (videoPublishEditModel != null && C78886Uxe.LJII(videoPublishEditModel)) {
            C124454uX.LJI.getClass();
            C124454uX.LIZLLL();
        }
        if (this.LLJ == null) {
            imageView.buildDrawingCache(true);
            try {
                C78862UxG LJJIIJ = C78857UxB.LJJIIJ(1476435971, "bpea-get_video_cover");
                C37203Eit.LIZJ.getClass();
                bitmap = C39214FaE.LIZIZ(imageView, LJJIIJ).copy(Bitmap.Config.RGB_565, false);
            } catch (Q0C unused) {
                bitmap = null;
            }
            imageView.destroyDrawingCache();
        } else {
            bitmap = null;
        }
        VideoCoverBitmapHolder videoCoverBitmapHolder = this.LLIZ;
        Bitmap bitmap2 = this.LLJ;
        if (bitmap2 != null) {
            bitmap = bitmap2;
        }
        videoCoverBitmapHolder.getClass();
        VideoCoverBitmapHolder.LJLIL = bitmap;
        this.LLILIL.setShouldDisableTrim(true);
        s();
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> publishExtensions = this.LLJILJILJ;
        o.LJIIIZ(publishExtensions, "publishExtensions");
        Iterator it = ((ArrayList) publishExtensions).iterator();
        while (true) {
            if (it.hasNext()) {
                C15070iV c15070iV = (C15070iV) it.next();
                IAVPublishExtension iAVPublishExtension = (IAVPublishExtension) c15070iV.LIZIZ;
                if (iAVPublishExtension != null) {
                    str = iAVPublishExtension.getAnchorText();
                } else {
                    str = null;
                }
                IAVPublishExtension iAVPublishExtension2 = (IAVPublishExtension) c15070iV.LIZIZ;
                if (iAVPublishExtension2 != null) {
                    urlModel = iAVPublishExtension2.getAnchorIconUrl();
                } else {
                    urlModel = null;
                }
                if (str != null && str.length() != 0 && urlModel != null) {
                    osz = new OSZ(str, urlModel);
                    break;
                }
            } else {
                osz = new OSZ(null, null);
                break;
            }
        }
        String str2 = (String) osz.getFirst();
        UrlModel urlModel2 = (UrlModel) osz.getSecond();
        C41859Gbn LIZIZ = C1I0.LIZIZ();
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("anchorText: ");
        LIZ.append(str2);
        LIZ.append(", anchorUrl: ");
        LIZ.append(urlModel2);
        LIZ.append(", isDisplayAnchor: ");
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> publishExtensions2 = this.LLJILJILJ;
        o.LJIIIZ(publishExtensions2, "publishExtensions");
        Iterator it2 = ((ArrayList) publishExtensions2).iterator();
        while (true) {
            if (it2.hasNext()) {
                IAVPublishExtension iAVPublishExtension3 = (IAVPublishExtension) ((C15070iV) it2.next()).LIZIZ;
                if (iAVPublishExtension3 != null && !iAVPublishExtension3.isDisplayAnchor()) {
                    z = false;
                    break;
                }
            } else {
                z = true;
                break;
            }
        }
        LIZ.append(z);
        LIZIZ.LJ("video_preview", X1D.LIZIZ(LIZ));
        C162236Yh.LIZJ(this.LLILZLL, "video_post_page");
        if (H7R.LJJJJL(this.LLILZLL)) {
            if (!C6XP.LIZ()) {
                Activity activity = this.mActivity;
                VideoPublishEditModel model = this.LLILZLL;
                int permission = this.LLIIII.getValue().getPermission();
                String str3 = this.LLILZLL.creativeModel.transientPostPageModel.LJJ;
                o.LJIIIZ(activity, "activity");
                o.LJIIIZ(imageView, "imageView");
                o.LJIIIZ(model, "model");
                Intent intent = new Intent(activity, (Class<?>) ImagePublishPreviewActivity.class);
                H7R.LJJLIIJ(intent, model);
                intent.putExtra("extra_publish_preview_anchor_text", str2);
                intent.putExtra("extra_publish_preview_anchor_icon_url", urlModel2);
                intent.putExtra("extra_publish_preview_permission", permission);
                intent.putExtra("extra_publish_preview_last_group_id", str3);
                intent.putExtra("extra_publish_preview_image_index", i);
                C16360ka.LJIJJLI(imageView, "transition_view_v1");
                C1AT LIZJ = C020506f.LIZJ(activity, new C15070iV(imageView, "transition_view_v1"));
                C42326GjK c42326GjK = C42326GjK.LIZ;
                Bundle LIZLLL = LIZJ.LIZLLL();
                c42326GjK.getClass();
                C42326GjK.LIZIZ(intent);
                C78598Ut0.LJIJJ(intent, activity);
                activity.startActivityForResult(intent, 8, LIZLLL);
                return;
            }
            imageView.setTransitionName("transition_name_thumbnail");
            WNW wnw = new WNW();
            ArrayMap arrayMap = new ArrayMap();
            arrayMap.put("transition_name_thumbnail", wnw);
            WNH wnh = new WNH(arrayMap);
            ImagePublishPreviewScene imagePublishPreviewScene = new ImagePublishPreviewScene(this.LLILZLL, str2, urlModel2, this.LLIIII.getValue().getPermission(), this.LLILZLL.creativeModel.transientPostPageModel.LJJ, i, new AObjectS52S0101000_7(1, this, 16), new AObjectS52S0101000_7(1, imageView, 19));
            NavigationScene LJIIJJI = C78923UyF.LJIIJJI(this);
            if (LJIIJJI == null) {
                return;
            }
            C42663Gol c42663Gol = new C42663Gol();
            c42663Gol.LIZJ = wnh;
            LJIIJJI.LLJJJJ(imagePublishPreviewScene, c42663Gol.LIZ());
            return;
        }
        this.LLILZLL.creativeModel.transientPostPageModel.LJJIJL = true;
        if (!C6XP.LIZ()) {
            Activity context = this.mActivity;
            TuxTextView tuxTextView = this.LLIILII;
            VideoPublishEditModel videoPublishEditModel2 = this.LLILZLL;
            int permission2 = this.LLIIII.getValue().getPermission();
            String str4 = this.LLILZLL.creativeModel.transientPostPageModel.LJJ;
            Intent intent2 = new Intent(context, (Class<?>) VEVideoPublishPreviewActivity.class);
            H7R.LJJLIIJ(intent2, videoPublishEditModel2);
            intent2.putExtra("extra_publish_preview_anchor_text", str2);
            intent2.putExtra("extra_publish_preview_anchor_icon_url", urlModel2);
            intent2.putExtra("extra_publish_preview_permission", permission2);
            intent2.putExtra("extra_publish_preview_last_group_id", str4);
            C16360ka.LJIJJLI(imageView, "transition_view_v1");
            C16360ka.LJIJJLI(tuxTextView, "transition_view_v2");
            C1AT LIZJ2 = C020506f.LIZJ(context, new C15070iV(imageView, "transition_view_v1"), new C15070iV(tuxTextView, "transition_view_v2"));
            C42326GjK c42326GjK2 = C42326GjK.LIZ;
            Bundle LIZLLL2 = LIZJ2.LIZLLL();
            c42326GjK2.getClass();
            o.LJIIIZ(context, "context");
            C42326GjK.LIZIZ(intent2);
            C78598Ut0.LJIJJ(intent2, context);
            context.startActivityForResult(intent2, 8, LIZLLL2);
            return;
        }
        imageView.setTransitionName("transition_name_thumbnail");
        this.LLIILII.setTransitionName("transition_name_choose_cover");
        WNW wnw2 = new WNW();
        ArrayMap arrayMap2 = new ArrayMap();
        arrayMap2.put("transition_name_thumbnail", wnw2);
        arrayMap2.put("transition_name_choose_cover", wnw2);
        WNH wnh2 = new WNH(arrayMap2);
        VEVideoPublishPreviewScene vEVideoPublishPreviewScene = new VEVideoPublishPreviewScene(this.LLILZLL, str2, urlModel2, this.LLIIII.getValue().getPermission(), this.LLILZLL.creativeModel.transientPostPageModel.LJJ, new AObjectS56S0101000_13(6, this, 0));
        NavigationScene LJIIJJI2 = C78923UyF.LJIIJJI(this);
        if (LJIIJJI2 == null) {
            return;
        }
        if (C6XF.LIZ()) {
            C42663Gol c42663Gol2 = new C42663Gol();
            c42663Gol2.LIZJ = new C82161WMj();
            LJIIJJI2.LLJJJJ(vEVideoPublishPreviewScene, c42663Gol2.LIZ());
        } else {
            C42663Gol c42663Gol3 = new C42663Gol();
            c42663Gol3.LIZJ = wnh2;
            LJIIJJI2.LLJJJJ(vEVideoPublishPreviewScene, c42663Gol3.LIZ());
        }
    }

    @Override // X.AbstractC42651GoZ, X.C5HC
    public final boolean onKeyDown(int i, KeyEvent keyEvent) {
        boolean z;
        GFL.LIZIZ.LIZJ(i, keyEvent);
        if (i != 4) {
            return false;
        }
        LLLLJI().LJJJJIZL = System.currentTimeMillis();
        if (!C41030G8k.LIZ() && C78923UyF.LJIILLIIL(this).onBackPressed()) {
            return true;
        }
        if (LLJLL().getSupportFragmentManager().LJJJJIZL() > 0) {
            LLJLL().getSupportFragmentManager().LJJLIIIJJI();
            return true;
        }
        VideoPublishViewModel n2 = n();
        if (n2 != null) {
            boolean LLZ = LLZ();
            VideoPublishEditModel videoPublishEditModel = this.LLILZLL;
            if (videoPublishEditModel != null && videoPublishEditModel.mIsFromDraft) {
                z = true;
            } else {
                z = false;
            }
            n2.setStateImmediate(new C41037G8r(LLZ, z, false, false));
        }
        H78.LIZIZ(LLLFZ, "system back event");
        return true;
    }

    public final void M(AI8 ai8, VideoTrendingTopic videoTrendingTopic, G63 g63) {
        String charSequence;
        if (ai8 == null) {
            return;
        }
        String string = getString(R.string.sk3);
        if (videoTrendingTopic != null) {
            string = videoTrendingTopic.getEventName();
        }
        ai8.setTitle(string);
        ai8.setVisibility(0);
        if (g63 != null) {
            o.LJIIIZ(string, "<set-?>");
            g63.LIZIZ = string;
        }
        if (C40981G6n.LIZ()) {
            C26012AIu.LIZ(R.raw.icon_fire_3, ai8);
            CharSequence title = ai8.getTitle();
            if (title == null) {
                charSequence = "";
            } else {
                charSequence = title.toString();
            }
            C26012AIu.LIZIZ(ai8, charSequence);
        }
        ai8.setTitleMaxLines(1);
    }

    @Override // X.AbstractC42651GoZ
    public final void onActivityResult(int i, int i2, Intent intent) {
        VideoPublishEditModel videoPublishEditModel;
        VideoPublishEditModel videoPublishEditModel2;
        ActivityC45651qj LLII;
        List<TranslatedRegion> LJIJJ;
        List<C15070iV<Class<?>, IAVPublishExtension<?>>> list = this.LLJILJILJ;
        if (list != null) {
            Iterator it = ((ArrayList) list).iterator();
            while (it.hasNext()) {
                ((IAVPublishExtension) ((C15070iV) it.next()).LIZIZ).onActivityResult(i, i2, intent);
            }
        }
        if (!C40977G6j.LIZ()) {
            G7B g7b = this.LJZL;
            g7b.getClass();
            if (i2 == -1 && intent != null && (LJIJJ = C79004UzY.LJIJJ(intent)) != null) {
                g7b.LIZIZ.setValue(LJIJJ);
            }
        }
        G6F g6f = this.LLILLJJLI;
        if (g6f != null) {
            G6A g6a = g6f.LIZ;
            if (g6a != null) {
                ((C40990G6w) g6a).LIZ.LJFF();
            }
            if (i == 2 && i2 == -1 && intent != null) {
                int intExtra = intent.getIntExtra("extra.PERMISSION", 0);
                G6A g6a2 = g6f.LIZ;
                if (g6a2 != null) {
                    ((C40990G6w) g6a2).LIZ.LIZIZ(intExtra);
                }
            }
        }
        if (i == 1) {
            this.LLILZLL.creativeModel.transientPostPageModel.LJIIIZ = true;
        } else if (i == 3 && i2 == -1) {
            this.LLIIIJ.LJIIIZ(intent);
            this.LLILZLL.creativeModel.transientPostPageModel.LJIIIZ = true;
        }
        VideoTrendingTopic videoTrendingTopic = null;
        if (i == 4) {
            if (i2 == -1) {
                if (this.LLILZLL.creativeModel.transientPostPageModel.LJIIJJI && (LLII = LLII()) != null) {
                    GUH.LJJIIJ(this.LLILZLL, LLLJ(true), LLII);
                }
                C42326GjK.LIZ.getClass();
                C42326GjK.LIZLLL(intent);
                if (intent != null) {
                    Serializable serializableExtra = intent.getSerializableExtra("KEY_VIDEO_COVER_CHOOSE_RESULT");
                    if ((serializableExtra instanceof VideoPublishEditModel) && (videoPublishEditModel2 = (VideoPublishEditModel) serializableExtra) != null) {
                        videoPublishEditModel2.creativeModel = C78996UzQ.LJIILL(intent);
                        this.LLILZLL = videoPublishEditModel2;
                        K();
                    }
                }
            }
        } else if (i == 9) {
            if (i2 == -1 && intent != null) {
                Serializable serializableExtra2 = intent.getSerializableExtra("KEY_IMAGE_CHOOSE_COVER_RESULT");
                if ((serializableExtra2 instanceof VideoPublishEditModel) && (videoPublishEditModel = (VideoPublishEditModel) serializableExtra2) != null) {
                    videoPublishEditModel.creativeModel = C78996UzQ.LJIILL(intent);
                    this.LLILZLL = videoPublishEditModel;
                    C152915zL.LIZIZ(videoPublishEditModel, new AObjectS42S0101000_5(4, this, 35));
                }
            }
        } else if (i == 10 && i2 == -1 && intent != null) {
            GSX gsx = (GSX) intent.getSerializableExtra("chainInfo");
            C41555GSp c41555GSp = (C41555GSp) intent.getSerializableExtra("mention_video_Info_with_subtype");
            if (gsx != null) {
                this.LLILIL.LJIIIZ(gsx, "");
            } else if (c41555GSp != null) {
                C41554GSo.LJ(this.LLILIL, c41555GSp);
            }
        }
        C40984G6q c40984G6q = this.LLILZ;
        if (c40984G6q != null) {
            if (i == c40984G6q.LIZJ) {
                if (i2 == -1 && intent != null) {
                    intent.getBooleanExtra("comment_item_checked", true);
                    intent.getBooleanExtra("react_duet_item_checked", true);
                    intent.getBooleanExtra("stitch_item_checked", true);
                    c40984G6q.LJI = intent.getBooleanExtra("download_item_checked", false);
                }
            } else if (i == 7 && i2 == -1 && intent != null) {
                c40984G6q.LJIIIIZZ(intent.getIntExtra("extra_save_option", 0));
            }
            if (!C40977G6j.LIZ() && !G6X.LIZ() && !C40981G6n.LIZ() && LLLLL().LIZJ()) {
                TrendingUploadModel trendingUploadModel = this.LLILZLL.creativeModel.trendingUploadModel;
                G7M g7m = this.LLILZ.LJII;
                if (g7m != null) {
                    videoTrendingTopic = g7m.LJLJL;
                }
                trendingUploadModel.trendingTopic = videoTrendingTopic;
            }
        }
    }

    @Override // X.AbstractC147255qD, X.WMH, X.WM7
    public final ViewGroup onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        View LIZJ;
        if (C41030G8k.LIZ()) {
            G8G.LIZ.step("av_video_publish", "onCreate");
        }
        setTheme(0);
        getWindow().clearFlags(1024);
        if (C162356Yt.LIZ()) {
            LIZJ = V0Z.LIZJ(this.mActivity, R.layout.axi, viewGroup, KMP.LJ("publish", R.layout.axi), layoutInflater);
        } else {
            LIZJ = V0Z.LIZJ(this.mActivity, R.layout.axj, viewGroup, KMP.LJ("publish", R.layout.axj), layoutInflater);
        }
        this.LLJJJIL = LIZJ;
        HTP.LJLJL.LIZJ(this.mActivity, (ViewGroup) LIZJ.findViewById(R.id.c3v));
        if (C53258KvG.LIZIZ()) {
            this.LLJJLIIIJLLLLLLLZ.LIZ();
        }
        NetworkStandardUIServiceImpl.createINetworkStandardUIServicebyMonsterPlugin(false).registerForNetworkChangeToasts();
        return (ViewGroup) this.LLJJJIL;
    }
}
