package com.bytedance.android.livesdk.chatroom.ui;

import X.AbstractC28221B5t;
import X.ActivityC45651qj;
import X.B32;
import X.B33;
import X.B34;
import X.B35;
import X.B36;
import X.B37;
import X.B38;
import X.B39;
import X.B3B;
import X.B3C;
import X.B3D;
import X.B3E;
import X.B3G;
import X.B3H;
import X.B3I;
import X.B3J;
import X.B3K;
import X.B3N;
import X.B3O;
import X.B3P;
import X.B3Q;
import X.B3V;
import X.B3X;
import X.B42;
import X.B43;
import X.B44;
import X.B45;
import X.B48;
import X.B4B;
import X.B4C;
import X.B4F;
import X.B4I;
import X.B4J;
import X.B4K;
import X.B4L;
import X.B4M;
import X.B4N;
import X.B4Q;
import X.B4S;
import X.B4T;
import X.B4U;
import X.B4V;
import X.B4W;
import X.B50;
import X.B53;
import X.B57;
import X.B59;
import X.B5B;
import X.B5C;
import X.B5F;
import X.B5G;
import X.B5S;
import X.B5T;
import X.B5U;
import X.B5V;
import X.B5X;
import X.B5Y;
import X.B71;
import X.B73;
import X.B7G;
import X.B7I;
import X.B7K;
import X.B7P;
import X.B83;
import X.B88;
import X.B89;
import X.B8D;
import X.B8U;
import X.B9E;
import X.B9K;
import X.BAK;
import X.BCI;
import X.BCK;
import X.BCL;
import X.BCM;
import X.BCO;
import X.BCQ;
import X.BCS;
import X.BCT;
import X.BCU;
import X.BCV;
import X.BCX;
import X.BCY;
import X.BDC;
import X.BDY;
import X.BHA;
import X.BJ9;
import X.BJB;
import X.BJL;
import X.BJM;
import X.BJO;
import X.BKJ;
import X.BKQ;
import X.BKU;
import X.BKY;
import X.BL8;
import X.BLB;
import X.BLL;
import X.BM1;
import X.BN1;
import X.BNL;
import X.BNM;
import X.BOW;
import X.BP8;
import X.BTH;
import X.BTJ;
import X.BZ3;
import X.BZI;
import X.BZM;
import X.C03660Ck;
import X.C05630Jz;
import X.C06460Ne;
import X.C06530Nl;
import X.C08680Vs;
import X.C09650Zl;
import X.C0H1;
import X.C0K2;
import X.C0NB;
import X.C0NE;
import X.C10640bM;
import X.C10A;
import X.C12800eq;
import X.C141335gf;
import X.C15380j0;
import X.C15410j3;
import X.C15610jN;
import X.C15650jR;
import X.C16880lQ;
import X.C173216qz;
import X.C1B3;
import X.C1B6;
import X.C1DH;
import X.C1EW;
import X.C1NU;
import X.C20760rg;
import X.C20910rv;
import X.C22800uy;
import X.C2308394d;
import X.C232529Aq;
import X.C28151B3b;
import X.C28154B3e;
import X.C28155B3f;
import X.C28157B3h;
import X.C28158B3i;
import X.C28162B3m;
import X.C28163B3n;
import X.C28166B3q;
import X.C28167B3r;
import X.C28184B4i;
import X.C28202B5a;
import X.C28210B5i;
import X.C28245B6r;
import X.C28246B6s;
import X.C28247B6t;
import X.C28251B6x;
import X.C28268B7o;
import X.C28272B7s;
import X.C28295B8p;
import X.C28386BCc;
import X.C28387BCd;
import X.C28388BCe;
import X.C28389BCf;
import X.C28390BCg;
import X.C28391BCh;
import X.C28392BCi;
import X.C28394BCk;
import X.C28401BCr;
import X.C28403BCt;
import X.C28406BCw;
import X.C28429BDt;
import X.C28461BEz;
import X.C28482BFu;
import X.C28601BKj;
import X.C28608BKq;
import X.C28611BKt;
import X.C28639BLv;
import X.C28643BLz;
import X.C28655BMl;
import X.C28657BMn;
import X.C28668BMy;
import X.C28733BPl;
import X.C28787BRn;
import X.C28835BTj;
import X.C29034BaQ;
import X.C29035BaR;
import X.C29044Baa;
import X.C29047Bad;
import X.C29049Baf;
import X.C29054Bak;
import X.C29055Bal;
import X.C29121Bbp;
import X.C29162BcU;
import X.C29306Beo;
import X.C29374Bfu;
import X.C29494Bhq;
import X.C29927Bop;
import X.C29S;
import X.C30149BsP;
import X.C30184Bsy;
import X.C30326BvG;
import X.C30588BzU;
import X.C30743C4t;
import X.C30770C5u;
import X.C30868C9o;
import X.C30869C9p;
import X.C30922CBq;
import X.C31457CWf;
import X.C31811Ce7;
import X.C31944CgG;
import X.C32151Nz;
import X.C32364Cn2;
import X.C32537Cpp;
import X.C38354F3m;
import X.C38393F4z;
import X.C38995FSd;
import X.C39202Fa2;
import X.C39532FfM;
import X.C3C5;
import X.C47061t0;
import X.C47121t6;
import X.C47261Igj;
import X.C48699J9j;
import X.C5H3;
import X.C62622d0;
import X.C64504PTg;
import X.C70657RoD;
import X.C72545SdZ;
import X.C72818Shy;
import X.C73318Sq2;
import X.C73411SrX;
import X.C73943T0h;
import X.C74838TYs;
import X.C76800UCe;
import X.C78140Ulc;
import X.C78847Ux1;
import X.C78963Uyt;
import X.C79004UzY;
import X.C7MY;
import X.C81185Vtd;
import X.C88207Yjb;
import X.C90903hW;
import X.CG4;
import X.CHK;
import X.CN1;
import X.CVR;
import X.CVS;
import X.DialogC77438UaI;
import X.EnumC12790ep;
import X.EnumC20870rr;
import X.EnumC28203B5b;
import X.EnumC28204B5c;
import X.EnumC30213BtR;
import X.EnumC30551Byt;
import X.FP1;
import X.FT5;
import X.InterfaceC27469AqH;
import X.InterfaceC28159B3j;
import X.InterfaceC28161B3l;
import X.InterfaceC28165B3p;
import X.InterfaceC28169B3t;
import X.InterfaceC28173B3x;
import X.InterfaceC28175B3z;
import X.InterfaceC28211B5j;
import X.InterfaceC28235B6h;
import X.InterfaceC28236B6i;
import X.InterfaceC28296B8q;
import X.InterfaceC28610BKs;
import X.InterfaceC28738BPq;
import X.InterfaceC36571c5;
import X.InterfaceC62632d1;
import X.InterfaceC65784Pro;
import X.InterfaceC72822Si2;
import X.InterfaceC73592SuS;
import X.InterfaceC92693kP;
import X.KL2;
import X.OSZ;
import X.Q7L;
import X.QD3;
import X.T16;
import X.TW6;
import X.UC0;
import X.V10;
import X.ViewOnLayoutChangeListenerC28483BFv;
import X.X1D;
import Y.AObjectS10S0001000_5;
import Y.AObjectS144S0100000_5;
import Y.AObjectS42S0101000_5;
import Y.AObjectS43S0101000_7;
import Y.AObjectS45S0101000_13;
import Y.AObjectS50S0101000_5;
import Y.AObjectS56S0101000_13;
import Y.ARunnableS11S0101000_7;
import Y.ARunnableS12S0000000_5;
import Y.ARunnableS12S0101000_8;
import Y.ARunnableS13S0100100_5;
import Y.ARunnableS15S0101000_11;
import Y.ARunnableS18S0101000_14;
import Y.ARunnableS41S0100000_5;
import Y.ARunnableS6S1100000_5;
import Y.ARunnableS7S0201000_4;
import Y.ARunnableS8S0201000_5;
import Y.ARunnableS9S0101000_5;
import Y.AUListenerS93S0100000_4;
import Y.AfS17S0001000_5;
import Y.AfS36S0101000_5;
import Y.AfS37S0000000_5;
import Y.AfS57S0100000_5;
import Y.IDBReceiverS5S0100000_5;
import Y.IDCListenerS254S0100000_5;
import Y.IDHandlerS18S0100000_5;
import Y.IDRunnableS6S0101000;
import android.animation.ValueAnimator;
import android.app.Activity;
import android.app.PendingIntent;
import android.app.PictureInPictureParams;
import android.app.RemoteAction;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.MutableContextWrapper;
import android.content.res.Configuration;
import android.content.res.Resources;
import android.graphics.Bitmap;
import android.graphics.Rect;
import android.graphics.drawable.ColorDrawable;
import android.graphics.drawable.Drawable;
import android.graphics.drawable.Icon;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.os.SystemClock;
import android.text.TextUtils;
import android.util.Pair;
import android.util.Rational;
import android.util.SparseBooleanArray;
import android.view.LayoutInflater;
import android.view.SurfaceView;
import android.view.TextureView;
import android.view.View;
import android.view.ViewGroup;
import android.view.Window;
import android.widget.FrameLayout;
import android.widget.ImageView;
import androidx.constraintlayout.widget.ConstraintLayout;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.lifecycle.GenericLifecycleObserver;
import androidx.lifecycle.Lifecycle;
import androidx.lifecycle.LifecycleOwner;
import androidx.lifecycle.OnLifecycleEvent;
import androidx.lifecycle.ViewModelProviders;
import androidx.lifecycle.ViewTreeLifecycleOwner;
import androidx.lifecycle.ViewTreeViewModelStoreOwner;
import com.bytedance.android.feed.api.DrawerTypeChangeEvent;
import com.bytedance.android.live.actionhandler.IActionHandlerService;
import com.bytedance.android.live.base.model.RoomStatus;
import com.bytedance.android.live.base.service.IHostMonitorAndLog;
import com.bytedance.android.live.browser.IBrowserService;
import com.bytedance.android.live.effect.api.IEffectService;
import com.bytedance.android.live.function.IRoomFunctionService;
import com.bytedance.android.live.gift.IGiftService;
import com.bytedance.android.live.gift.VideoGiftStartEvent;
import com.bytedance.android.live.liveinteract.api.AllLinkMicWindowRenderedEvent;
import com.bytedance.android.live.liveinteract.api.IInteractService;
import com.bytedance.android.live.liveinteract.api.InteractPlayerViewChangeChannel;
import com.bytedance.android.live.liveinteract.api.InteractStateChangeEvent;
import com.bytedance.android.live.liveinteract.api.LinkCrossRoomStateChangeEvent;
import com.bytedance.android.live.liveinteract.api.LinkMicAudienceCancelEvent;
import com.bytedance.android.live.liveinteract.api.event.LivePauseViewSizeChangeEvent;
import com.bytedance.android.live.liveinteract.api.event.MultiGuestPauseViewShowEvent;
import com.bytedance.android.live.liveinteract.api.event.PlayerChangeLayoutParamEvent;
import com.bytedance.android.live.liveinteract.multiguestv3.AudienceUpdateShareBgEvent;
import com.bytedance.android.live.liveinteract.multiguestv3.AudienceVideoViewParams;
import com.bytedance.android.live.liveinteract.multiguestv3.HadInitLinkMicChannel;
import com.bytedance.android.live.liveinteract.multiguestv3.MultiGuestV3CanExposeForPlayerOptChannel;
import com.bytedance.android.live.liveinteract.multiguestv3.MultiGuestV3VideoSizeChannel;
import com.bytedance.android.live.livepullstream.api.IPullStreamService;
import com.bytedance.android.live.publicscreen.api.IPublicScreenService;
import com.bytedance.android.live.room.DispatchRoomLoadEvent;
import com.bytedance.android.live.room.SeiCacheChannel;
import com.bytedance.android.live.room.VideoOrientationChangeChannel;
import com.bytedance.android.livesdk.LandscapeFullScreenEvent;
import com.bytedance.android.livesdk.LandscapeInteractionMarginData;
import com.bytedance.android.livesdk.LiveRoomFragment;
import com.bytedance.android.livesdk.LockScreenEvent;
import com.bytedance.android.livesdk.PaidRoomChannel;
import com.bytedance.android.livesdk.SwipeNextEvent;
import com.bytedance.android.livesdk.api.revenue.subscription.ISubscribeService;
import com.bytedance.android.livesdk.api.revenue.treasurebox.ITreasureBoxService;
import com.bytedance.android.livesdk.chatroom.api.RoomRetrofitApi;
import com.bytedance.android.livesdk.chatroom.end.newaudienceend.LiveNewAudienceEndFragment;
import com.bytedance.android.livesdk.chatroom.model.AccessRecallMessageChannel;
import com.bytedance.android.livesdk.chatroom.model.ExtraResult;
import com.bytedance.android.livesdk.chatroom.ui.AbsAudienceInteractionFragment;
import com.bytedance.android.livesdk.chatroom.ui.LandscapeAudienceInteractionFragment;
import com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment;
import com.bytedance.android.livesdk.chatroom.ui.PortraitAudienceInteractionFragment;
import com.bytedance.android.livesdk.comp.api.debug.IDebugService;
import com.bytedance.android.livesdk.comp.api.game.linkmic.IGameLinkMicService;
import com.bytedance.android.livesdk.dataChannel.AppEnterBackgroundEvent;
import com.bytedance.android.livesdk.dataChannel.AudienceLastSelectDefinitionInfo;
import com.bytedance.android.livesdk.dataChannel.AudienceResolutionDegrade;
import com.bytedance.android.livesdk.dataChannel.BufferingEvent;
import com.bytedance.android.livesdk.dataChannel.ChangeLoadingViewPosition;
import com.bytedance.android.livesdk.dataChannel.FirstFrameChannelEvent;
import com.bytedance.android.livesdk.dataChannel.FullScreenSurveyShowing;
import com.bytedance.android.livesdk.dataChannel.GameLiveAbrNewResolution;
import com.bytedance.android.livesdk.dataChannel.HideParentCloseEvent;
import com.bytedance.android.livesdk.dataChannel.IsInteractingData;
import com.bytedance.android.livesdk.dataChannel.LeftBottomECSlotWidgetShow;
import com.bytedance.android.livesdk.dataChannel.LiveFragmentVisibility;
import com.bytedance.android.livesdk.dataChannel.OrientationChangedChannel;
import com.bytedance.android.livesdk.dataChannel.PIPModeChangeEvent;
import com.bytedance.android.livesdk.dataChannel.PIPStatusData;
import com.bytedance.android.livesdk.dataChannel.PlayerStatusChannel;
import com.bytedance.android.livesdk.dataChannel.PreCreateLivePlayerEvent;
import com.bytedance.android.livesdk.dataChannel.ProgrammedLiveMenuVisibilityChannel;
import com.bytedance.android.livesdk.dataChannel.RoomChannel;
import com.bytedance.android.livesdk.dataChannel.RoomComponentsV2Channel;
import com.bytedance.android.livesdk.dataChannel.ShowLoadingViewEvent;
import com.bytedance.android.livesdk.dataChannel.ShowPrivilegeCenterEvent;
import com.bytedance.android.livesdk.dataChannel.SubOnlyLiveAudienceStatusChannel;
import com.bytedance.android.livesdk.dataChannel.UserIsAnchorChannel;
import com.bytedance.android.livesdk.dataChannel.VideoViewMeasureEvent;
import com.bytedance.android.livesdk.dataChannel.WatchDurationChannel;
import com.bytedance.android.livesdk.dataChannel.WatchPauseLiveChannel;
import com.bytedance.android.livesdk.drawerfeed.tab.DrawerTabsApi;
import com.bytedance.android.livesdk.list.MultiPlusFeedRoomListProvider;
import com.bytedance.android.livesdk.list.MultiRoomIdListProvider;
import com.bytedance.android.livesdk.livesetting.broadcast.GameLiveLandscapeEnterOp;
import com.bytedance.android.livesdk.livesetting.broadcast.LiveMaxRetainAlogMessageSizeSetting;
import com.bytedance.android.livesdk.livesetting.feed.LiveDrawerTabTypeSetting;
import com.bytedance.android.livesdk.livesetting.gift.LiveGiftLimitGiftListRequest;
import com.bytedance.android.livesdk.livesetting.linkmic.CoHostPullLogSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkMicRtcMixBitrateSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LiveSdkMultiGuestPauseViewDiffFixSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LivesdkLinkmicFloatWindowOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestShareBgRtlOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestV3RoomLoadingOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.cohost.CoHostFirstLayoutShownSwitch;
import com.bytedance.android.livesdk.livesetting.linkmic.cohost.MultiCohostRoomLoadingOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.multilive.MultiGuestV3PlaySetting;
import com.bytedance.android.livesdk.livesetting.message.LiveMessageWsReuseSetting;
import com.bytedance.android.livesdk.livesetting.other.LiveLogMonitorSampleSetting;
import com.bytedance.android.livesdk.livesetting.other.LiveMonitorSampleSetting;
import com.bytedance.android.livesdk.livesetting.other.TtliveGameOtherBackgroundImageOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.other.subscribe.SubscribeShortPaySetting;
import com.bytedance.android.livesdk.livesetting.performance.BuriedFieldReductionSetting;
import com.bytedance.android.livesdk.livesetting.performance.LiveConstraintLayoutOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.LiveLayoutPreloadThreadPriority;
import com.bytedance.android.livesdk.livesetting.performance.LiveRecycleWidgetManagerOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.UnusedLogOfflineSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.BadPhonesWatchLiveCommonUIOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.LiveHotDegradeSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.LiveWatchPreloadSettings;
import com.bytedance.android.livesdk.livesetting.performance.degrade.ViewAutoPreloadOptSetting;
import com.bytedance.android.livesdk.livesetting.pullstream.LiveNetAdaptiveHurryTimeSetting;
import com.bytedance.android.livesdk.livesetting.rank.RankRequestOptSetting;
import com.bytedance.android.livesdk.livesetting.roomfunction.TtliveGameLandscapeDesignOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.EnableSlideEnterRoomOptSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.EnableSlideVideoLastFrameSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveClickEnterDelayShowLoadingTimeSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveDrawPreEnterRoom;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveDrawerDrawOptSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveEnterDelayShowLoadingTimeSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveEnterRoomRateTrackerSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveGameLiveStudioSupportCohostSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveLayoutObserverSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LivePipKeyboardOptSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LivePipTextureViewEnableSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LivePreloadInteractionLayerSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveServerGiveGaussianBackground;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveSubscribeLynxUrl;
import com.bytedance.android.livesdk.livesetting.watchlive.PackEnterRoomOptEnableSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.RecommendEndAtFollowingSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.RemoveDrawLiveEndSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.SurveyStyleSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.TtliveGameLandscapeFullScreenOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.WatchMemoryLeakOpt;
import com.bytedance.android.livesdk.livesetting.watchlive.firstscreen.FirstScreenOptSwitcher;
import com.bytedance.android.livesdk.livesetting.watchlive.firstscreen.LiveMultiPlayerEnableSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.firstscreen.LiveSurfaceViewSceneSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.firstscreen.LiveUseSurfaceViewExperiment;
import com.bytedance.android.livesdk.livesetting.watchlive.firstscreen.PreviewEnterUseSurfaceView;
import com.bytedance.android.livesdk.livesetting.watchlive.liveend.LiveCheckRoomWhenDismissAllDialogsSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.player.BlackScreenMonitorSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.player.LiveFollowingUseSurfaceViewExperiment;
import com.bytedance.android.livesdk.livesetting.watchlive.previewlive.LiveCardSmoothEnterOptSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.previewlive.LiveCardSmoothFrameSetting;
import com.bytedance.android.livesdk.model.LiveRecommendAtEnd;
import com.bytedance.android.livesdk.model.MaskLayer;
import com.bytedance.android.livesdk.model.OfficialChannelInfo;
import com.bytedance.android.livesdk.model.RoomAuthStatus;
import com.bytedance.android.livesdk.model.WarningTag;
import com.bytedance.android.livesdk.model.linksetting.CoHost;
import com.bytedance.android.livesdk.model.linksetting.MultiLiveUserApplySettings;
import com.bytedance.android.livesdk.model.linksetting.MultiLiveUserSettings;
import com.bytedance.android.livesdk.model.message.ControlMessage;
import com.bytedance.android.livesdk.model.message.PunishEventInfo;
import com.bytedance.android.livesdk.model.message.RemindMessage;
import com.bytedance.android.livesdk.performance.LivePerformanceManager;
import com.bytedance.android.livesdk.pip.PipVideoViewContainDialog;
import com.bytedance.android.livesdk.rank.api.IRankService;
import com.bytedance.android.livesdk.stream.performance.abs.AudienceBlockHeartBeatMonitorEnableSetting;
import com.bytedance.android.livesdk.survey.ISurveyService;
import com.bytedance.android.livesdk.ui.BaseFragment;
import com.bytedance.android.livesdk.watch.IWatchLiveService;
import com.bytedance.android.livesdk.watch.LivePlayBgVisibilityChange;
import com.bytedance.android.livesdk.widget.LCCCloseWidget;
import com.bytedance.android.livesdk.widget.LiveAgeRestrictedWidget;
import com.bytedance.android.livesdk.widget.LiveLccMaskLayerWidget;
import com.bytedance.android.livesdk.widget.LiveMaskLayerWidget;
import com.bytedance.android.livesdk.widget.LivePlayPauseWidget;
import com.bytedance.android.livesdk.widget.LiveReportMaskWidget;
import com.bytedance.android.livesdk.widget.LiveSlideUpGuideWidget;
import com.bytedance.android.livesdk.widget.RecommendSwipeNewWidget;
import com.bytedance.android.livesdk.widget.RecommendSwipeOldWidget;
import com.bytedance.android.livesdkapi.depend.model.live.CommerceStruct;
import com.bytedance.android.livesdkapi.depend.model.live.LiveMode;
import com.bytedance.android.livesdkapi.depend.model.live.PartnershipInfo;
import com.bytedance.android.livesdkapi.depend.model.live.Room;
import com.bytedance.android.livesdkapi.depend.model.live.Skin;
import com.bytedance.android.livesdkapi.depend.model.live.StreamUrlExtra;
import com.bytedance.android.livesdkapi.host.IHostAction;
import com.bytedance.android.livesdkapi.host.IHostAppContext;
import com.bytedance.android.livesdkapi.host.IHostCommerce;
import com.bytedance.android.livesdkapi.session.EnterRoomConfig;
import com.bytedance.android.livesdkapi.session.EnterRoomLinkSession;
import com.bytedance.android.livesdkapi.session.Event;
import com.bytedance.android.livesdkapi.session.deeplink.DeepLinkData;
import com.bytedance.android.message.IMessageService;
import com.bytedance.android.widget.Widget;
import com.bytedance.ies.sdk.datachannel.DataChannel;
import com.bytedance.ies.sdk.datachannel.DataChannelGlobal;
import com.bytedance.ies.sdk.widgets.LiveWidgetProviderProxy;
import com.bytedance.ies.sdk.widgets.RecyclableWidgetManager;
import com.bytedance.ies.sdk.widgets.widgetloadpriority.PreLoadInteractionLayer;
import com.bytedance.mt.protector.impl.GsonProtectorUtils;
import com.bytedance.mt.protector.impl.color.ColorProtector;
import com.bytedance.mt.protector.impl.string2number.CastLongProtector;
import com.ss.android.ugc.aweme.feed.model.CardStruct;
import com.ss.ugc.live.sdk.message.interfaces.IMessageManager;
import com.zhiliaoapp.musically.R;
import defpackage.b1;
import java.lang.ref.WeakReference;
import java.lang.reflect.Field;
import java.lang.reflect.Method;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.CopyOnWriteArrayList;
import kotlin.jvm.internal.AqS171S0100000_5;
import kotlin.jvm.internal.o;
import org.greenrobot.eventbus.EventBus;
import org.json.JSONException;
import org.json.JSONObject;

/* loaded from: classes6.dex */
public class LivePlayFragment extends BaseFragment implements BKJ, InterfaceC28236B6i, InterfaceC27469AqH, InterfaceC62632d1, InterfaceC28159B3j, InterfaceC72822Si2 {
    public long LJLIL;
    public int LJLILLLLZI;
    public Room LJLJI;
    public long LJLJJI;
    public List<String> LJLJJL;
    public List<String> LJLJJLL;
    public String LJLJL;
    public String LJLJLJ;
    public String LJLJLLL;
    public String LJLL;
    public String LJLLI;
    public StreamUrlExtra.SrConfig LJLLILLLL;
    public LiveMode LJLLJ;
    public boolean LJLLL;
    public boolean LJLLLL;
    public boolean LJLLLLLL;
    public long LJLZ;
    public String LJZI;
    public boolean LJZL;
    public boolean LL;
    public boolean LLD;
    public DeepLinkData LLF;
    public boolean LLFF;
    public boolean LLFII;
    public int LLFZ;
    public int LLI;
    public int LLIFFJFJJ;
    public BJ9 LLIIII;
    public C28461BEz LLIIIILZ;
    public B35 LLIIIJ;
    public C28163B3n LLIIIL;
    public C47061t0 LLILIL;
    public B4V LLILL;
    public ViewGroup LLILLIZIL;
    public C47061t0 LLILLJJLI;
    public C47061t0 LLILLL;
    public C47061t0 LLILZ;
    public View LLILZIL;
    public ViewGroup LLILZLL;
    public ImageView LLIZ;
    public Bitmap LLIZLLLIL;
    public View LLJ;
    public ConstraintLayout LLJI;
    public AbsAudienceInteractionFragment LLJIJIL;
    public DialogC77438UaI LLJILJIL;
    public LiveNewAudienceEndFragment LLJILJILJ;
    public View LLJILLL;
    public String LLJJ;
    public long LLJJIII;
    public String LLJJIJI;
    public C28247B6t LLJJLIIIJLLLLLLLZ;
    public InterfaceC28159B3j LLJL;
    public C78140Ulc LLJLIL;
    public final boolean LLJLLIL;
    public final boolean LLJLLL;
    public final int LLJZ;
    public final int LLJZIJLIL;
    public final boolean LLL;
    public long LLLF;
    public long LLLFF;
    public long LLLFFI;
    public ValueAnimator LLLFZ;
    public final B3J LLLI;
    public BZ3 LLLII;
    public long LLLIIII;
    public long LLLIIIIL;
    public long LLLIIIL;
    public DataChannel LLLIIL;
    public B71 LLLIILIL;
    public LiveMaskLayerWidget LLLIL;
    public LiveLccMaskLayerWidget LLLILZ;
    public LCCCloseWidget LLLILZJ;
    public boolean LLLILZLLLI;
    public LiveAgeRestrictedWidget LLLIZZ;
    public LiveReportMaskWidget LLLJ;
    public RecommendSwipeOldWidget LLLJIL;
    public RecommendSwipeNewWidget LLLJL;
    public LiveSlideUpGuideWidget LLLL;
    public C28272B7s LLLLII;
    public ControlMessage LLLLIIIILLL;
    public boolean LLLLIIL;
    public long LLLLIILL;
    public boolean LLLLIILLL;
    public boolean LLLLIL;
    public boolean LLLLILI;
    public boolean LLLLJ;
    public int LLLLJI;
    public B37 LLLLL;
    public final boolean LLLLLIL;
    public final boolean LLLLLILLIL;
    public final CopyOnWriteArrayList<Long> LLLLLJIL;
    public final IDHandlerS18S0100000_5 LLLLLJLJLL;
    public final Handler LLLLLL;
    public HashMap<String, String> LLLLLLIL;
    public long LLLLLLJ;
    public B32 LLLLLLL;
    public C28184B4i LLLLLLLLL;
    public InterfaceC28235B6h LLLLLLLLLL;
    public OSZ<Integer, Integer> LLLLLLLZIL;
    public Configuration LLLLLLZ;
    public View LLLLLLZZ;
    public InterfaceC28175B3z LLLLLZ;
    public boolean LLLLLZIL;
    public final List<TW6> LLLLLZL;
    public String LLLLZ;
    public B3K LLLLZI;
    public BP8 LLLLZIL;
    public InterfaceC28169B3t LLLLZLL;
    public View LLLLZLLIL;
    public boolean LLLLZLLLI;
    public boolean LLLZ;
    public boolean LLLZI;
    public Long LLLZIIL;
    public int LLLZIL;
    public EnterRoomConfig LLLZL;
    public C73411SrX LLLZLL;
    public boolean LLLZLZ;
    public PictureInPictureParams.Builder LLLZZ;
    public boolean LLLZZIL;
    public final C73318Sq2 LLZ;
    public boolean LLZIL;
    public boolean LLZILL;
    public boolean LLZL;
    public String LLZLI;
    public String LLZLL;
    public String LLZLLIL;
    public PreLoadInteractionLayer LLZLLLL;
    public B50 LLZZ;
    public String LLZZJLIL;
    public B3G LLZZLLIL;
    public boolean LLZZZIL;
    public String LLZZZZ;
    public boolean a;
    public ValueAnimator b;
    public boolean c;
    public volatile InterfaceC28211B5j d;
    public B34 e;
    public final B3C f;
    public final AObjectS144S0100000_5 g;
    public final AObjectS144S0100000_5 h;
    public C39532FfM i;
    public RecyclableWidgetManager j;
    public B33 k;
    public volatile InterfaceC28296B8q l;
    public boolean m;

    /* renamed from: n, reason: collision with root package name */
    public boolean f115n;
    public final B36 o;
    public final BOW p;
    public final C28295B8p q;
    public B42 r;
    public boolean s;
    public B39 t;
    public IDBReceiverS5S0100000_5 u;
    public PipVideoViewContainDialog v;
    public boolean w;
    public boolean x;
    public static final Boolean y = Boolean.FALSE;
    public static final int z = C15380j0.LJFF(R.dimen.aed);
    public static final List<Long> A = new ArrayList();
    public String LJZ = "";
    public int LLFFF = 1;
    public B5V LLII = B5V.IDLE;
    public final B3I LLIIIZ = new B3I();
    public boolean LLIIJI = false;
    public boolean LLIIJLIL = false;
    public boolean LLIIL = false;
    public boolean LLIILII = false;
    public boolean LLIILZL = false;
    public boolean LLIIZ = false;
    public boolean LLIL = false;
    public boolean LLILII = false;
    public String LLJJI = null;
    public String LLJJIJIIJIL = "other";
    public boolean LLJJIJIL = false;
    public boolean LLJJJ = false;
    public boolean LLJJJIL = false;
    public boolean LLJJJJ = false;
    public boolean LLJJJJJIL = false;
    public boolean LLJJJJLIIL = false;
    public String LLJJL = null;
    public final List<String> LLJLILLLLZIIL = new ArrayList();
    public boolean LLJLL = false;

    @Override // X.BKJ
    public final Fragment getFragment() {
        return this;
    }

    public static boolean Qn() {
        boolean z2;
        if (LiveFollowingUseSurfaceViewExperiment.INSTANCE.isEnable()) {
            return false;
        }
        LiveRecommendAtEnd value = RecommendEndAtFollowingSetting.INSTANCE.getValue();
        String LIZ = BKU.LIZ();
        String LIZIZ = BKU.LIZIZ();
        if (BKU.LIZJ(LIZ) || BKU.LIZJ(LIZIZ)) {
            z2 = true;
        } else {
            z2 = false;
        }
        if (!value.isLimitPlayerWidth || !z2) {
            return false;
        }
        return true;
    }

    public final B3G An() {
        ViewGroup viewGroup = this.LLILZLL;
        if (viewGroup == null) {
            C0NB.LIZIZ("1VNExperienceV1", "LivePlayFragment_tryCreateMultiGuestV3PreAdjustPlayerManager return mVideoViewRestrict is null");
            return null;
        }
        B3G nE = ((IInteractService) CN1.LIZ(IInteractService.class)).nE(viewGroup, this.LLLIIL, this);
        this.LLZZLLIL = nE;
        return nE;
    }

    @Override // X.BKJ
    public final Room B2() {
        LiveNewAudienceEndFragment liveNewAudienceEndFragment = this.LLJILJILJ;
        if (liveNewAudienceEndFragment != null && liveNewAudienceEndFragment.isVisible()) {
            Room room = this.LLJILJILJ.LJLJJLL;
            if (room != null) {
                room.isShow = true;
            }
            return room;
        }
        return this.LJLJI;
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r2v28, types: [java.lang.Long, O] */
    /* JADX WARN: Type inference failed for: r3v10, types: [java.lang.String, O] */
    /* JADX WARN: Type inference failed for: r4v20, types: [java.lang.Long, O] */
    /* JADX WARN: Type inference failed for: r4v22, types: [java.lang.Boolean, O] */
    @Override // X.BKJ
    public final void C5() {
        String str;
        BJ9 bj9;
        O o;
        EnterRoomConfig enterRoomConfig;
        B7I b7i;
        EnterRoomConfig.TimeStamp timeStamp;
        HashMap<String, String> hashMap;
        DataChannel dataChannel;
        if (this.LLLLLIL && (dataChannel = this.LLLIIL) != null) {
            dataChannel.rv0(MultiGuestV3CanExposeForPlayerOptChannel.class, Boolean.TRUE);
        }
        C28668BMy.LJFF = false;
        this.LLJJIJIL = false;
        this.LLJJJ = false;
        this.LLJJJIL = false;
        this.LLZZZZ = null;
        this.LLZZZIL = false;
        this.LLJLL = false;
        Room room = this.LJLJI;
        if (room != null) {
            this.a = room.isShow;
            room.isShow = true;
        }
        C28184B4i c28184B4i = this.LLLLLLLLL;
        if (c28184B4i != null && c28184B4i.LJIIIZ()) {
            c28184B4i.LJIILIIL();
            long currentTimeMillis = System.currentTimeMillis();
            c28184B4i.LIZLLL = currentTimeMillis;
            c28184B4i.LJ = currentTimeMillis;
            c28184B4i.LIZIZ = "T0";
            c28184B4i.LJIILJJIL(currentTimeMillis, "system_enter_preload_start", "", "");
        }
        EnterRoomConfig enterRoomConfig2 = this.LLLZL;
        if (enterRoomConfig2 != null) {
            if (enterRoomConfig2.mStreamData.streamType != -1) {
                B4U.LIZ().LJLILLLLZI = this.LJLLJ;
            }
            EnterRoomConfig.RoomsData roomsData = this.LLLZL.mRoomsData;
            long j = roomsData.enterRoomId;
            long j2 = roomsData.enterUserId;
            BM1.LIZLLL = j;
            BM1.LJ = j2;
            BM1.LIZLLL(roomsData.enterMethod, roomsData.enterFromMerge);
            EnterRoomConfig.RoomsData roomsData2 = this.LLLZL.mRoomsData;
            if (roomsData2.isShowFlare) {
                BM1.LJIJI = roomsData2.flareTaskId;
            } else {
                BM1.LJIJI = null;
            }
            C28668BMy.LJ();
        }
        C08680Vs c08680Vs = C08680Vs.LJIILJJIL;
        c08680Vs.LJI = this.LLLZL.mRoomsData.roomId;
        ActivityC45651qj mo49getActivity = mo49getActivity();
        DataChannel dataChannel2 = this.LLLIIL;
        B4K LIZJ = B4J.LIZJ(B4J.LIZ(mo49getActivity));
        if (LIZJ != null) {
            LIZJ.setDataChannel(dataChannel2);
        }
        if (y.booleanValue()) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("startRoom, roomId=");
            LIZ.append(this.LJLIL);
            LIZ.append(", userId=");
            LIZ.append(this.LJLJJI);
            C0NB.LIZIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        }
        HashMap<String, String> Vl = Vl();
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append(System.currentTimeMillis());
        LIZ2.append("");
        Vl.put("param_live_create_time", X1D.LIZIZ(LIZ2));
        EnterRoomConfig enterRoomConfig3 = this.LLLZL;
        if (enterRoomConfig3 != null && "mall".equals(enterRoomConfig3.mRoomsData.enterFromMerge) && (timeStamp = this.LLLZL.mRoomsData.timeStamps) != null) {
            long j3 = timeStamp.enterRoomStarTime;
            long j4 = timeStamp.enterRoomStarTimeReal;
            if (j3 != -1 || j4 != -1) {
                if (j4 != -1) {
                    j3 = j4;
                }
                long currentTimeMillis2 = System.currentTimeMillis() - j3;
                EnterRoomConfig.ECWrapData eCWrapData = this.LLLZL.mECData;
                HashMap hashMap2 = new HashMap();
                hashMap2.put("real_duration", String.valueOf(currentTimeMillis2));
                if (eCWrapData != null && (hashMap = eCWrapData.ecCommonExtraParam) != null) {
                    hashMap2.putAll(hashMap);
                }
                BZI LIZ3 = C28787BRn.LIZ("livesdk_live_sdk_prepare_finish");
                LIZ3.LJJIFFI(hashMap2);
                LIZ3.LJIIZILJ();
                LIZ3.LJJIIJZLJL();
            }
        }
        StringBuilder LIZ4 = X1D.LIZ();
        LIZ4.append("startRoom -> roomId=");
        LIZ4.append(this.LJLIL);
        LIZ4.append(", userId=");
        LIZ4.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ4));
        this.LLLIIIL = System.currentTimeMillis();
        int i = 2;
        if (!this.LLIILZL) {
            Om(B3N.class);
            Om(C28268B7o.class);
            Om(B4Q.class);
            Om(B4B.class);
            Om(C28166B3q.class);
            Om(C28210B5i.class);
            Om(B4C.class);
            Om(B44.class);
            Om(B4M.class);
            Om(B43.class);
            Om(C30743C4t.class);
            Om(B88.class);
            Om(B89.class);
            Om(C28167B3r.class);
            Om(BNM.class);
            Om(BNL.class);
            this.LLZ.LIZ(C73943T0h.LIZ().LIZLLL(this, B3P.class, new InterfaceC73592SuS() { // from class: X.B3T
                @Override // X.InterfaceC73592SuS
                public final boolean test(Object obj) {
                    return LivePlayFragment.this.getUserVisibleHint();
                }
            }).LIZIZ(new AfS36S0101000_5(2, this, 32)));
            this.LLIILZL = true;
        }
        if (!EventBus.LIZJ().LJI(this)) {
            EventBus.LIZJ().LJIILJJIL(this);
        }
        Event event = new Event("liveplay_start_room_and_player", 1028, EnumC28203B5b.SdkInterfaceCall);
        event.LIZIZ("start room and start player to bind surface.");
        C28643BLz c28643BLz = B57.LIZ;
        c28643BLz.LIZ().LIZIZ(event);
        DataChannel dataChannel3 = this.LLLIIL;
        if (dataChannel3 != null && !this.LLIIZ) {
            this.LLIIZ = true;
            dataChannel3.ov0(this, InteractStateChangeEvent.class, new AObjectS42S0101000_5(3, this, 53));
            dataChannel3.ov0(this, LinkCrossRoomStateChangeEvent.class, new AObjectS42S0101000_5(3, this, 54));
            dataChannel3.ov0(this, VideoGiftStartEvent.class, new AObjectS42S0101000_5(2, this, 56));
            dataChannel3.ov0(this, IsInteractingData.class, new AObjectS42S0101000_5(2, this, 57));
            dataChannel3.ov0(this, PIPStatusData.class, new AObjectS42S0101000_5(2, this, 58));
            dataChannel3.ov0(this, ChangeLoadingViewPosition.class, new AObjectS42S0101000_5(3, this, 60));
            dataChannel3.ov0(this, ShowLoadingViewEvent.class, new AObjectS42S0101000_5(3, this, 61));
            dataChannel3.lv0(this, PaidRoomChannel.class, new AObjectS42S0101000_5(2, this, 31));
            dataChannel3.ov0(this, InteractPlayerViewChangeChannel.class, new AObjectS43S0101000_7(1, this, 3));
            dataChannel3.lv0(this, VideoViewMeasureEvent.class, new AObjectS42S0101000_5(1, this, 37));
            dataChannel3.lv0(this, LandscapeFullScreenEvent.class, new AObjectS45S0101000_13(2, this, 6));
            dataChannel3.lv0(this, SwipeNextEvent.class, new C31457CWf(i, this));
            dataChannel3.ov0(this, PlayerChangeLayoutParamEvent.class, this.h);
            dataChannel3.ov0(this, AudienceVideoViewParams.class, this.g);
            dataChannel3.lv0(this, AccessRecallMessageChannel.class, new AObjectS42S0101000_5(1, this, 39));
            dataChannel3.ov0(this, LivePauseViewSizeChangeEvent.class, new AObjectS42S0101000_5(1, this, 42));
            dataChannel3.ov0(this, MultiGuestPauseViewShowEvent.class, new AObjectS42S0101000_5(1, this, 43));
            dataChannel3.ov0(this, AudienceUpdateShareBgEvent.class, new AObjectS42S0101000_5(1, this, 14));
            dataChannel3.lv0(this, FullScreenSurveyShowing.class, new AObjectS10S0001000_5(0, 0));
            dataChannel3.lv0(this, ProgrammedLiveMenuVisibilityChannel.class, new AObjectS42S0101000_5(2, this, 46));
            dataChannel3.lv0(this, SubOnlyLiveAudienceStatusChannel.class, new AObjectS42S0101000_5(3, this, 21));
            dataChannel3.lv0(this, LockScreenEvent.class, new AObjectS42S0101000_5(4, this, 49));
            dataChannel3.lv0(this, HideParentCloseEvent.class, new AObjectS42S0101000_5(2, this, 50));
            dataChannel3.lv0(this, PreCreateLivePlayerEvent.class, new AObjectS45S0101000_13(2, this, 12));
        }
        DataChannelGlobal.LJLJJI.ov0(PlayerStatusChannel.class, this, new AObjectS42S0101000_5(2, this, 51));
        DataChannel dataChannel4 = this.LLLIIL;
        if (dataChannel4 != null) {
            ((C32537Cpp) dataChannel4.gv0(C28394BCk.class)).LIZ = Long.valueOf(this.LLLZL.mRoomsData.timeStamps.enterRoomStarTimeReal);
            C72545SdZ.LJFF(this.LLLIIL, "start_real", String.valueOf(this.LLLZL.mRoomsData.timeStamps.enterRoomStarTimeReal));
            C72545SdZ.LJFF(this.LLLIIL, "room_container_load", String.valueOf(System.currentTimeMillis() - this.LLLZL.mRoomsData.timeStamps.enterRoomStarTimeReal));
        }
        this.LLZIL = true;
        if (this.LLII != B5V.INITIALIZED) {
            EnterRoomLinkSession LIZ5 = c28643BLz.LIZ();
            Event event2 = new Event("live_play_fragment_state_error", 33813, EnumC28203B5b.BussinessApiCall);
            StringBuilder LIZ6 = X1D.LIZ();
            LIZ6.append("current state:");
            LIZ6.append(this.LLII.name());
            event2.LIZIZ(X1D.LIZIZ(LIZ6));
            LIZ5.LIZIZ(event2);
            c08680Vs.LIZJ = "end_live";
            B4J.LJ(mo49getActivity(), false);
            B4J.LJFF(mo49getActivity(), Boolean.FALSE);
            qm(201L, this.LLII.ordinal(), "state does not match, ");
            if (this.LLLLLILLIL) {
                C28184B4i c28184B4i2 = this.LLLLLLLLL;
                if (c28184B4i2 != null) {
                    c28184B4i2.LJIIJJI();
                    this.LLLLLLLLL.LJIIJ();
                }
                LJIJ();
            }
        } else {
            B32 b32 = this.LLLLLLL;
            if (b32 != null) {
                b32.LIZ = SystemClock.uptimeMillis();
            }
            if (C173216qz.LJLJJI > 0) {
                long currentTimeMillis3 = System.currentTimeMillis() - C173216qz.LJLJJI;
                JSONObject jSONObject = new JSONObject();
                try {
                    jSONObject.put("cold_start_cost_time", currentTimeMillis3);
                } catch (JSONException unused) {
                }
                C0K2.LJIIJJI(0, "ttlive_cold_start_enter_room_all", jSONObject);
                C173216qz.LJLJJI = 0L;
            }
            C28202B5a.LIZ().LIZJ = false;
            if (this.LLJILJILJ != null) {
                if (!this.mStatusDestroyed) {
                    FragmentManager childFragmentManager = getChildFragmentManager();
                    C1B3 LIZ7 = C1B6.LIZ(childFragmentManager, childFragmentManager);
                    LIZ7.LJJI(this.LLJILJILJ);
                    LIZ7.LJI();
                }
                this.LLJILJILJ = null;
            }
            this.LLII = B5V.PREPARING;
            EnterRoomConfig.RoomsData roomsData3 = this.LLLZL.mRoomsData;
            String str2 = roomsData3.warmUpPlayerTag;
            if (str2 != null) {
                this.LLLLZ = str2;
            }
            if (!C38354F3m.LIZJ("inner_draw", roomsData3.enterRoomScene)) {
                EnterRoomConfig.TimeStamp timeStamp2 = this.LLLZL.mRoomsData.timeStamps;
                this.LLLF = timeStamp2.enterRoomStarTime;
                this.LLLFF = timeStamp2.enterRoomStarTimeReal;
            }
            B3K b3k = this.LLLLZI;
            long j5 = this.LLLFF;
            long j6 = this.LLLF;
            long j7 = this.LLLFFI;
            if (TextUtils.isEmpty(this.LJLJL)) {
                TextUtils.isEmpty(this.LJLJLLL);
            }
            EnterRoomConfig enterRoomConfig4 = this.LLLZL;
            Long l = enterRoomConfig4.mRoomsData.timeStamps.enterRoomStarInnerTime;
            if (l == null) {
                System.currentTimeMillis();
            } else {
                l.longValue();
            }
            if (TextUtils.equals(enterRoomConfig4.mRoomsData.enterRoomScene, "inner_draw")) {
                str = "draw";
            } else {
                str = "click";
            }
            EnterRoomConfig.RoomsData roomsData4 = enterRoomConfig4.mRoomsData;
            String str3 = roomsData4.actionType;
            String str4 = roomsData4.enterFromMerge;
            String str5 = roomsData4.enterMethod;
            if (b3k == null) {
                long j8 = roomsData4.roomId;
                b3k = new B3K();
                b3k.LJ = j8;
            }
            if (j5 == 0) {
                j5 = System.currentTimeMillis();
            }
            b3k.LJI = j5;
            if (j6 == 0) {
                j6 = System.currentTimeMillis();
            }
            b3k.LJFF = j6;
            if (TextUtils.isEmpty(str)) {
                str = "other";
            }
            b3k.LIZ = str;
            b3k.LIZIZ = str3;
            if (TextUtils.isEmpty(str4)) {
                str4 = "other";
            }
            b3k.LIZJ = str4;
            if (TextUtils.isEmpty(str5)) {
                str5 = "other";
            }
            b3k.LIZLLL = str5;
            TextUtils.isEmpty("");
            InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(enterRoomConfig4.mRoomsData.warmUpPlayerTag);
            if (LIZIZ != null) {
                LIZIZ.isPlaying();
            }
            b3k.LJII = j7;
            InterfaceC28296B8q interfaceC28296B8q = this.l;
            long j9 = this.LJLIL;
            long j10 = this.LLLFF;
            if (j10 <= 0) {
                j10 = this.LLLF;
            }
            interfaceC28296B8q.LJIIIZ(j9, j10);
            if (this.LLLLLILLIL && this.LLIIIJ != null) {
                km();
                this.LLIIIJ.tryToUploadFirstScreenTime();
                this.LLIIIJ.tryToStartAudioDevice();
            }
            B32 b322 = this.LLLLLLL;
            ((HashMap) b322.LJI).clear();
            ((HashMap) b322.LJFF).clear();
            ((HashMap) b322.LJFF).put("n_time_start_room", Long.valueOf(System.currentTimeMillis()));
            B45 messageTimeTracker = ((IMessageService) CN1.LIZ(IMessageService.class)).getMessageTimeTracker();
            if (messageTimeTracker != null) {
                messageTimeTracker.LIZ("enter_room_start");
            }
            ?? r3 = this.LLLZL.mRoomsData.enterType;
            ((C32537Cpp) this.LLLIIL.gv0(C28388BCe.class)).LIZ = r3;
            BJ9 bj92 = this.LLIIII;
            bj92.LJJII = r3;
            bj92.LJJIJIIJI = this.LLLIIL;
            long currentTimeMillis4 = System.currentTimeMillis();
            bj92.LJIJ = currentTimeMillis4;
            bj92.LJIJI = currentTimeMillis4;
            bj92.LJIIZILJ = false;
            B4N LIZIZ2 = B4N.LIZIZ();
            EnterRoomConfig enterRoomConfig5 = bj92.LJIIJ;
            long j11 = bj92.LJIIJJI;
            LIZIZ2.LIZIZ = true;
            ((HashMap) LIZIZ2.LJ).put("audience_live_play_enter_room_config", enterRoomConfig5);
            ((HashMap) LIZIZ2.LJ).put("audience_live_play_room_id", String.valueOf(j11));
            LIZIZ2.LIZJ = SystemClock.elapsedRealtime();
            LIZIZ2.LIZJ();
            C0NB.LJIIIZ("AudienceLivePlayTaskManager", "startRoomDuration");
            bj92.LJIILLIIL = SystemClock.elapsedRealtime();
            bj92.LJJIJIIJIL = SystemClock.elapsedRealtime();
            ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).uk0(bj92.LJIIJJI, bj92.LJJJLZIJ);
            ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).C50(bj92.LJIIJJI, bj92.LJJJZ);
            if (bj92.LJIIL) {
                bj92.LJJI = bj92.LJIILLIIL;
            }
            bj92.LIZIZ = true;
            Handler handler = bj92.LJFF;
            if (handler != null) {
                handler.post(bj92.LJ);
                bj92.LJFF.postDelayed(new ARunnableS18S0101000_14(1, bj92, 21), 10000L);
                bj92.LJFF.postDelayed(new ARunnableS18S0101000_14(1, bj92, 22), 30000L);
            }
            bj92.LJJJ.add(new B7G(EnumC28204B5c.START, bj92.LJIILLIIL));
            B48.LIZ = SystemClock.elapsedRealtime();
            BTH.LJLLILLLL = 0L;
            LiveMode liveMode = this.LJLLJ;
            if ((liveMode == LiveMode.THIRD_PARTY || liveMode == LiveMode.SCREEN_RECORD || liveMode == LiveMode.LIVE_STUDIO) && (bj9 = this.LLIIII) != null) {
                bj9.LJIL = SystemClock.elapsedRealtime();
            }
            ((C32537Cpp) this.LLLIIL.gv0(BCL.class)).LIZ = Long.valueOf(SystemClock.elapsedRealtime());
            this.LLIIII.LJJIL = this.LLLZL.mRoomsData.enterFromMergeRecommend;
            Km(true);
            ((C32537Cpp) this.LLLIIL.gv0(BCQ.class)).LIZ = Boolean.TRUE;
            HashMap<String, String> Vl2 = Vl();
            StringBuilder LIZ8 = X1D.LIZ();
            Vl2.put("param_live_enter_room_start_time", C0H1.LIZJ(LIZ8, this.LLLF, "", LIZ8));
            C28184B4i c28184B4i3 = this.LLLLLLLLL;
            if (c28184B4i3 != null) {
                c28184B4i3.LJIIJJI();
            }
            if (LiveMessageWsReuseSetting.webSocketReuse) {
                IMessageManager reuse = ((IMessageService) CN1.LIZ(IMessageService.class)).getReuse();
                if (reuse == null) {
                    o = ((IMessageService) CN1.LIZ(IMessageService.class)).messageManagerProvider(this.LLLZL.mRoomsData.roomId, false, getContext(), true);
                } else {
                    ((IMessageService) CN1.LIZ(IMessageService.class)).updateRoomInfo(this.LLLZL.mRoomsData.roomId, getContext());
                    o = reuse;
                }
                if (this.LLLIIL.kv0(C29927Bop.class) == null) {
                    ((C32537Cpp) this.LLLIIL.gv0(C29927Bop.class)).LIZ = o;
                }
            }
            if (!this.LLIL) {
                C72818Shy.LIZLLL("ttlive_report_preview", this);
                C72818Shy.LIZLLL("ttlive_report_success", this);
                C72818Shy.LIZLLL("anchor_sub_gift_balance_changed", this);
                C72818Shy.LIZLLL("user_border_update_event", this);
                this.LLIL = true;
            }
            B34 b34 = this.e;
            if (b34 != null && !this.LLLLLILLIL && !this.LLLLZLLLI) {
                b34.LIZ();
            }
            if (Dl()) {
                C10640bM.LIZIZ(this.LLLLLL, new IDRunnableS6S0101000(1, this, 12), "log_enter_room_rate_token", 10000L);
            }
        }
        B3I b3i = this.LLIIIZ;
        b3i.LIZIZ = true;
        b3i.LIZ();
        if (this.LLLIIL == null) {
            return;
        }
        if (RankRequestOptSetting.INSTANCE.getValue() == 1 && (enterRoomConfig = this.LLLZL) != null && (b7i = C29162BcU.LIZJ.LIZIZ) != null) {
            EnterRoomConfig.RoomsData roomsData5 = enterRoomConfig.mRoomsData;
            b7i.LIZ(roomsData5.roomId, roomsData5.enterUserId);
        }
        this.LLLIIL.rv0(RoomComponentsV2Channel.class, new B5B());
    }

    public final void Cn() {
        IMessageManager reuse;
        if (!this.w || !this.LLLZI || this.x || (reuse = ((IMessageService) CN1.LIZ(IMessageService.class)).getReuse()) == null) {
            return;
        }
        reuse.startPrefetchMessage();
        this.x = true;
    }

    @Override // X.BKJ
    public final void Db() {
        B4V b4v = this.LLILL;
        if (b4v != null) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("roomid:");
            LIZ.append(this.LJLIL);
            String LIZIZ = X1D.LIZIZ(LIZ);
            View view = b4v.LIZ;
            if ((view instanceof SurfaceView) && (view.getParent() instanceof ViewGroup)) {
                int i = Resources.getSystem().getDisplayMetrics().heightPixels;
                Object parent = b4v.LIZ.getParent();
                o.LJII(parent, "null cannot be cast to non-null type android.view.ViewGroup");
                float translationX = ((View) parent).getTranslationX();
                Object parent2 = b4v.LIZ.getParent();
                o.LJII(parent2, "null cannot be cast to non-null type android.view.ViewGroup");
                ((View) parent2).setTranslationX(i * 5.0f);
                Object parent3 = b4v.LIZ.getParent();
                o.LJII(parent3, "null cannot be cast to non-null type android.view.ViewGroup");
                if (translationX == ((View) parent3).getTranslationX()) {
                    return;
                }
                C15610jN.LIZ().postDelayed(new ARunnableS6S1100000_5(b4v, LIZIZ, 4), 100L);
                StringBuilder LIZ2 = X1D.LIZ();
                LIZ2.append("In room: detachSurfaceView, detach reason: ");
                LIZ2.append(LIZIZ);
                B4I.LIZ("LiveRoomVideoView", X1D.LIZIZ(LIZ2));
            }
        }
    }

    public final boolean Dl() {
        if (!LiveEnterRoomRateTrackerSetting.INSTANCE.enable() || this.LLJJJIL) {
            return false;
        }
        return true;
    }

    public final void Jl() {
        if (this.LLLZL.mFeedCoverData.enterPreviewSmooth && (getContext() instanceof Activity)) {
            Activity activity = (Activity) getContext();
            try {
                boolean z2 = false;
                Method declaredMethod = Activity.class.getDeclaredMethod("convertFromTranslucent", new Class[0]);
                declaredMethod.setAccessible(true);
                declaredMethod.invoke(activity, new Object[0]);
                Drawable drawable = getContext().getDrawable(R.color.my);
                activity.getWindow().setBackgroundDrawable(drawable);
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append("smooth enter convertActivityFromTranslucent(), drawable = ");
                if (drawable == null) {
                    z2 = true;
                }
                LIZ.append(z2);
                B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
            } catch (Throwable unused) {
            }
        }
    }

    public final void Kl() {
        if (LiveCheckRoomWhenDismissAllDialogsSetting.INSTANCE.getValue()) {
            Room room = (Room) DataChannelGlobal.LJLJJI.mv0(C29044Baa.class);
            if (room == null || this.LJLIL == room.getId()) {
                ((IBrowserService) CN1.LIZ(IBrowserService.class)).Yd0().LIZ();
                return;
            } else {
                C0NB.LJIIIZ("HybridDialogs", "Skip dismissing all dialogs due to calling from room that is not showing.");
                return;
            }
        }
        ((IBrowserService) CN1.LIZ(IBrowserService.class)).Yd0().LIZ();
    }

    public final void LJII() {
        InterfaceC28169B3t interfaceC28169B3t = this.LLLLZLL;
        if (interfaceC28169B3t != null) {
            interfaceC28169B3t.LJIJ();
        }
        if (this.LLLZI && this.LLIFFJFJJ != 0) {
            FrameLayout.LayoutParams layoutParams = new FrameLayout.LayoutParams(-2, -2);
            if (this.LLFFF == 1) {
                layoutParams.topMargin = this.LLIFFJFJJ;
                layoutParams.gravity = 1;
            } else {
                layoutParams.leftMargin = this.LLILZLL.getWidth() / 2;
                layoutParams.gravity = 16;
            }
            this.LLLLZLLIL.setLayoutParams(layoutParams);
        }
        View view = this.LLLLZLLIL;
        InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
        if (LIZIZ != null && LIZIZ.LJIJJLI()) {
            C29306Beo.LJI(view);
            B3C b3c = this.f;
            b3c.LIZJ = false;
            b3c.LIZIZ(false);
            return;
        }
        if (!this.LLZL && LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.LLLIIL)) {
            C29306Beo.LJI(view);
            B3C b3c2 = this.f;
            b3c2.LIZJ = false;
            b3c2.LIZIZ(false);
            return;
        }
        C29306Beo.LJJLJLI(view);
        B3C b3c3 = this.f;
        b3c3.LIZJ = true;
        if (!this.LLLZI || b3c3.LIZLLL) {
            return;
        }
        b3c3.LIZIZ(true);
    }

    public final void LJIJ() {
        View view = this.LLLLZLLIL;
        if (view != null) {
            view.setVisibility(8);
        }
        this.LLLLLJLJLL.removeMessages(37);
        InterfaceC28169B3t interfaceC28169B3t = this.LLLLZLL;
        if (interfaceC28169B3t != null) {
            interfaceC28169B3t.LJIJ();
        }
        B3C b3c = this.f;
        b3c.LIZJ = false;
        b3c.LIZIZ(false);
    }

    @Override // X.BKJ
    public final void LJLJJL() {
        C0NB.LJIIIZ("picture_in_picture", "LivePlayFragment#onUserLeaveHint called");
        ARunnableS11S0101000_7 aRunnableS11S0101000_7 = new ARunnableS11S0101000_7(1, this, 4);
        if (LivePipKeyboardOptSetting.INSTANCE.getValue()) {
            C0NB.LJIIIZ("picture_in_picture", "pip task post run");
            C15610jN.LIZ().post(aRunnableS11S0101000_7);
        } else {
            C0NB.LJIIIZ("picture_in_picture", "pip task run now");
            aRunnableS11S0101000_7.run();
        }
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null) {
            dataChannel.qv0(AppEnterBackgroundEvent.class, Boolean.TRUE);
        }
        ActivityC45651qj mo49getActivity = mo49getActivity();
        if (mo49getActivity != null) {
            BTH.LJLIL.onActivityStopped(mo49getActivity);
        }
    }

    @Override // X.BKJ
    public final void LLZLI() {
        B4V b4v = this.LLILL;
        if (b4v != null) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("roomid:");
            LIZ.append(this.LJLIL);
            String LIZIZ = X1D.LIZIZ(LIZ);
            View view = b4v.LIZ;
            if (view instanceof SurfaceView) {
                if (view.getParent() instanceof ViewGroup) {
                    Object parent = b4v.LIZ.getParent();
                    o.LJII(parent, "null cannot be cast to non-null type android.view.ViewGroup");
                    ((View) parent).setTranslationX(0.0f);
                }
                StringBuilder LIZ2 = X1D.LIZ();
                LIZ2.append("In room: attachSurfaceView, attach reason: ");
                LIZ2.append(LIZIZ);
                B4I.LIZ("LiveRoomVideoView", X1D.LIZIZ(LIZ2));
            }
        }
    }

    public final void Mm() {
        B35 b35;
        if (this.LLZIL) {
            Km(false);
            if ((BTH.LJLILLLLZI || (C28202B5a.LIZ().LIZIZ && C30184Bsy.LIZIZ(mo49getActivity()))) && (b35 = this.LLIIIJ) != null) {
                b35.setMuteNew(true, "internal window keep mute after page changed");
            }
        }
    }

    @Override // X.BKJ
    public final void Nc() {
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null && this.LLJILJILJ != null) {
            dataChannel.pv0(DispatchRoomLoadEvent.class);
        }
    }

    public final boolean Nn() {
        if (LiveServerGiveGaussianBackground.INSTANCE.getValue() > 0) {
            return true;
        }
        return false;
    }

    @Override // X.BKJ
    public final B5V O3() {
        if (this.LLLLLZIL) {
            return B5V.DETACHED;
        }
        return this.LLII;
    }

    @Override // X.InterfaceC62632d1
    public final void O8() {
        View view;
        View findViewById;
        View view2 = this.LLLLLLZZ;
        if (view2 != null && (findViewById = view2.findViewById(R.id.n4h)) != null && findViewById.getVisibility() != 8) {
            findViewById.setVisibility(8);
        }
        if (Build.VERSION.SDK_INT >= 23 && (view = this.LLLLLLZZ) != null) {
            view.findViewById(R.id.n4h).setForeground(null);
        }
        ViewGroup viewGroup = this.LLILLIZIL;
        if (viewGroup != null) {
            viewGroup.setBackground(null);
        }
    }

    public final String Ol() {
        int i;
        int i2;
        if (Build.VERSION.SDK_INT < 26) {
            return "sdk version low";
        }
        ActivityC45651qj mo49getActivity = mo49getActivity();
        if (mo49getActivity == null || !C29306Beo.LJJIII(mo49getActivity)) {
            return "activity not valid";
        }
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null && (((Boolean) dataChannel.kv0(PIPStatusData.class)).booleanValue() || ((Boolean) this.LLLIIL.kv0(FullScreenSurveyShowing.class)).booleanValue())) {
            return "pip or survey now";
        }
        if (((IInteractService) CN1.LIZ(IInteractService.class)).Ao()) {
            return "AUDIENCE link mic";
        }
        Room room = this.LJLJI;
        if (room != null && room.getOwner() != null && this.LJLJI.getOwner().getSecret() == 1) {
            return "secret room";
        }
        if (((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).Rb(Long.valueOf(this.LJLIL))) {
            return "quiz room";
        }
        if (((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).n20(Long.valueOf(this.LJLIL))) {
            return "voice chat room";
        }
        if (LiveReportMaskWidget.LJLJJLL.contains(Long.valueOf(this.LJLIL))) {
            return "report mask";
        }
        if (!BKY.LIZIZ().LIZJ()) {
            DialogC77438UaI dialogC77438UaI = this.LLJILJIL;
            if (dialogC77438UaI != null && dialogC77438UaI.isShowing()) {
                return "dialog showing";
            }
            if (!this.LLLZI) {
                return "no first frame";
            }
            if (!C30184Bsy.LIZLLL() || !getUserVisibleHint()) {
                return "pip not open or not visible";
            }
            View Yl = Yl();
            this.LLLZZ = new PictureInPictureParams.Builder();
            Ln(R.drawable.cym, 1, 1);
            if (Yl != null) {
                i2 = Yl.getWidth();
                i = Yl.getHeight();
            } else {
                i = 0;
                i2 = 0;
            }
            if (i2 != 0 && i != 0) {
                Rational rational = new Rational(i2, i);
                StringBuilder LIZJ = C06460Ne.LIZJ("width is ", i2, ", height is ", i, " aspect ratio");
                LIZJ.append(rational);
                C0NB.LJIIIZ("picture_in_picture", X1D.LIZIZ(LIZJ));
                float f = i2 / i;
                if (Float.compare(0.41841003f, f) <= 0 && Float.compare(f, 2.39f) <= 0) {
                    this.LLLZZ.setAspectRatio(rational);
                } else {
                    return "Aspect ratio error";
                }
            }
            if (mo49getActivity.enterPictureInPictureMode(this.LLLZZ.build())) {
                KL2.LJIILLIIL(8, this.LLLLLLZZ.findViewById(R.id.dm7));
                DataChannel dataChannel2 = this.LLLIIL;
                if (dataChannel2 != null) {
                    dataChannel2.rv0(PIPStatusData.class, Boolean.TRUE);
                    C0NB.LJIIIZ("picture_in_picture", "data center set true");
                    if (((IInteractService) CN1.LIZ(IInteractService.class)).xz(((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId()) == B5Y.NORMAL_AUDIENCE) {
                        xl();
                        return "enter success";
                    }
                    return "enter success";
                }
                return "enter success";
            }
            return "enter failed";
        }
        return "dialog showing";
    }

    /* JADX WARN: Multi-variable type inference failed */
    public final void Ql() {
        Fragment parentFragment;
        O o;
        if (this.LLLIIL == null) {
            return;
        }
        if ((((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isOffline() || ((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isLiveInhouse()) && (parentFragment = getParentFragment()) != null && (parentFragment instanceof LiveRoomFragment)) {
            LiveRoomFragment liveRoomFragment = (LiveRoomFragment) parentFragment;
            DataChannel dataChannel = this.LLLIIL;
            if (liveRoomFragment.LLF == null || liveRoomFragment.LLFFF == null || ((!((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isOffline() && !((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isLiveInhouse()) || liveRoomFragment.getCurrentFragment() == null || liveRoomFragment.getCurrentFragment().B2() == null)) {
                o = "";
            } else {
                o = liveRoomFragment.LLFFF.LJIIL(0, liveRoomFragment.getCurrentFragment().B2().getId());
            }
            ((C32537Cpp) dataChannel.gv0(C28392BCi.class)).LIZ = o;
        }
    }

    public final void Qm() {
        if (this.LLLZL.mFeedCoverData.enterPreviewSmooth) {
            if (this.LLJILLL instanceof CVS) {
                ImageView imageView = this.LLIZ;
                if (imageView != null) {
                    imageView.post(new IDRunnableS6S0101000(2, this, 19));
                    return;
                }
                return;
            }
            ImageView imageView2 = this.LLIZ;
            if (imageView2 == null || this.LLIZLLLIL == null) {
                return;
            }
            imageView2.post(new IDRunnableS6S0101000(2, this, 4));
            if (!(this.LLIZ.getParent() instanceof ViewGroup)) {
                return;
            }
            C16880lQ.LJLLL(this.LLIZ, (ViewGroup) this.LLIZ.getParent());
            this.LLIZ = null;
            this.LLIZLLLIL.recycle();
            this.LLIZLLLIL = null;
            B4I.LIZ("LivePlayFragment", "smooth enter removeView frameView");
        }
    }

    public final void Rl() {
        boolean z2;
        if (SurveyStyleSetting.INSTANCE.isFullScreenStyle()) {
            int[] iArr = new int[2];
            B35 b35 = this.LLIIIJ;
            if (b35 != null) {
                b35.getVideoSize(iArr);
            }
            if (this.LLLZ && this.LLLZI && iArr[0] <= iArr[1] && this.LLFFF == 1) {
                this.LLJLIL = (C78140Ulc) this.LLLLLLZZ.findViewById(R.id.dpe);
                if (Im().J3() > 0) {
                    C78140Ulc c78140Ulc = this.LLJLIL;
                    View view = this.LLJ;
                    long j = this.LJLIL;
                    DataChannel dataChannel = this.LLLIIL;
                    if (Im().J3() == 1) {
                        z2 = true;
                    } else {
                        z2 = false;
                    }
                    c78140Ulc.LJFF(this, view, j, dataChannel, z2);
                }
            }
        }
    }

    public final InterfaceC28211B5j Sl() {
        if (this.d == null) {
            synchronized (this) {
                if (this.d == null) {
                    this.d = ((IHostMonitorAndLog) CN1.LIZ(IHostMonitorAndLog.class)).Xd0();
                }
            }
        }
        return this.d;
    }

    public final void Sm() {
        C28461BEz c28461BEz = this.LLIIIILZ;
        if (c28461BEz == null) {
            return;
        }
        c28461BEz.LIZJ();
        this.LLIIIILZ = null;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("resetEnterRoom -> roomId=");
        LIZ.append(this.LJLIL);
        LIZ.append(", userId=");
        LIZ.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
    }

    public final String Tl() {
        LiveMode liveMode = (LiveMode) this.LLLIIL.kv0(BCX.class);
        if (liveMode == null || liveMode.equals(LiveMode.VIDEO)) {
            return "video_live";
        }
        if (liveMode.equals(LiveMode.THIRD_PARTY)) {
            return "third_party";
        }
        if (liveMode.equals(LiveMode.SCREEN_RECORD)) {
            return "screen_share";
        }
        if (!liveMode.equals(LiveMode.LIVE_STUDIO)) {
            return "video_live";
        }
        return "live_studio";
    }

    @Override // X.BKJ
    public final void U5() {
        if (this.LLIIII != null && this.LJLJI != null && !C38354F3m.LJ(this.LLZZZZ)) {
            BJ9 bj9 = this.LLIIII;
            final Room room = this.LJLJI;
            final String str = this.LLZZZZ;
            final boolean z2 = this.LLZZZIL;
            final DataChannel dataChannel = this.LLLIIL;
            bj9.getClass();
            if (!UnusedLogOfflineSetting.INSTANCE.isEnable("livesdk_live_abnormal_pass")) {
                return;
            }
            C70657RoD.LJJI(0.01d, new InterfaceC65784Pro() { // from class: X.B3A
                @Override // X.InterfaceC65784Pro
                public final Object invoke() {
                    long j;
                    String str2;
                    Room room2 = Room.this;
                    DataChannel dataChannel2 = dataChannel;
                    String str3 = str;
                    boolean z3 = z2;
                    if (room2.getOwner() != null) {
                        j = room2.getOwner().getId();
                    } else {
                        j = 0;
                    }
                    long id = room2.getId();
                    BZI LIZ = C28787BRn.LIZ("livesdk_live_abnormal_pass");
                    LIZ.LJIILLIIL(dataChannel2);
                    LIZ.LJIJJ(Long.valueOf(id), "room_id");
                    LIZ.LJIJJ(Long.valueOf(j), "anchor_id");
                    LIZ.LJIJJ(str3, "abnormal_reason");
                    if (z3) {
                        str2 = "1";
                    } else {
                        str2 = CardStruct.IStatusCode.DEFAULT;
                    }
                    LIZ.LJIJJ(str2, "is_auto_pass");
                    LIZ.LJJIIJZLJL();
                    return C76800UCe.LIZ;
                }
            });
        }
    }

    @Override // X.InterfaceC28159B3j
    public final void U7() {
        InterfaceC28159B3j interfaceC28159B3j = this.LLJL;
        if (interfaceC28159B3j != null) {
            interfaceC28159B3j.U7();
        }
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            bj9.LJIL = SystemClock.elapsedRealtime();
        }
    }

    @Override // X.BKJ
    public final void Uj() {
        B3C b3c = this.f;
        b3c.LIZJ = false;
        b3c.LIZIZ(false);
        B35 b35 = this.LLIIIJ;
        if (b35 != null) {
            b35.stop(false);
        }
        if (this.LLLLZ != null) {
            ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LJIIJ(this.LLLLZ);
        }
    }

    @Override // X.BKJ
    public final void Vh() {
        C31811Ce7.LIZLLL("invite_issue_check", "LinkIn_Guest_stopWhenSliding");
        this.LLZ.LIZLLL();
        this.LLIILZL = false;
        T4();
    }

    @Override // X.InterfaceC28159B3j
    public final void Vi() {
        InterfaceC28159B3j interfaceC28159B3j = this.LLJL;
        if (interfaceC28159B3j != null) {
            interfaceC28159B3j.Vi();
        }
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            bj9.LJIIIZ(true);
        }
    }

    /* JADX WARN: Type inference failed for: r2v2, types: [java.util.HashMap, java.util.HashMap<java.lang.String, java.lang.String>, O] */
    public final HashMap<String, String> Vl() {
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel == null) {
            return new HashMap<>();
        }
        HashMap<String, String> hashMap = (HashMap) dataChannel.kv0(C28386BCc.class);
        if (hashMap == null) {
            ?? hashMap2 = new HashMap();
            ((C32537Cpp) this.LLLIIL.gv0(C28386BCc.class)).LIZ = hashMap2;
            return hashMap2;
        }
        return hashMap;
    }

    public final void Vm() {
        FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) this.LLILL.LIZIZ();
        layoutParams.width = -1;
        layoutParams.height = -1;
        layoutParams.gravity = 17;
        layoutParams.rightMargin = 0;
        layoutParams.bottomMargin = 0;
        layoutParams.topMargin = 0;
        this.LLILL.LIZLLL(layoutParams, "resetPlayerViewLayoutParams");
    }

    public final LiveMode Wl() {
        EnterRoomConfig.RoomsData roomsData;
        EnterRoomConfig enterRoomConfig = this.LLLZL;
        if (enterRoomConfig == null || (roomsData = enterRoomConfig.mRoomsData) == null) {
            return null;
        }
        LiveMode liveMode = roomsData.streamType;
        if (C30922CBq.LIZIZ) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("stream type = ");
            LIZ.append(liveMode);
            B4I.LIZ("resize_watch_game_live", X1D.LIZIZ(LIZ));
        }
        return liveMode;
    }

    public final RecyclableWidgetManager cm() {
        if (LiveRecycleWidgetManagerOptSetting.INSTANCE.getValue()) {
            if (this.j == null) {
                this.j = RecyclableWidgetManager.of(this, this.LLLLLLZZ, LiveWidgetProviderProxy.getInstance(), C30326BvG.LIZ);
            }
            return this.j;
        }
        return RecyclableWidgetManager.of(this, this.LLLLLLZZ, LiveWidgetProviderProxy.getInstance(), C30326BvG.LIZ);
    }

    /* JADX WARN: Type inference failed for: r1v1, types: [java.lang.Boolean, O] */
    public final boolean dn() {
        boolean z2;
        if (LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.LLLIIL) && (!TextUtils.isEmpty(this.LLLZL.mRoomsData.preLoadRoomInfo) || (this.LJLJI != null && TextUtils.equals(this.LLLZL.mRoomsData.actionType, "draw") && !TextUtils.equals(this.LLLZL.mRoomsData.enterFromMerge, "live_merge") && !TextUtils.equals(this.LLLZL.mRoomsData.enterMethod, "live_cover")))) {
            z2 = true;
        } else {
            z2 = false;
        }
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null) {
            ((C32537Cpp) dataChannel.gv0(BCV.class)).LIZ = Boolean.valueOf(z2);
        }
        return z2;
    }

    @Override // X.BKJ
    public final void el() {
        DataChannel dataChannel;
        C31811Ce7.LIZLLL("invite_issue_check", "LinkIn_Guest_releasePlayerForNextRoomPrePullStream");
        this.LLZ.LIZLLL();
        if ((MultiGuestV3RoomLoadingOptSetting.INSTANCE.isEnable() || MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable()) && (dataChannel = this.LLLIIL) != null) {
            Boolean bool = Boolean.FALSE;
            dataChannel.rv0(HadInitLinkMicChannel.class, bool);
            this.LLLIIL.rv0(MultiGuestV3CanExposeForPlayerOptChannel.class, bool);
        }
        this.LLIILZL = false;
        B35 b35 = this.LLIIIJ;
        if (b35 == null) {
            if (this.LLLLZ != null && !this.LLLLLILLIL) {
                ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).PX(this.LLLLZ);
            }
            this.LLLLZ = null;
            return;
        }
        b35.stop(false);
        ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LJIIJ(this.LLLLZ);
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("prePull stream stopRoomWithoutReleasePlayer -> roomId=");
        LIZ.append(this.LJLIL);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        this.LLLLLJLJLL.removeCallbacksAndMessages(null);
        Hl(115, this.LJLIL, "change page");
        Il(B3O.LIZ);
        ((HashSet) C74838TYs.LJ().LJJJ).add(Long.valueOf(this.LJLIL));
        xn(false);
        C28733BPl.LJIILIIL().getClass();
        C0NE.LIZ("invite_issue_check", "LinkIn_Guest_stopRoomWithoutReleasePlayer");
        B3I b3i = this.LLIIIZ;
        b3i.LIZIZ = false;
        b3i.LIZ();
        B35 b352 = this.LLIIIJ;
        if (b352 != null) {
            b352.recycle();
        }
        this.LLIIIJ = null;
        this.l.LJIIIIZZ("release_for_next");
    }

    public final void fm() {
        AbsAudienceInteractionFragment absAudienceInteractionFragment = this.LLJIJIL;
        if (absAudienceInteractionFragment == null) {
            return;
        }
        absAudienceInteractionFragment.hideFloatFragment();
        if (!this.mStatusDestroyed) {
            try {
                C74838TYs.LJ().LJJIJIIJI = true;
                IInteractService iInteractService = (IInteractService) CN1.LIZ(IInteractService.class);
                if (iInteractService != null) {
                    iInteractService.BL(this, this.LLLIIL);
                }
                FragmentManager childFragmentManager = getChildFragmentManager();
                childFragmentManager.getClass();
                C1B3 c1b3 = new C1B3(childFragmentManager);
                c1b3.LJJI(this.LLJIJIL);
                c1b3.LJII();
            } catch (Throwable th) {
                C0NB.LIZLLL(th.getMessage());
            }
        }
        PreLoadInteractionLayer preLoadInteractionLayer = this.LLZLLLL;
        if (preLoadInteractionLayer != null) {
            preLoadInteractionLayer.clear();
        }
        this.LLJIJIL = null;
    }

    @Override // X.BKJ
    public final String getCurrentUrl() {
        B35 b35 = this.LLIIIJ;
        if (b35 == null) {
            return "";
        }
        return b35.getCurrentUrl();
    }

    public final void hm() {
        if (this.LL) {
            return;
        }
        if (this.LJLLJ == LiveMode.AUDIO) {
            this.LLILLJJLI.setBackgroundResource(R.drawable.cqu);
            this.LL = true;
            return;
        }
        if (BadPhonesWatchLiveCommonUIOptSetting.INSTANCE.getDisableGaussBlurred() || LiveHotDegradeSetting.INSTANCE.disableGaussBg()) {
            return;
        }
        if (Nn() && C32151Nz.LJJIIZI(this.LJLJJLL)) {
            BL8.LIZJ(this.LLILLJJLI, this.LJLJJLL);
            this.LL = true;
        } else {
            if (!C32151Nz.LJJIIZI(this.LJLJJL)) {
                return;
            }
            BL8.LIZ(this.LLILLJJLI, this.LJLJJL, getContext());
            this.LL = true;
        }
    }

    public final void km() {
        B4F logger;
        B35 b35 = this.LLIIIJ;
        if (b35 == null || (logger = b35.getLogger()) == null) {
            return;
        }
        B3K b3k = this.LLLLZI;
        C28639BLv c28639BLv = (C28639BLv) logger;
        c28639BLv.LIZIZ = b3k;
        if (b3k != null) {
            long j = b3k.LJFF;
            if (j == -1) {
                return;
            }
            c28639BLv.LJI(Long.valueOf(j), "start");
            c28639BLv.LJI(Long.valueOf(b3k.LJI), "start_real");
        }
    }

    public final boolean mm() {
        EnterRoomConfig.SearchWrapData searchWrapData;
        EnterRoomConfig.SearchWrapData searchWrapData2;
        EnterRoomConfig enterRoomConfig = this.LLLZL;
        if (enterRoomConfig != null && (searchWrapData = enterRoomConfig.mSearchData) != null && searchWrapData.isFromSearch) {
            if (enterRoomConfig == null || (searchWrapData2 = enterRoomConfig.mSearchData) == null) {
                return false;
            }
            return searchWrapData2.isSearchHasMore;
        }
        Fragment parentFragment = getParentFragment();
        if (!(parentFragment instanceof LiveRoomFragment)) {
            return false;
        }
        LiveRoomFragment liveRoomFragment = (LiveRoomFragment) parentFragment;
        int currentItem = liveRoomFragment.LLF.getCurrentItem();
        if (currentItem < 0) {
            return false;
        }
        if (!liveRoomFragment.LLFFF.LJIILL() && liveRoomFragment.LLFII.getCount() - (currentItem + 1) <= 0) {
            return false;
        }
        return true;
    }

    public final boolean nm() {
        boolean z2;
        boolean z3;
        MultiLiveUserSettings multiLiveUserSettings;
        MultiLiveUserApplySettings multiLiveUserApplySettings;
        Integer num;
        if (!MultiGuestV3RoomLoadingOptSetting.INSTANCE.isEnable()) {
            return ((IInteractService) CN1.LIZ(IInteractService.class)).Y40();
        }
        Room room = this.LJLJI;
        if (room != null && room.isWithLinkMic() && this.LJLJI.getLinkMicInfo() != null && this.LJLJI.getLinkMicInfo().MultiLiveType == 1) {
            z2 = true;
        } else {
            z2 = false;
        }
        Room room2 = this.LJLJI;
        if (room2 != null && (multiLiveUserSettings = room2.multiLiveUserSettings) != null && (multiLiveUserApplySettings = multiLiveUserSettings.multiLiveUserApplySettings) != null && (num = multiLiveUserApplySettings.linkMicServiceVersion) != null && num.intValue() == 1) {
            z3 = true;
        } else {
            z3 = false;
        }
        if (((IInteractService) CN1.LIZ(IInteractService.class)).Y40() || z2 || z3) {
            return true;
        }
        return false;
    }

    public final boolean om() {
        MultiLiveUserSettings multiLiveUserSettings;
        CoHost coHost;
        Room room = this.LJLJI;
        if (room != null && (multiLiveUserSettings = room.multiLiveUserSettings) != null && (coHost = multiLiveUserSettings.coHost) != null && !coHost.multiCoHostPermission) {
            return true;
        }
        return false;
    }

    public final void on() {
        List<String> list;
        int i;
        if (this.LLILLL == null || this.LLLZZIL) {
            return;
        }
        TtliveGameOtherBackgroundImageOptimizeSetting ttliveGameOtherBackgroundImageOptimizeSetting = TtliveGameOtherBackgroundImageOptimizeSetting.INSTANCE;
        if (ttliveGameOtherBackgroundImageOptimizeSetting.isBackgroundImmutable()) {
            if (this.LJLILLLLZI == 0) {
                if (this.LLFF) {
                    i = 1;
                } else {
                    i = 2;
                }
                this.LJLILLLLZI = i;
            }
            if (this.LJLILLLLZI == 1) {
                this.LLILLL.setVisibility(0);
            } else {
                this.LLILLL.setVisibility(8);
            }
        }
        if (!this.LLFF) {
            return;
        }
        if (!ttliveGameOtherBackgroundImageOptimizeSetting.isBackgroundImmutable()) {
            this.LLILLL.setVisibility(0);
        }
        int value = ttliveGameOtherBackgroundImageOptimizeSetting.getValue();
        if (value != 0) {
            if (value != 1) {
                if (value == 2 && this.LLILLL.hasHierarchy()) {
                    if (Build.VERSION.SDK_INT >= 23) {
                        this.LLILLL.setForeground(null);
                    }
                    this.LLILLL.getHierarchy().LJIILL(null, 1);
                    C38995FSd.LIZIZ().submit(new IDRunnableS6S0101000(1, this, 17));
                    this.LLLZZIL = true;
                }
            } else if (this.LLILLL.hasHierarchy()) {
                this.LLILLL.getHierarchy().LJIILL(null, 1);
                this.LLILLL.setBackgroundColor(-16777216);
                this.LLLZZIL = true;
            }
        } else {
            EnterRoomConfig enterRoomConfig = this.LLLZL;
            if (enterRoomConfig != null && (list = enterRoomConfig.mFeedCoverData.urlList) != null) {
                BL8.LIZ(this.LLILLL, list, getContext());
            } else {
                Room room = this.LJLJI;
                if (room != null && room.background != null) {
                    if (Build.VERSION.SDK_INT >= 23) {
                        this.LLILLL.setForeground(null);
                    }
                    C15650jR.LIZ().LIZ(this.LJLJI.background.mUrls).LJIIJJI(this.LLILLL);
                    this.LLLZZIL = true;
                } else if (C32151Nz.LJJIIZI(this.LJLJJLL) && Nn()) {
                    BL8.LIZJ(this.LLILLL, this.LJLJJLL);
                    this.LLLZZIL = true;
                } else if (C32151Nz.LJJIIZI(this.LJLJJL)) {
                    BL8.LIZ(this.LLILLL, this.LJLJJL, getContext());
                    this.LLLZZIL = true;
                }
            }
        }
        C62622d0.LIZ().LIZIZ(null, 3);
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public final void onDestroyView() {
        boolean z2;
        if (!this.LLJJJ) {
            DataChannel dataChannel = this.LLLIIL;
            long longValue = this.LLLZIIL.longValue();
            EnterRoomConfig.RoomsData roomsData = this.LLLZL.mRoomsData;
            C28657BMn.LIZ(dataChannel, longValue, roomsData.timeStamps.enterRoomStarTimeReal, roomsData.enterRoomScene);
            this.LLJJJ = true;
        }
        if (Dl()) {
            DataChannel dataChannel2 = this.LLLIIL;
            if (this.LLLZIIL.longValue() > 0) {
                z2 = true;
            } else {
                z2 = false;
            }
            C28657BMn.LIZJ(dataChannel2, z2);
            this.LLLLLL.removeCallbacksAndMessages("log_enter_room_rate_token");
            this.LLJJJIL = true;
        }
        this.LLLZIIL = 0L;
        B8U.LIZ();
        if (LiveGameLiveStudioSupportCohostSetting.INSTANCE.isExperimentGroup()) {
            ((IGameLinkMicService) CN1.LIZ(IGameLinkMicService.class)).WG(this, this.LJLJI);
        }
        super.onDestroyView();
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public final void onPause() {
        B35 b35;
        B35 b352 = this.LLIIIJ;
        if (b352 != null) {
            b352.onBackground();
            this.l.LIZ();
        }
        this.LLLLIL = true;
        this.f.LIZLLL = true;
        BJ9 bj9 = this.LLIIII;
        bj9.LJIIL = true;
        if (bj9.LJIILLIIL != -1) {
            bj9.LJJI = SystemClock.elapsedRealtime();
            Handler handler = bj9.LJFF;
            if (handler != null) {
                handler.removeCallbacksAndMessages(null);
            }
            bj9.LIZ = true;
            B4N LIZIZ = B4N.LIZIZ();
            LIZIZ.LIZIZ = false;
            LIZIZ.LIZLLL = LIZIZ.LIZ();
            LIZIZ.LIZJ = -1L;
            LIZIZ.LJFF.removeMessages(100);
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("roomBackgroundDuration duration: ");
            LIZ.append(LIZIZ.LIZ());
            C0NB.LJIIIZ("AudienceLivePlayTaskManager", X1D.LIZIZ(LIZ));
            bj9.LJJJ.add(new B7G(bj9.LJJI, C28202B5a.LIZ().LIZ()));
        }
        B3C b3c = this.f;
        b3c.LIZ(true, b3c.LIZJ);
        super.onPause();
        if (!C30184Bsy.LIZLLL() && (b35 = this.LLIIIJ) != null) {
            b35.changeSRSupportScene(false);
        }
        if (!C29306Beo.LJIJJ(this.LJLJI)) {
            C30770C5u.LJII = true;
        }
        C88207Yjb.LJIILLIIL();
        C28668BMy.LIZJ(1, this.LJLIL, System.currentTimeMillis());
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public final void onResume() {
        DataChannel dataChannel;
        int i;
        LiveMode liveMode;
        View view;
        super.onResume();
        C88207Yjb.LJIIJ();
        if (getUserVisibleHint()) {
            onVisible();
        }
        B4V b4v = this.LLILL;
        if (b4v != null && (view = b4v.LIZ) != null) {
            view.postDelayed(new ARunnableS9S0101000_5(1, this, 10), 50L);
        }
        this.f.LIZLLL = false;
        BJ9 bj9 = this.LLIIII;
        bj9.LJIIL = false;
        if (bj9.LJJI != -1) {
            bj9.LJJIFFI = (SystemClock.elapsedRealtime() - bj9.LJJI) + bj9.LJJIFFI;
            bj9.LJIJJ = (SystemClock.elapsedRealtime() - bj9.LJJI) + bj9.LJIJJ;
            bj9.LJIJJLI = (SystemClock.elapsedRealtime() - bj9.LJJI) + bj9.LJIJJLI;
            bj9.LJJI = -1L;
            Handler handler = bj9.LJFF;
            if (handler != null) {
                handler.post(bj9.LJ);
                bj9.LJFF.post(new ARunnableS18S0101000_14(1, bj9, 23));
                bj9.LJFF.post(new ARunnableS15S0101000_11(1, bj9, 14));
            }
            B4N LIZIZ = B4N.LIZIZ();
            long LIZLLL = bj9.LIZLLL();
            LIZIZ.LIZIZ = true;
            LIZIZ.LIZJ = SystemClock.elapsedRealtime();
            LIZIZ.LIZLLL = LIZLLL;
            LIZIZ.LIZJ();
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("roomForegroundDuration duration: ");
            LIZ.append(LIZIZ.LIZ());
            C0NB.LJIIIZ("AudienceLivePlayTaskManager", X1D.LIZIZ(LIZ));
            bj9.LJJJ.add(new B7G(EnumC28204B5c.FOREGROUND, SystemClock.elapsedRealtime()));
        }
        B3C b3c = this.f;
        b3c.LIZ(false, b3c.LIZJ);
        InterfaceC28738BPq LIZIZ2 = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
        if (LIZIZ2 != null) {
            LIZIZ2.LJJ(false);
        }
        if (this.LLLLLZIL) {
            C0NB.LJIIIZ("LivePlayFragment.onResume", "restarting detached live room");
            Im().M9("");
        }
        B4V b4v2 = this.LLILL;
        if (b4v2 != null && this.LLLLIILLL) {
            if (this.LLFII && ((liveMode = this.LJLLJ) == LiveMode.LIVE_STUDIO || liveMode == LiveMode.THIRD_PARTY)) {
                i = 1000;
            } else {
                i = 100;
            }
            b4v2.LIZ.postDelayed(new ARunnableS15S0101000_11(1, this, 1), i);
        }
        this.LLLLIL = false;
        B35 b35 = this.LLIIIJ;
        if (b35 != null) {
            if (!this.LLIIJLIL) {
                b35.onForeground();
                this.l.LJIJI();
                if (BTH.LJLILLLLZI || (C28202B5a.LIZ().LIZIZ && C30184Bsy.LIZIZ(mo49getActivity()))) {
                    this.LLIIIJ.setMuteNew(true, "internal window keep mute after audio focus gain");
                }
            }
            if (MultiGuestV3PlaySetting.INSTANCE.getValue()) {
                if (!((IInteractService) CN1.LIZ(IInteractService.class)).ta0() || this.LLJLL) {
                    this.LLIIIJ.tryResumePlay();
                }
            } else {
                this.LLIIIJ.tryResumePlay();
            }
            this.LLJLL = false;
            if (!((ArrayList) this.LLLLLZL).isEmpty()) {
                Iterator it = ((ArrayList) this.LLLLLZL).iterator();
                while (it.hasNext()) {
                    Cm((TW6) it.next());
                }
                ((ArrayList) this.LLLLLZL).clear();
            }
            if (!C30184Bsy.LIZLLL()) {
                this.LLIIIJ.changeSRSupportScene(true);
            }
        }
        if (this.LLLZLZ) {
            EnterRoomConfig enterRoomConfig = this.LLLZL;
            B5T reason = B5T.USER_BLOCKED_ANCHOR;
            o.LJIIIZ(reason, "reason");
            B5S.LIZ(enterRoomConfig, reason, "slide_next_room");
            Ml(B5U.WATCHER_KIT_OUT);
        }
        if (this.LLII == B5V.LIVE_FINISHED && this.s && this.LLZILL && RemoveDrawLiveEndSetting.INSTANCE.getValue()) {
            Pm(R.string.mqr, LiveMaxRetainAlogMessageSizeSetting.DEFAULT, this.LJLIL, "end", true);
        }
        this.s = false;
        if (LIZIZ2 != null && (dataChannel = this.LLLIIL) != null && ((Boolean) dataChannel.kv0(PIPStatusData.class)).booleanValue()) {
            if (!TextUtils.equals(LIZIZ2.getPlayerTag(), this.LLLLZ) && this.LLIIIJ != null) {
                if (this.LLILL.LIZ.getParent() == null) {
                    this.LLILZLL.addView(this.LLILL.LIZ, 0);
                    this.LLILL.LJI(0);
                }
                B4V b4v3 = this.LLILL;
                if (b4v3 != null && b4v3.LIZ.getVisibility() == 8) {
                    this.LLILL.LJI(0);
                }
                B35 ht0 = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).ht0(this.LJLIL, this.LJLJLLL, this.LJLLI, this.LJLLJ, this.LJLLILLLL, this.LLILL.LIZJ(), this.q, getContext(), this.LLLLZ, this.LLLZL.mStreamData.captionStreamDelayMs);
                this.LLIIIJ = ht0;
                ht0.pipResumePlay();
            }
            if (!C30184Bsy.LIZIZ(mo49getActivity())) {
                this.LLLIIL.rv0(PIPStatusData.class, Boolean.FALSE);
            }
            B39 b39 = this.t;
            if (b39 != null) {
                b39.LIZ();
            }
        }
        if (C78963Uyt.LJLIL) {
            C30868C9o.LJI(C15380j0.LJIILJJIL(R.string.k9c));
            C78963Uyt.LJLIL = false;
        }
        C28668BMy.LIZJ(1, this.LJLIL, System.currentTimeMillis());
    }

    /* JADX WARN: Type inference failed for: r2v1, types: [X.B6s, O] */
    @Override // com.bytedance.android.livesdk.ui.BaseFragment
    public final void onVisible() {
        String str;
        CHK chk;
        if (this.LJLJI != null) {
            C28655BMl LIZ = B4T.LIZ();
            long id = this.LJLJI.getId();
            if (LIZ.LIZIZ()) {
                LIZ.LIZ = Long.valueOf(id);
            }
        }
        ?? r2 = (C28246B6s) this.LLLIIL.kv0(BJO.class);
        DataChannelGlobal dataChannelGlobal = DataChannelGlobal.LJLJJI;
        B8D b8d = (B8D) dataChannelGlobal.mv0(C29055Bal.class);
        if (r2 != 0) {
            r2.LJI = b8d;
        }
        ((C32537Cpp) dataChannelGlobal.gv0(C29049Baf.class)).LIZ = r2;
        boolean equals = "inner_draw".equals(this.LLLZL.mRoomsData.enterRoomScene);
        C88207Yjb.LJII = false;
        Map<String, C5H3<CHK>> map = C88207Yjb.LJ;
        if (equals) {
            str = "watch_slide_enter";
        } else {
            str = "watch_click_enter";
        }
        C5H3 c5h3 = (C5H3) ((LinkedHashMap) map).get(str);
        if (c5h3 != null && (chk = (CHK) c5h3.getValue()) != null) {
            chk.LJII = false;
            chk.start();
            C88207Yjb.LIZIZ().postDelayed(new ARunnableS41S0100000_5(chk, 325), C88207Yjb.LIZLLL);
        }
        if (!this.f115n) {
            ((IDebugService) CN1.LIZ(IDebugService.class)).IC(getContext(), this.LLLIIL, EnumC30213BtR.AUDIENCE);
            this.f115n = true;
        }
    }

    @Override // X.BKJ
    public final void u3() {
        C31811Ce7.LIZLLL("invite_issue_check", "LinkIn_Guest_stopWhenFullySlidingOut");
        if (this.LLJLLIL) {
            hn("reset player");
            B4V b4v = this.LLILL;
            if (b4v != null) {
                b4v.LJI(8);
            }
            C47061t0 c47061t0 = this.LLILIL;
            if (c47061t0 != null) {
                c47061t0.setVisibility(8);
            }
        }
        T4();
    }

    public final void vl() {
        int i;
        if (this.LLIIIJ == null) {
            return;
        }
        Vm();
        int[] iArr = new int[2];
        this.LLIIIJ.getVideoSize(iArr);
        int i2 = iArr[0];
        if (i2 != 0 && (i = iArr[1]) != 0) {
            Ym(i2, i, KL2.LJIIJJI(getContext()), "adjust");
        }
    }

    public final Room wl() {
        Room room;
        Room room2 = this.LJLJI;
        if (room2 != null && room2.mRoomAuthStatus != null && room2.getCover() != null && this.LJLJI.getOwner() != null) {
            return this.LJLJI;
        }
        EnterRoomConfig enterRoomConfig = this.LLLZL;
        if (enterRoomConfig == null || !LivePreloadInteractionLayerSetting.INSTANCE.isEnableFeedRoomParse()) {
            room = new Room();
        } else {
            room = (Room) GsonProtectorUtils.fromJson(C09650Zl.LIZIZ, enterRoomConfig.mRoomsData.preLoadRoomInfo, Room.class);
            if (room == null) {
                room = new Room();
            }
        }
        room.setId(this.LLLZL.mRoomsData.enterRoomId);
        room.setOwnerUserId(this.LLLZL.mRoomsData.enterUserId);
        return room;
    }

    public final void xl() {
        if (this.LLILL != null && !LivePipTextureViewEnableSetting.INSTANCE.getValue()) {
            Vm();
        }
        if (this.v == null && mo49getActivity() != null) {
            this.v = new PipVideoViewContainDialog();
            PipVideoViewContainDialog pipVideoViewContainDialog = this.v;
            pipVideoViewContainDialog.LJLLILLLL = this.LJLJJI;
            pipVideoViewContainDialog.LJLIL = this.LLLLZ;
            pipVideoViewContainDialog.show(mo49getActivity().getSupportFragmentManager(), "PipVideoViewContainDialog");
        }
    }

    public final void xm() {
        boolean z2;
        Room room;
        if (!this.LLJJJJJIL) {
            boolean LJJIL = C1DH.LJJIL(this.LJLJI, this.LLLZL, this.LLJJJJ);
            if (!this.LLJJJJJIL && !this.LLJJJJ && (room = this.LJLJI) != null && room.maskLayer != null) {
                z2 = true;
            } else {
                z2 = false;
            }
            if (z2) {
                Room room2 = this.LJLJI;
                UC0.LJJJJZI("draw", room2.maskLayer.punishInfo, Long.valueOf(room2.getId()));
            }
            if (LJJIL) {
                UC0.LJJJJZ("draw", "draw");
            }
        }
        this.LLJJJJ = false;
        this.LLJJJJJIL = false;
        LiveLccMaskLayerWidget liveLccMaskLayerWidget = this.LLLILZ;
        if (liveLccMaskLayerWidget != null) {
            liveLccMaskLayerWidget.LJZ("swipe");
            this.LLLILZ.LJLLI = true;
        }
    }

    public final void yn() {
        BLB blb;
        C28601BKj c28601BKj;
        if (!AudienceBlockHeartBeatMonitorEnableSetting.INSTANCE.getValue()) {
            return;
        }
        try {
            B3C b3c = this.f;
            C28611BKt c28611BKt = new C28611BKt(getCurrentUrl(), this.LJLIL);
            b3c.getClass();
            B42 ea = b3c.LIZ.ea();
            if (ea != null && (blb = ((LiveRoomFragment) ea).LJZ) != null && (c28601BKj = (C28601BKj) blb.LIZJ) != null) {
                c28601BKj.LIZIZ(c28611BKt);
            }
        } catch (Exception unused) {
        }
    }

    public LivePlayFragment() {
        boolean z2;
        boolean z3;
        InterfaceC28296B8q b3q;
        EnableSlideEnterRoomOptSetting enableSlideEnterRoomOptSetting = EnableSlideEnterRoomOptSetting.INSTANCE;
        if (enableSlideEnterRoomOptSetting.getValue() && EnableSlideVideoLastFrameSetting.INSTANCE.getValue()) {
            z2 = true;
        } else {
            z2 = false;
        }
        this.LLJLLIL = z2;
        this.LLJLLL = enableSlideEnterRoomOptSetting.getValue();
        this.LLJZ = LiveEnterDelayShowLoadingTimeSetting.INSTANCE.getValue();
        this.LLJZIJLIL = LiveClickEnterDelayShowLoadingTimeSetting.INSTANCE.getValue();
        this.LLL = LiveUseSurfaceViewExperiment.INSTANCE.isEnable();
        this.LLLF = 0L;
        this.LLLFF = 0L;
        this.LLLFFI = 0L;
        this.LLLI = new B3J();
        this.LLLII = null;
        this.LLLLIILLL = false;
        this.LLLLIL = false;
        this.LLLLILI = false;
        this.LLLLJ = false;
        this.LLLLJI = 0;
        if (MultiGuestV3RoomLoadingOptSetting.INSTANCE.isEnable() || MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable()) {
            z3 = true;
        } else {
            z3 = false;
        }
        this.LLLLLIL = z3;
        this.LLLLLILLIL = LiveMultiPlayerEnableSetting.INSTANCE.getValue();
        this.LLLLLJIL = new CopyOnWriteArrayList<>();
        this.LLLLLJLJLL = new IDHandlerS18S0100000_5(this, C16880lQ.LLJJJJ(), 0);
        this.LLLLLL = new Handler(C39202Fa2.LIZ.LIZIZ());
        this.LLLLLZL = new ArrayList();
        this.LLLZ = false;
        this.LLLZI = false;
        this.LLLZIIL = 0L;
        this.LLLZZIL = false;
        this.LLZ = new C73318Sq2();
        this.LLZLI = "";
        this.LLZLL = "";
        this.LLZLLIL = "";
        this.LLZZ = null;
        this.LLZZJLIL = "";
        this.d = null;
        this.e = null;
        this.f = new B3C(this);
        this.g = new AObjectS144S0100000_5(this, 0);
        this.h = new AObjectS144S0100000_5(this, 1);
        if (CoHostPullLogSetting.INSTANCE.getValue()) {
            b3q = new C31944CgG();
        } else {
            b3q = new B3Q();
        }
        this.l = b3q;
        this.m = false;
        this.f115n = false;
        this.o = new B36(this);
        this.p = new BOW(this);
        this.q = new C28295B8p(this);
        this.w = false;
        this.x = false;
    }

    public final B3D Im() {
        InterfaceC36571c5 parentFragment = getParentFragment();
        if (parentFragment instanceof LiveRoomFragment) {
            return (B3D) parentFragment;
        }
        return new B3H();
    }

    @Override // X.BKJ
    public final void LLLFF() {
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("stopRoom -> roomId=");
        LIZ.append(this.LJLIL);
        LIZ.append(", userId=");
        LIZ.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        this.LLLLLJLJLL.removeCallbacksAndMessages(null);
        Il(B3O.LIZ);
        xn(true);
        C28733BPl.LJIILIIL().getClass();
        C0NE.LIZ("invite_issue_check", "LinkIn_Guest_stopRoom");
        ((IInteractService) CN1.LIZ(IInteractService.class)).yo0();
        ((IMessageService) CN1.LIZ(IMessageService.class)).release(this.LJLIL);
        this.LLLLIILL = 0L;
        this.LLLLLJIL.clear();
        ((HashSet) C74838TYs.LJ().LJJJ).clear();
        B5G.LIZJ(this.LJLIL, "stopRoom");
        B3I b3i = this.LLIIIZ;
        b3i.LIZIZ = false;
        b3i.LIZ();
    }

    @Override // X.BKJ
    public final void T4() {
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("<!!!> stopRoomWithoutReleasePlayer -> roomId=");
        LIZ.append(this.LJLIL);
        LIZ.append(", userId=");
        LIZ.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        this.LLZ.LIZLLL();
        this.LLIILZL = false;
        this.LLLLLJLJLL.removeCallbacksAndMessages(null);
        Hl(115, this.LJLIL, "change page");
        Il(B3O.LIZ);
        xn(false);
        C28733BPl.LJIILIIL().getClass();
        C0NE.LIZ("invite_issue_check", "LinkIn_Guest_stopRoomWithoutReleasePlayer");
        B3I b3i = this.LLIIIZ;
        b3i.LIZIZ = false;
        b3i.LIZ();
        this.LLLLLJLJLL.removeCallbacks(this.o);
        this.LLLLJ = false;
    }

    public final View Yl() {
        if (((IInteractService) CN1.LIZ(IInteractService.class)).xz(((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId()) == B5Y.GUEST_AUDIENCE && ((IInteractService) CN1.LIZ(IInteractService.class)).Bo() != null) {
            C0NB.LJIIIZ("picture_in_picture", "getPipVideoView  getLinkMicSurface");
            return ((IInteractService) CN1.LIZ(IInteractService.class)).Bo();
        }
        C0NB.LJIIIZ("picture_in_picture", "getPipVideoView  livePlayController");
        InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
        if (LIZIZ != null && LIZIZ.getVideoView() != null) {
            View videoView = LIZIZ.getVideoView();
            if ((videoView instanceof CVR) || (videoView instanceof CVS)) {
                return videoView;
            }
        }
        return null;
    }

    @Override // X.BKJ
    public final void h7() {
        boolean z2;
        B3D Im;
        HashMap<String, String> hashMap;
        C29121Bbp.LIZ();
        C29121Bbp.LIZJ("is_anchor", "false");
        C29121Bbp.LIZJ("room_id", String.valueOf(this.LLLZL.mRoomsData.roomId));
        if (LiveDrawPreEnterRoom.INSTANCE.isEnable() && this.LLII == B5V.INITIALIZED) {
            InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(B57.LIZ.LIZ().mEnterRoomConfig.mRoomsData.warmUpPlayerTag);
            if (LIZIZ != null) {
                LIZIZ.LJJJJI();
            }
            C28151B3b.LIZ().LIZIZ();
            EnterRoomConfig enterRoomConfig = this.LLLZL;
            if (enterRoomConfig != null && C78847Ux1.LJJJIL(enterRoomConfig) && ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).V9()) {
                z2 = true;
                enterRoomConfig.mECData.isPrefetchPinEnabled = 1;
            } else {
                z2 = false;
                enterRoomConfig.mECData.isPrefetchPinEnabled = 0;
            }
            B3X LIZ = C28151B3b.LIZ();
            Context context = getContext();
            List<Long> list = null;
            if (PackEnterRoomOptEnableSetting.INSTANCE.isEnable() && (Im = Im()) != null) {
                list = Im.rg();
            }
            LIZ.LIZJ(enterRoomConfig, context, list);
            if (z2) {
                HashMap<String, String> hashMap2 = new HashMap<>();
                EnterRoomConfig.ECWrapData eCWrapData = enterRoomConfig.mECData;
                if (eCWrapData != null && (hashMap = eCWrapData.ecCommonExtraParam) != null) {
                    hashMap2.putAll(hashMap);
                }
                ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).p8(this.LJLIL, hashMap2, this);
            }
            ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).setCurrentRoomId(Long.valueOf(this.LJLIL));
        }
        this.LLLF = System.currentTimeMillis();
        EnterRoomConfig.TimeStamp timeStamp = this.LLLZL.mRoomsData.timeStamps;
        if (timeStamp != null) {
            this.LLLFF = timeStamp.enterRoomStarTimeReal;
        }
        HashMap<String, String> Vl = Vl();
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append(SystemClock.uptimeMillis());
        LIZ2.append("");
        Vl.put("param_live_slot_start_time_long", X1D.LIZIZ(LIZ2));
        B4U.LIZ().LJJIIZI();
    }

    @Override // X.BKJ, X.InterfaceC27469AqH
    public final boolean onBackPressed() {
        if (mo49getActivity() != null && isAdded()) {
            List<Fragment> LJJJJLI = getChildFragmentManager().LJJJJLI();
            boolean z2 = true;
            if (LJJJJLI != null && LJJJJLI.size() > 0) {
                for (InterfaceC36571c5 interfaceC36571c5 : LJJJJLI) {
                    if ((interfaceC36571c5 instanceof InterfaceC27469AqH) && ((InterfaceC27469AqH) interfaceC36571c5).onBackPressed()) {
                        return true;
                    }
                }
                if (this.LLJIJIL == null) {
                    Hn(new C28268B7o(8));
                }
            } else {
                if (this.LLII != B5V.LIVE_FINISHED) {
                    z2 = false;
                }
                Jm(z2);
            }
        }
        return false;
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public final void onDestroy() {
        DataChannel dataChannel;
        C28733BPl.LJIILIIL().getClass();
        C0NE.LIZ("invite_issue_check", "LinkIn_Guest_onDestroy");
        B73.LIZ().removeCallbacksAndMessages(this.LLLIIL);
        this.LLLLLL.removeCallbacksAndMessages(this.LLLIIL);
        this.LLLLLL.removeCallbacksAndMessages("sync_gift_resource_opt");
        B3G b3g = this.LLZZLLIL;
        if (b3g != null) {
            b3g.clear();
            this.LLZZLLIL = null;
        }
        super.onDestroy();
        ValueAnimator valueAnimator = this.LLLFZ;
        if (valueAnimator != null) {
            valueAnimator.cancel();
        }
        PipVideoViewContainDialog pipVideoViewContainDialog = this.v;
        if (pipVideoViewContainDialog != null) {
            pipVideoViewContainDialog.dismissAllowingStateLoss();
        }
        LLLFF();
        B37 b37 = this.LLLLL;
        if (b37 != null) {
            b37.LJI = null;
            b37.LJII = null;
        }
        if (LiveMultiPlayerEnableSetting.INSTANCE.getValue()) {
            if (this.LLLLZ != null) {
                ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LJIIL(this.LLLLZ);
                ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).PX(this.LLLLZ);
            }
            this.LLLLZ = null;
        }
        Kl();
        B7K.LIZ(this.LJLIL);
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            bj9.LJIILJJIL();
        }
        B4J.LJ(mo49getActivity(), false);
        C28184B4i c28184B4i = this.LLLLLLLLL;
        if (c28184B4i != null) {
            Iterator it = ((LinkedHashMap) c28184B4i.LJII).entrySet().iterator();
            while (it.hasNext()) {
                ((InterfaceC92693kP) ((Map.Entry) it.next()).getValue()).dispose();
            }
        }
        this.LLJJJJLIIL = false;
        this.LJLIL = 0L;
        this.LJLJJI = 0L;
        this.LJLJJL = null;
        this.LJLJL = null;
        this.LJLJLJ = null;
        this.LJLJLLL = null;
        this.LJLL = null;
        this.LJLLI = null;
        this.LJLLJ = LiveMode.VIDEO;
        this.LJLLILLLL = null;
        this.LLII = B5V.IDLE;
        this.LLIIII = null;
        this.LLLZZIL = false;
        this.LLZIL = false;
        this.LJLLL = false;
        this.LJZL = false;
        this.LJLLLLLL = false;
        this.LJLLLL = false;
        this.LLIILZL = false;
        this.LLLLZLLLI = false;
        this.LLIIZ = false;
        this.LLI = 0;
        this.LLF = new DeepLinkData();
        C73411SrX c73411SrX = this.LLLZLL;
        if (c73411SrX != null) {
            c73411SrX.dispose();
        }
        EventBus.LIZJ().LJIJ(this);
        DataChannelGlobal dataChannelGlobal = DataChannelGlobal.LJLJJI;
        dataChannelGlobal.getClass();
        dataChannelGlobal.jv0(this);
        this.LLZ.LIZLLL();
        ((ArrayList) this.LLLLLZL).clear();
        this.r = null;
        if (getContext() != null) {
            C16880lQ.LJJLIIIJL(getContext(), this.u);
            C0NB.LJIIIZ("picture_in_picture", "unregisterReceiver");
        }
        B39 b39 = this.t;
        if (b39 != null) {
            b39.LIZ();
        }
        this.t = null;
        ((ConcurrentHashMap) dataChannelGlobal.LJLIL).remove(C29034BaQ.class);
        ((ConcurrentHashMap) dataChannelGlobal.LJLIL).remove(C29035BaR.class);
        ((ConcurrentHashMap) dataChannelGlobal.LJLIL).remove(C29047Bad.class);
        if (this.LLJIJIL != null) {
            FragmentManager childFragmentManager = getChildFragmentManager();
            C1B3 LIZ = C1B6.LIZ(childFragmentManager, childFragmentManager);
            LIZ.LJJI(this.LLJIJIL);
            LIZ.LJII();
        }
        if (WatchMemoryLeakOpt.INSTANCE.removeDataChannel() && (dataChannel = this.LLLIIL) != null) {
            dataChannel.jv0(this);
            this.LLLIIL.LJLJJI = null;
        }
        CG4 fb = ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).fb(this.LLLIIL);
        if (fb != null) {
            fb.destroy();
        }
        this.l.LJIIIIZZ("destroy");
        ((IEffectService) CN1.LIZ(IEffectService.class)).destroyEffectPalletHandler();
    }

    @Override // androidx.fragment.app.Fragment
    public final void onStop() {
        super.onStop();
        this.s = true;
    }

    @Override // X.BKJ
    public final EnterRoomConfig Jj() {
        return this.LLLZL;
    }

    @Override // X.BKJ
    public final DataChannel LJIIL() {
        return this.LLLIIL;
    }

    @Override // X.BKJ
    public final int dd() {
        return this.LLLZIL;
    }

    @Override // X.BKJ
    public final B42 ea() {
        return this.r;
    }

    @Override // X.BKJ
    public final long getRoomId() {
        return this.LJLIL;
    }

    @Override // X.BKJ
    public final String m2() {
        return this.LLLLZ;
    }

    @Override // X.InterfaceC28236B6i
    public final DataChannel provideDataChannel() {
        return this.LLLIIL;
    }

    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    /* JADX WARN: Code restructure failed: missing block: B:10:0x001a, code lost:
    
        if (r1.equals("OBS_AUDIENCE") == false) goto L7;
     */
    /* JADX WARN: Code restructure failed: missing block: B:12:0x004c, code lost:
    
        return com.bytedance.android.livesdkapi.depend.model.live.LiveMode.THIRD_PARTY;
     */
    /* JADX WARN: Code restructure failed: missing block: B:14:0x0023, code lost:
    
        if (r1.equals("MOBILE_GAME") == false) goto L7;
     */
    /* JADX WARN: Code restructure failed: missing block: B:16:0x004f, code lost:
    
        return com.bytedance.android.livesdkapi.depend.model.live.LiveMode.SCREEN_RECORD;
     */
    /* JADX WARN: Code restructure failed: missing block: B:18:0x002c, code lost:
    
        if (r1.equals("OBS") == false) goto L7;
     */
    /* JADX WARN: Code restructure failed: missing block: B:20:0x0035, code lost:
    
        if (r1.equals("MOBILE_GAME_AUDIENCE") == false) goto L7;
     */
    /* JADX WARN: Code restructure failed: missing block: B:22:0x003e, code lost:
    
        if (r1.equals("LIVE_STUDIO") == false) goto L7;
     */
    /* JADX WARN: Code restructure failed: missing block: B:24:0x0052, code lost:
    
        return com.bytedance.android.livesdkapi.depend.model.live.LiveMode.LIVE_STUDIO;
     */
    /* JADX WARN: Code restructure failed: missing block: B:26:0x0047, code lost:
    
        if (r1.equals("LIVE_STUDIO_AUDIENCE") == false) goto L7;
     */
    /* JADX WARN: Failed to find 'out' block for switch in B:6:0x000e. Please report as an issue. */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static com.bytedance.android.livesdkapi.depend.model.live.LiveMode pm(com.bytedance.android.livesdk.game.model.AccessRecallMessage r1) {
        /*
            if (r1 != 0) goto L5
            com.bytedance.android.livesdkapi.depend.model.live.LiveMode r0 = com.bytedance.android.livesdkapi.depend.model.live.LiveMode.VIDEO
            return r0
        L5:
            java.lang.String r1 = r1.scene
            r1.getClass()
            int r0 = r1.hashCode()
            switch(r0) {
                case -1489287942: goto L41;
                case -547467127: goto L38;
                case -79254828: goto L2f;
                case 78048: goto L26;
                case 868355439: goto L1d;
                case 1690949251: goto L14;
                default: goto L11;
            }
        L11:
            com.bytedance.android.livesdkapi.depend.model.live.LiveMode r0 = com.bytedance.android.livesdkapi.depend.model.live.LiveMode.VIDEO
            return r0
        L14:
            java.lang.String r0 = "OBS_AUDIENCE"
            boolean r0 = r1.equals(r0)
            if (r0 != 0) goto L4a
            goto L11
        L1d:
            java.lang.String r0 = "MOBILE_GAME"
            boolean r0 = r1.equals(r0)
            if (r0 != 0) goto L4d
            goto L11
        L26:
            java.lang.String r0 = "OBS"
            boolean r0 = r1.equals(r0)
            if (r0 != 0) goto L4a
            goto L11
        L2f:
            java.lang.String r0 = "MOBILE_GAME_AUDIENCE"
            boolean r0 = r1.equals(r0)
            if (r0 != 0) goto L4d
            goto L11
        L38:
            java.lang.String r0 = "LIVE_STUDIO"
            boolean r0 = r1.equals(r0)
            if (r0 != 0) goto L50
            goto L11
        L41:
            java.lang.String r0 = "LIVE_STUDIO_AUDIENCE"
            boolean r0 = r1.equals(r0)
            if (r0 != 0) goto L50
            goto L11
        L4a:
            com.bytedance.android.livesdkapi.depend.model.live.LiveMode r0 = com.bytedance.android.livesdkapi.depend.model.live.LiveMode.THIRD_PARTY
            return r0
        L4d:
            com.bytedance.android.livesdkapi.depend.model.live.LiveMode r0 = com.bytedance.android.livesdkapi.depend.model.live.LiveMode.SCREEN_RECORD
            return r0
        L50:
            com.bytedance.android.livesdkapi.depend.model.live.LiveMode r0 = com.bytedance.android.livesdkapi.depend.model.live.LiveMode.LIVE_STUDIO
            return r0
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.pm(com.bytedance.android.livesdk.game.model.AccessRecallMessage):com.bytedance.android.livesdkapi.depend.model.live.LiveMode");
    }

    /* JADX WARN: Type inference failed for: r1v6, types: [java.lang.Long, O] */
    @Override // X.BKJ
    public final void Ah(boolean z2) {
        DataChannel dataChannel;
        DataChannel dataChannel2;
        if (this.LLII != B5V.INITIALIZED) {
            return;
        }
        MultiGuestV3RoomLoadingOptSetting multiGuestV3RoomLoadingOptSetting = MultiGuestV3RoomLoadingOptSetting.INSTANCE;
        if (multiGuestV3RoomLoadingOptSetting.isEnable() && (dataChannel2 = this.LLLIIL) != null) {
            dataChannel2.ov0(this, AudienceVideoViewParams.class, this.g);
        }
        MultiCohostRoomLoadingOptSetting multiCohostRoomLoadingOptSetting = MultiCohostRoomLoadingOptSetting.INSTANCE;
        if (multiCohostRoomLoadingOptSetting.isEnable() && (dataChannel = this.LLLIIL) != null) {
            dataChannel.ov0(this, PlayerChangeLayoutParamEvent.class, this.h);
        }
        if (!TextUtils.isEmpty(this.LJLJLLL) || !TextUtils.isEmpty(this.LJLJL)) {
            if (!TextUtils.isEmpty(this.LJLJLLL)) {
                vn(this.LJLJLLL, this.LJLLI, this.LJLLJ, this.LJLLILLLL, true);
            } else if (!TextUtils.isEmpty(this.LJLJL)) {
                un(this.LJLJL, this.LJLLJ, this.LJLLILLLL, this.LJLJLJ, true);
            }
            B34 b34 = this.e;
            if (b34 != null) {
                b34.LIZ();
            }
            this.LLLZL.mRoomsData.warmUpPlayerTag = this.LLLLZ;
            if (z2) {
                ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LJIIIZ(this.LLLLZ);
            } else {
                InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
                if (LIZIZ != null) {
                    LIZIZ.LJJJJ(this.LLLLZ, "multi-player pre pull stream", true);
                }
            }
            if (multiGuestV3RoomLoadingOptSetting.isEnable() || multiCohostRoomLoadingOptSetting.isEnable()) {
                C0NB.LIZIZ("1VNExperienceV1", "prePullStream roomId = " + this.LJLIL);
                if (this.LLLLLIL) {
                    B3G b3g = this.LLZZLLIL;
                    if (b3g != null) {
                        b3g.LIZJ();
                    } else {
                        An();
                    }
                }
            }
        }
        DataChannel dataChannel3 = this.LLLIIL;
        if (dataChannel3 != null) {
            ((C32537Cpp) dataChannel3.gv0(BCL.class)).LIZ = 0L;
        }
    }

    public final void Al(int i) {
        View view;
        Object obj;
        Field declaredField;
        int intValue;
        int intValue2;
        boolean z2;
        boolean z3;
        Object obj2;
        if (O3() == B5V.LIVE_FINISHED) {
            return;
        }
        Room room = this.LJLJI;
        if ((room == null || room.getStatus() != 4) && this.e != null && this.LLILL != null) {
            InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
            B34 b34 = this.e;
            View view2 = this.LLILL.LIZ;
            C47061t0 c47061t0 = this.LLILLJJLI;
            ImageView imageView = this.LLIZ;
            b34.getClass();
            BlackScreenMonitorSetting blackScreenMonitorSetting = BlackScreenMonitorSetting.INSTANCE;
            if (blackScreenMonitorSetting.getEnable() == blackScreenMonitorSetting.getDEFAULT() || b34.LJIIIIZZ) {
                return;
            }
            b34.LJIIJ.put("check_type", Integer.valueOf(i));
            if (LIZIZ == null) {
                b34.LIZIZ(1101);
                b34.LJIIJ.put("player_has_render", 0);
            } else if (view2 == null) {
                b34.LIZIZ(1004);
                b34.LJIIJ.put("player_has_render", 0);
            } else {
                View videoView = LIZIZ.getVideoView();
                if (videoView == null) {
                    b34.LIZIZ(1004);
                    b34.LJIIJ.put("player_has_render", 1);
                } else {
                    Object parent = videoView.getParent();
                    Rect rect = null;
                    if (!(parent instanceof ViewGroup) || (view = (View) parent) == null) {
                        b34.LIZIZ(1005);
                        b34.LJIIJ.put("player_has_render", 2);
                    } else {
                        if (!o.LJ(videoView, view2)) {
                            b34.LIZIZ(1003);
                            b34.LJIIJ.put("player_has_render", 3);
                        }
                        if (videoView.getVisibility() == 8 || view.getVisibility() == 8) {
                            b34.LIZIZ(1002);
                            b34.LJIIJ.put("player_has_render", 4);
                        }
                        if (view2 instanceof SurfaceView) {
                            try {
                                Class<? super Object> superclass = view2.getClass().getSuperclass();
                                if (superclass == null || (declaredField = superclass.getDeclaredField("mRTLastReportedPosition")) == null) {
                                    obj = null;
                                } else {
                                    declaredField.setAccessible(true);
                                    obj = declaredField.get(view2);
                                }
                                o.LJII(obj, "null cannot be cast to non-null type android.graphics.Rect");
                                rect = (Rect) obj;
                            } catch (Exception unused) {
                            }
                            int i2 = Resources.getSystem().getDisplayMetrics().heightPixels;
                            if (rect != null && rect.centerX() >= i2) {
                                b34.LIZIZ(1000);
                                b34.LJIIJ.put("player_has_render", 5);
                            }
                        } else if (view2.getTranslationX() < 0.0f || view.getTranslationX() < 0.0f) {
                            b34.LIZIZ(1000);
                            b34.LJIIJ.put("player_has_render", 6);
                        }
                        int videoSize = LIZIZ.getVideoSize();
                        OSZ osz = new OSZ(Integer.valueOf(videoView.getWidth()), Integer.valueOf(videoView.getHeight()));
                        int intValue3 = ((Number) osz.getFirst()).intValue();
                        int intValue4 = ((Number) osz.getSecond()).intValue();
                        Integer valueOf = Integer.valueOf(videoSize);
                        if (valueOf == null) {
                            intValue = 0;
                        } else {
                            intValue = valueOf.intValue() & 65535;
                        }
                        Integer valueOf2 = Integer.valueOf(videoSize);
                        if (valueOf2 == null) {
                            intValue2 = 0;
                        } else {
                            intValue2 = valueOf2.intValue() >> 16;
                        }
                        if (intValue > intValue2) {
                            z2 = true;
                        } else {
                            z2 = false;
                        }
                        if (intValue3 > intValue4) {
                            z3 = true;
                        } else {
                            z3 = false;
                        }
                        if (z2 != z3) {
                            b34.LIZIZ(1001);
                            b34.LJIIJ.put("player_has_render", 6);
                        }
                    }
                }
                if (b34.LJI) {
                    b34.LIZIZ(LinkMicRtcMixBitrateSetting.DEFAULT);
                    b34.LJIIJ.put("room_status", 0);
                } else if (b34.LJ) {
                    b34.LIZIZ(1201);
                    b34.LJIIJ.put("room_status", 1);
                } else if (b34.LJFF) {
                    b34.LIZIZ(1202);
                    b34.LJIIJ.put("room_status", 2);
                } else if (b34.LJII) {
                    b34.LIZIZ(1205);
                    b34.LJIIJ.put("room_status", 3);
                }
                if (b34.LIZJ && c47061t0 != null && imageView != null) {
                    if (c47061t0.getVisibility() == 8) {
                        b34.LIZIZ(1203);
                    } else if (imageView.getVisibility() == 8) {
                        b34.LIZIZ(1204);
                    }
                }
                b34.LJIIJ.put("player_playback", Integer.valueOf(LIZIZ.LJJIIZ()));
                if ((LIZIZ.LJJIIZ() & 1) <= 0) {
                    b34.LIZIZ(2002);
                }
                if ((LIZIZ.LJJIIZ() & 2) <= 0) {
                    b34.LIZIZ(2001);
                }
                b34.LJIIJ.put("player_has_first_screen", 0);
                if (!b34.LIZJ) {
                    if (b34.LIZLLL) {
                        b34.LIZIZ(2003);
                        b34.LJIIJ.put("player_has_inner_error", 1);
                    }
                    b34.LIZIZ(LiveNetAdaptiveHurryTimeSetting.DEFAULT);
                }
                b34.LJIIJ.put("live_player_state", Integer.valueOf(LIZIZ.LJIILLIIL()));
                b34.LJIIJ.put("player_state", Integer.valueOf(LIZIZ.LJJIIZI()));
            }
            if (b34.LJIIIZ != 0) {
                String str = "1";
                if (LiveLogMonitorSampleSetting.INSTANCE.isReport("livesdk_enter_room_black_monitor", LiveLogMonitorSampleSetting.getSAMPLE_100())) {
                    HashMap hashMap = new HashMap();
                    hashMap.put("error_code", String.valueOf(b34.LJIIIZ));
                    b34.LIZJ("player_has_render", hashMap);
                    b34.LIZJ("room_status", hashMap);
                    b34.LIZJ("player_playback", hashMap);
                    b34.LIZJ("player_has_inner_error", hashMap);
                    b34.LIZJ("player_has_first_screen", hashMap);
                    b34.LIZJ("player_state", hashMap);
                    b34.LIZJ("live_player_state", hashMap);
                    b34.LIZJ("check_type", hashMap);
                    DataChannel dataChannel = b34.LIZ;
                    if (dataChannel != null) {
                        if (o.LJ(dataChannel.kv0(PIPStatusData.class), Boolean.TRUE)) {
                            obj2 = "1";
                        } else {
                            obj2 = CardStruct.IStatusCode.DEFAULT;
                        }
                        hashMap.put("is_in_pip", obj2);
                        BZI LIZ = C28787BRn.LIZ("livesdk_enter_room_black_monitor");
                        LIZ.LJJIFFI(hashMap);
                        if (!BuriedFieldReductionSetting.INSTANCE.isBuriedField(LIZ.LJIILL())) {
                            LIZ.LJIILLIIL(b34.LIZ);
                            LIZ.LJJIIJZLJL();
                        } else {
                            LIZ.LJJIJ();
                            LIZ.LJI();
                            LIZ.LJIJJ(BJM.LIZLLL(), "action_type");
                            LIZ.LJJIIZI();
                        }
                    }
                }
                if (((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isOffline()) {
                    HashMap hashMap2 = new HashMap();
                    hashMap2.put("error_code", String.valueOf(b34.LJIIIZ));
                    b34.LIZJ("player_has_render", hashMap2);
                    b34.LIZJ("room_status", hashMap2);
                    b34.LIZJ("player_playback", hashMap2);
                    b34.LIZJ("player_has_inner_error", hashMap2);
                    b34.LIZJ("player_has_first_screen", hashMap2);
                    b34.LIZJ("player_state", hashMap2);
                    b34.LIZJ("live_player_state", hashMap2);
                    b34.LIZJ("check_type", hashMap2);
                    DataChannel dataChannel2 = b34.LIZ;
                    if (dataChannel2 != null) {
                        if (!o.LJ(dataChannel2.kv0(PIPStatusData.class), Boolean.TRUE)) {
                            str = CardStruct.IStatusCode.DEFAULT;
                        }
                        hashMap2.put("is_in_pip", str);
                    }
                    B4I.LIZ("black_monitor", hashMap2.toString());
                }
            }
            b34.LJIIIIZZ = true;
            b34.LIZJ = false;
            b34.LIZLLL = false;
            b34.LJ = false;
            b34.LJFF = false;
            b34.LJI = false;
            ((LinkedHashMap) b34.LJIIJ).clear();
        }
    }

    public final void Am(RemindMessage remindMessage) {
        boolean z2;
        B35 b35;
        B35 b352;
        if (!isAdded()) {
            return;
        }
        if (remindMessage.noticeType == 2) {
            z2 = true;
        } else {
            z2 = false;
        }
        if (z2 == this.LLIIJLIL) {
            return;
        }
        this.LLIIJLIL = z2;
        if (z2) {
            hn("illegal Status");
            if (!isViewValid() || (b352 = this.LLIIIJ) == null) {
                return;
            }
            b352.lambda$setMuteNew$0(true, "enter illegal");
            return;
        }
        B35 b353 = this.LLIIIJ;
        if (b353 != null && b353.getDecodeStatus() == 1) {
            em("recover from illegal status");
        }
        if (!isViewValid() || (b35 = this.LLIIIJ) == null) {
            return;
        }
        b35.lambda$setMuteNew$0(false, "exit illegal");
    }

    public final void Cm(TW6 tw6) {
        if (!isResumed()) {
            DataChannel dataChannel = this.LLLIIL;
            if (dataChannel != null && ((Boolean) dataChannel.kv0(PIPStatusData.class)).booleanValue() && 3 != tw6.LIZ) {
                this.LLLIIL.qv0(LinkMicAudienceCancelEvent.class, Boolean.TRUE);
            }
            ((ArrayList) this.LLLLLZL).add(tw6);
            return;
        }
        if (this.LLII != B5V.LIVE_STARTED) {
            return;
        }
        int i = tw6.LIZ;
        if (3 == i) {
            this.LLLIIL.rv0(IsInteractingData.class, Boolean.TRUE);
            B35 b35 = this.LLIIIJ;
            if (b35 != null) {
                b35.stopWhenJoinInteract(getContext());
            }
            this.LLILL.LJI(4);
            C47061t0 c47061t0 = this.LLILIL;
            if (c47061t0 != null) {
                c47061t0.setVisibility(8);
            }
            B34 b34 = this.e;
            if (b34 != null) {
                b34.LJII = true;
            }
            LJIJ();
            return;
        }
        if (4 != i) {
            return;
        }
        this.LLLIIL.rv0(IsInteractingData.class, Boolean.FALSE);
        this.LLILL.LJI(0);
        if (this.LLIIIJ == null) {
            return;
        }
        if (MultiGuestV3PlaySetting.INSTANCE.getValue()) {
            if (!((IInteractService) CN1.LIZ(IInteractService.class)).ta0()) {
                this.LLIIIJ.tryResumePlay();
            }
        } else {
            this.LLIIIJ.tryResumePlay();
        }
        B34 b342 = this.e;
        if (b342 != null) {
            b342.LJII = false;
        }
        if (!this.LLIIJLIL) {
            return;
        }
        this.LLIIIJ.lambda$setMuteNew$0(true, "link mic to normal");
    }

    public final void Dm(boolean z2) {
        B4V b4v;
        Window window;
        if (z2) {
            if (this.LLIIIJ != null) {
                if (MultiGuestV3PlaySetting.INSTANCE.getValue()) {
                    if (!((IInteractService) CN1.LIZ(IInteractService.class)).ta0()) {
                        this.LLIIIJ.tryResumePlay();
                    }
                } else {
                    this.LLIIIJ.tryResumePlay();
                }
                ActivityC45651qj mo49getActivity = mo49getActivity();
                if (mo49getActivity == null || !C15410j3.LIZJ(mo49getActivity) || (window = mo49getActivity.getWindow()) == null) {
                    return;
                }
                if (window.getAttributes() == null || (window.getAttributes().flags & LiveLayoutPreloadThreadPriority.DEFAULT) != Integer.MIN_VALUE) {
                    window.addFlags(LiveLayoutPreloadThreadPriority.DEFAULT);
                }
                window.setStatusBarColor(-16777216);
                window.getDecorView().setSystemUiVisibility(0);
                return;
            }
            return;
        }
        B35 b35 = this.LLIIIJ;
        if (b35 != null) {
            b35.lambda$setMuteNew$0(true, "live event");
            if (this.LLLLZLLLI && (b4v = this.LLILL) != null && b4v.LIZ() != null) {
                this.LLIIIJ.stopWhenPlayingOther(this.LLILL.LIZ());
            } else {
                this.LLIIIJ.stopWhenPlayingOther(getContext());
            }
        }
        this.LLLLLJLJLL.post(new ARunnableS12S0000000_5(1));
    }

    public final void Dn(boolean z2) {
        boolean z3;
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            if (z2 && this.LLLILZLLLI) {
                z3 = true;
            } else {
                z3 = false;
            }
            bj9.LJIIIZ(z3);
        }
    }

    public final void Gl(boolean z2) {
        String str;
        if (!RecommendEndAtFollowingSetting.INSTANCE.getValue().styleIsNew) {
            RecommendSwipeOldWidget recommendSwipeOldWidget = this.LLLJIL;
            if (recommendSwipeOldWidget == null || recommendSwipeOldWidget.LLD < 0) {
                return;
            }
            recommendSwipeOldWidget.LJLZ();
            float f = recommendSwipeOldWidget.LJLLLL;
            if (f >= recommendSwipeOldWidget.LLFFF) {
                if (recommendSwipeOldWidget.LJZL) {
                    recommendSwipeOldWidget.LLD++;
                } else {
                    recommendSwipeOldWidget.LLD--;
                }
                C73943T0h.LIZ().LIZIZ(new B4S(recommendSwipeOldWidget.LLD, recommendSwipeOldWidget.LJZL));
                recommendSwipeOldWidget.LLFZ(true);
            } else if (recommendSwipeOldWidget.LLFII && f >= 0.14f && recommendSwipeOldWidget.LLIFFJFJJ) {
                recommendSwipeOldWidget.LLII(false);
                BKU.LJIIIIZZ = Math.min(recommendSwipeOldWidget.LJZ, recommendSwipeOldWidget.LLF * 1.0f);
                Handler handler = recommendSwipeOldWidget.LLFZ;
                if (handler != null) {
                    handler.removeCallbacksAndMessages(null);
                }
                Handler handler2 = recommendSwipeOldWidget.LLFZ;
                if (handler2 != null) {
                    handler2.postDelayed(new ARunnableS41S0100000_5(recommendSwipeOldWidget, 193), 1500L);
                }
                if (z2) {
                    BZI LIZ = C28787BRn.LIZ("livesdk_end_to_recommend_guide_show");
                    if (!recommendSwipeOldWidget.LJZL) {
                        str = "up";
                    } else {
                        str = "down";
                    }
                    LIZ.LJIJJ(str, "draw_action");
                    LIZ.LJIILLIIL(recommendSwipeOldWidget.dataChannel);
                    LIZ.LJJIIJZLJL();
                }
            } else {
                recommendSwipeOldWidget.LLFZ(true);
            }
            recommendSwipeOldWidget.LJZI = false;
            return;
        }
        RecommendSwipeNewWidget recommendSwipeNewWidget = this.LLLJL;
        if (recommendSwipeNewWidget == null) {
            return;
        }
        recommendSwipeNewWidget.LJLZ(z2);
    }

    public final void Hm(float f) {
        LiveSlideUpGuideWidget liveSlideUpGuideWidget = this.LLLL;
        if (liveSlideUpGuideWidget != null && liveSlideUpGuideWidget.isShowing()) {
            LiveSlideUpGuideWidget liveSlideUpGuideWidget2 = this.LLLL;
            o.LJIIIZ(liveSlideUpGuideWidget2, "liveSlideUpGuideWidget");
            B8U.LIZLLL = true;
            if (B8U.LJIIIIZZ == null) {
                B8U.LJIIIIZZ = Float.valueOf((B9K.LIZIZ(liveSlideUpGuideWidget2.context) / 3.0f) * 2);
            }
            Float f2 = B8U.LJIIIIZZ;
            if (f2 != null) {
                float abs = 1 - (Math.abs(f) / f2.floatValue());
                C47061t0 c47061t0 = liveSlideUpGuideWidget2.LJLIL;
                if (c47061t0 != null) {
                    c47061t0.setAlpha(abs);
                }
                C47121t6 c47121t6 = liveSlideUpGuideWidget2.LJLILLLLZI;
                if (c47121t6 == null) {
                    return;
                }
                c47121t6.setAlpha(abs);
            }
        }
    }

    public final void Hn(C28268B7o c28268B7o) {
        B42 b42;
        Al(2);
        Event event = new Event("live_play_end_room_user_close", 33799, EnumC28203B5b.BussinessApiCall);
        event.LIZIZ("user close");
        B57.LIZ.LIZ().LIZIZ(event);
        LiveLccMaskLayerWidget liveLccMaskLayerWidget = this.LLLILZ;
        if (liveLccMaskLayerWidget != null && liveLccMaskLayerWidget.isShowing()) {
            this.LLLILZ.LJZ("close");
            this.LLLILZ.LJLLI = true;
        }
        B4I.LIZ("LivePlayFragment", "user close");
        B5V b5v = this.LLII;
        B5V b5v2 = B5V.LIVE_STARTED;
        if (b5v == b5v2 && !this.LLIIJLIL) {
            ARunnableS8S0201000_5 aRunnableS8S0201000_5 = new ARunnableS8S0201000_5(2, this, c28268B7o, 13);
            if (c28268B7o.LIZIZ != 1) {
                if (!this.LLJIJIL.interceptCloseRoom(aRunnableS8S0201000_5, false, true, c28268B7o)) {
                    aRunnableS8S0201000_5.run();
                    return;
                }
                return;
            } else {
                if (this.LLJIJIL.interceptCloseRoom(aRunnableS8S0201000_5, false, false, c28268B7o)) {
                    return;
                }
                aRunnableS8S0201000_5.run();
                return;
            }
        }
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null && b5v == b5v2) {
            bj9.LJIIJJI();
            this.LLIIII.LJIIL(this.LJLJI);
            BTH.LJI();
            Dn(false);
            ((IGiftService) CN1.LIZ(IGiftService.class)).notifyUserLeaveRoom();
        }
        if (c28268B7o.LIZ == 8 && (b42 = this.r) != null && ((LiveRoomFragment) b42).Jl()) {
            return;
        }
        Il(B3O.LIZLLL);
        Ml(B5U.USER_CLOSE);
    }

    /* JADX WARN: Code restructure failed: missing block: B:12:0x0025, code lost:
    
        if (r7 == null) goto L18;
     */
    /* JADX WARN: Code restructure failed: missing block: B:13:0x0027, code lost:
    
        r7 = "";
     */
    /* JADX WARN: Code restructure failed: missing block: B:14:0x0028, code lost:
    
        if (r10 == null) goto L22;
     */
    /* JADX WARN: Code restructure failed: missing block: B:15:0x002e, code lost:
    
        r8 = "";
     */
    /* JADX WARN: Code restructure failed: missing block: B:16:0x002f, code lost:
    
        r3.LJIILJJIL(r4, r6, r7, r8);
        r3.LIZLLL = 0;
        r3.LJ = 0;
        r3.LIZIZ = "";
        r3.LJIILIIL();
     */
    /* JADX WARN: Code restructure failed: missing block: B:17:?, code lost:
    
        return;
     */
    /* JADX WARN: Code restructure failed: missing block: B:19:0x002a, code lost:
    
        r8 = r10.LIZJ;
     */
    /* JADX WARN: Code restructure failed: missing block: B:20:0x002c, code lost:
    
        if (r8 != null) goto L23;
     */
    /* JADX WARN: Code restructure failed: missing block: B:22:0x0021, code lost:
    
        if (r10 != null) goto L16;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Il(X.B5C r10) {
        /*
            r9 = this;
            X.B4i r3 = r9.LLLLLLLLL
            if (r3 == 0) goto La
            boolean r0 = r3.LJIIIZ()
            if (r0 != 0) goto Lb
        La:
            return
        Lb:
            java.lang.String r0 = r3.LIZIZ
            boolean r0 = android.text.TextUtils.isEmpty(r0)
            if (r0 == 0) goto L14
            goto La
        L14:
            long r4 = java.lang.System.currentTimeMillis()
            java.lang.String r2 = ""
            if (r10 == 0) goto L20
            java.lang.String r6 = r10.LIZ
            if (r6 != 0) goto L23
        L20:
            r6 = r2
            if (r10 == 0) goto L27
        L23:
            java.lang.String r7 = r10.LIZIZ
            if (r7 != 0) goto L2a
        L27:
            r7 = r2
            if (r10 == 0) goto L2e
        L2a:
            java.lang.String r8 = r10.LIZJ
            if (r8 != 0) goto L2f
        L2e:
            r8 = r2
        L2f:
            r3.LJIILJJIL(r4, r6, r7, r8)
            r0 = 0
            r3.LIZLLL = r0
            r3.LJ = r0
            r3.LIZIZ = r2
            r3.LJIILIIL()
            goto La
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.Il(X.B5C):void");
    }

    @Override // X.BKJ
    public final void Jf(boolean z2) {
        B35 b35 = this.LLIIIJ;
        if (b35 != null) {
            b35.lambda$setMuteNew$0(z2, "live_room_is_not_top_activity");
        }
    }

    public final void Jm(boolean z2) {
        Object obj;
        int i;
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null) {
            obj = dataChannel.kv0(C28401BCr.class);
        } else {
            obj = null;
        }
        if (obj instanceof Integer) {
            i = ((Integer) obj).intValue();
        } else {
            i = 0;
        }
        RoomStatus roomStatus = new RoomStatus();
        roomStatus.isFinish = z2;
        roomStatus.countOfWatchUsers = i;
        roomStatus.anchorId = this.LJLJJI;
        roomStatus.roomId = this.LJLIL;
        if (mo49getActivity() == null) {
            return;
        }
        Intent intent = mo49getActivity().getIntent();
        if (intent != null) {
            intent.putExtra("host_room_status_event", roomStatus);
        }
        B42 b42 = this.r;
        if (b42 != null) {
            AbstractC28221B5t abstractC28221B5t = ((LiveRoomFragment) b42).LLFFF;
            if (abstractC28221B5t instanceof C28608BKq) {
                C28608BKq c28608BKq = (C28608BKq) abstractC28221B5t;
                c28608BKq.getClass();
                HashMap hashMap = new HashMap();
                hashMap.put("roomId", String.valueOf(roomStatus.roomId));
                hashMap.put("anchorId", String.valueOf(roomStatus.anchorId));
                hashMap.put("countOfWatchUsers", String.valueOf(roomStatus.countOfWatchUsers));
                hashMap.put("isFinish", String.valueOf(roomStatus.isFinish));
                InterfaceC28610BKs interfaceC28610BKs = c28608BKq.LJLJJL;
                if (interfaceC28610BKs != null) {
                    interfaceC28610BKs.LIZJ(hashMap);
                }
            }
        }
    }

    /* JADX WARN: Can't wrap try/catch for region: R(15:(7:98|(2:123|(1:125)(1:126))|100|(1:104)|105|(3:109|(1:117)(1:115)|116)|118)|22|(3:24|(2:26|(3:28|29|(2:37|(2:39|40)(2:41|(2:43|44)(1:45)))(2:34|35)))(0)|46)|97|89|90|(1:92)|48|(1:88)|56|(5:58|(1:60)|61|(2:63|(1:65)(2:66|(3:68|(2:72|(3:74|(1:78)|79))|80)))|81)(2:82|(3:84|(1:87)|86))|29|(1:31)|37|(0)(0)) */
    /* JADX WARN: Code restructure failed: missing block: B:127:0x005f, code lost:
    
        if (r7 != false) goto L22;
     */
    /* JADX WARN: Code restructure failed: missing block: B:47:0x00e5, code lost:
    
        if (r0 <= 0) goto L128;
     */
    /* JADX WARN: Code restructure failed: missing block: B:94:0x0105, code lost:
    
        r3 = move-exception;
     */
    /* JADX WARN: Code restructure failed: missing block: B:95:0x0106, code lost:
    
        X.C0NB.LJI("LivePlayFragment", r3);
     */
    /* JADX WARN: Code restructure failed: missing block: B:96:0x00dd, code lost:
    
        if (r4 != null) goto L55;
     */
    /* JADX WARN: Removed duplicated region for block: B:39:0x022e  */
    /* JADX WARN: Removed duplicated region for block: B:41:0x0251  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Km(boolean r19) {
        /*
            Method dump skipped, instructions count: 636
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.Km(boolean):void");
    }

    @Override // X.BKJ
    public final void LLLIIII(boolean z2) {
        if (z2) {
            if (!getUserVisibleHint()) {
                return;
            }
            if (((IInteractService) CN1.LIZ(IInteractService.class)).xz(((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId()) == B5Y.GUEST_AUDIENCE) {
                xl();
            }
            B35 b35 = this.LLIIIJ;
            if (b35 != null) {
                b35.changeSRSupportScene(false);
            }
            this.LLLIIL.qv0(PIPModeChangeEvent.class, new OSZ(Boolean.TRUE, Integer.valueOf(this.LLILL.LIZ.getWidth())));
            this.LLLLIILLL = true;
            return;
        }
        View view = this.LLLLLLZZ;
        if (view == null) {
            return;
        }
        KL2.LJIILLIIL(0, view.findViewById(R.id.dm7));
        ActivityC45651qj mo49getActivity = mo49getActivity();
        if (C30184Bsy.LIZIZ(mo49getActivity)) {
            return;
        }
        if (this.s) {
            C28787BRn.LIZ("livesdk_mini_window_close").LJJIIJZLJL();
            mo49getActivity.finishAndRemoveTask();
            C28151B3b.LIZ().LIZIZ();
        } else {
            if (UnusedLogOfflineSetting.INSTANCE.isEnable("livesdk_mini_window_return_full")) {
                C28787BRn.LIZ("livesdk_mini_window_return_full").LJJIIJZLJL();
            }
            this.LLLLLJLJLL.postDelayed(new ARunnableS41S0100000_5(this, 132), 200L);
            this.LLLZZ = null;
        }
    }

    public final boolean Ll(int i) {
        boolean z2;
        Configuration configuration;
        ActivityC45651qj mo49getActivity = mo49getActivity();
        if (!isViewValid() || mo49getActivity == null || !C29306Beo.LJIIZILJ(i) || i == this.LLFFF) {
            return false;
        }
        if (mo49getActivity.getRequestedOrientation() == 1) {
            z2 = true;
        } else {
            z2 = false;
        }
        Rm(z2, false);
        if (this.LLJIJIL != null && mo49getActivity.getWindow() != null && Im().l3() != null) {
            ((B59) Im().l3()).LIZ(false);
        }
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            bj9.LJIIJJI();
        }
        fm();
        mo49getActivity.setRequestedOrientation(i);
        this.LLIILII = true;
        if (getContext() != null && this.LLLLLLZ == null) {
            this.LLLLLLZ = getResources().getConfiguration();
        }
        if (!z2 && (configuration = this.LLLLLLZ) != null) {
            configuration.orientation = i;
            onConfigurationChanged(configuration);
        }
        return true;
    }

    @Override // X.BKJ
    public final void Mj(LiveRoomFragment liveRoomFragment) {
        this.r = liveRoomFragment;
    }

    public final void Ml(B5U b5u) {
        Nl(b5u, "");
    }

    public final void Mn(C28272B7s c28272B7s) {
        if (!this.LLLLLIL || TextUtils.isEmpty(c28272B7s.LIZIZ)) {
            return;
        }
        B3G b3g = this.LLZZLLIL;
        if (b3g == null && (b3g = An()) == null) {
            C0NB.LIZIZ("1VNExperienceV1", "LivePlayFragment_updateSeiToMultiGuestV3PreAdjustPlayerManager return multiGuestV3PreAdjustPlayerManager is null");
        } else {
            b3g.d(c28272B7s);
        }
    }

    public final void Nm(boolean z2) {
        if (z2) {
            if (this.LLLIIL != null) {
                this.LLLIIL.rv0(LandscapeInteractionMarginData.class, new C28157B3h());
                return;
            }
            return;
        }
        C232529Aq c232529Aq = new C232529Aq();
        c232529Aq.LIZ = true;
        ym(c232529Aq);
    }

    public final <T> void Om(Class<T> cls) {
        this.LLZ.LIZ(C73943T0h.LIZ().LJ(cls).LJJJLIIL(new AfS57S0100000_5(this, 66), new AfS37S0000000_5(3)));
    }

    public final void Tm(boolean z2) {
        B35 b35 = this.LLIIIJ;
        if (b35 == null) {
            if (this.LLLLZ != null && !this.LLLLLILLIL) {
                ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).PX(this.LLLLZ);
                return;
            }
            return;
        }
        if (b35.getDecodeStatus() == 2) {
            Hl(104, this.LJLIL, this.LLIIIJ.getMediaErrorMessage());
        } else if (this.LLIIIJ.getDecodeStatus() != 1) {
            B32 b32 = this.LLLLLLL;
            long j = this.LJLIL;
            if (B32.LJII) {
                b32.getClass();
            } else if (!b32.LIZIZ) {
                b32.LIZIZ = true;
                long LJIIIIZZ = b32.LJIIIIZZ();
                JSONObject jSONObject = new JSONObject();
                C05630Jz.LJI(jSONObject, "enter_room_type", "other");
                C05630Jz.LJFF(jSONObject, "room_id", j);
                Pair LJIIIZ = B32.LJIIIZ();
                C05630Jz.LJI(jSONObject, "enter_from_merge", (String) LJIIIZ.first);
                C05630Jz.LJI(jSONObject, "enter_method", (String) LJIIIZ.second);
                LiveMonitorSampleSetting liveMonitorSampleSetting = LiveMonitorSampleSetting.INSTANCE;
                if (liveMonitorSampleSetting.isReportDolphin("ttlive_audience_enter_room_all", LivesdkLinkmicFloatWindowOptimizeSetting.CORNER_RADIUS_PX)) {
                    C0K2.LJIIJ(2, LJIIIIZZ, "ttlive_audience_enter_room_all", jSONObject);
                }
                if (liveMonitorSampleSetting.isReportSlardar("ttlive_audience_enter_room_error")) {
                    C0K2.LJIILLIIL(2, 1, "ttlive_audience_enter_room_error", jSONObject);
                }
                BKQ LIZIZ = BKQ.LIZIZ();
                String str = EnumC30551Byt.Room.info;
                LIZIZ.getClass();
                BKQ.LIZLLL(str, "ttlive_audience_enter_room", 2, jSONObject);
                if (((C29374Bfu) B83.LIZ().LIZIZ()).LJIIJJI()) {
                    C0K2.LJIIJ(2, LJIIIIZZ, "ttlive_audience_minor_enter_room_all", jSONObject);
                    C0K2.LJIIIIZZ("ttlive_audience_minor_enter_room_error", 2, jSONObject);
                }
            }
            Hl(113, this.LJLIL, "room cancel");
        }
        this.LLIIIJ.stop(z2);
        if (this.LLLLZLLLI) {
            B4I.LIZ("LivePlayFragment", "reset player -> clear share player streamData.");
            EnterRoomConfig enterRoomConfig = this.LLLZL;
            if (enterRoomConfig != null) {
                enterRoomConfig.mStreamData.sharePullStreamData = "";
            }
        }
        if (!this.LLLLLILLIL) {
            this.LLIIIJ.recycle();
        }
        InterfaceC28738BPq LIZIZ2 = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
        if (LIZIZ2 != null) {
            B4I.LIZ("PreCreateSurface", "reset player, clear 1px");
            LIZIZ2.LJJIIJ();
            this.LLLZL.mStreamData.enablePreCreateSurface = false;
        }
        if (!this.LLLLLILLIL) {
            this.LLIIIJ = null;
            this.LLLLZ = null;
        }
        LJIJ();
        InterfaceC28169B3t interfaceC28169B3t = this.LLLLZLL;
        if (interfaceC28169B3t != null) {
            interfaceC28169B3t.LIZ();
        }
        if (!this.LLJLLIL) {
            InterfaceC28169B3t interfaceC28169B3t2 = this.LLLLZLL;
            if (interfaceC28169B3t2 != null) {
                interfaceC28169B3t2.LIZ();
            }
            hn("reset player");
            this.LLILL.LJI(8);
            C47061t0 c47061t0 = this.LLILIL;
            if (c47061t0 != null) {
                c47061t0.setVisibility(8);
            }
        }
        this.LLIIL = false;
        this.LLFII = false;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("resetPlayer, roomId=");
        LIZ.append(this.LJLIL);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        cn(0);
    }

    @Override // X.BKJ
    public final void W2(InterfaceC28159B3j interfaceC28159B3j) {
        this.LLJL = interfaceC28159B3j;
    }

    public final void Xm(B4Q b4q) {
        int LJFF;
        int intValue;
        if (getContext() == null || this.LLLIIL == null) {
            return;
        }
        int i = 0;
        boolean z2 = true;
        if (this.LLFFF != 1) {
            z2 = false;
        }
        Context context = getContext();
        if (z2 || !C30149BsP.LIZIZ(this.LLLIIL)) {
            return;
        }
        TtliveGameLandscapeDesignOptimizeSetting ttliveGameLandscapeDesignOptimizeSetting = TtliveGameLandscapeDesignOptimizeSetting.INSTANCE;
        if (ttliveGameLandscapeDesignOptimizeSetting.isGroup4()) {
            return;
        }
        if (b4q.LIZIZ) {
            OSZ osz = (OSZ) this.LLLIIL.kv0(BCI.class);
            if (!ttliveGameLandscapeDesignOptimizeSetting.isGroup3()) {
                i = C15380j0.LJFF(R.dimen.adg);
            }
            if (osz == null || ((Integer) osz.getFirst()).intValue() <= 0 || ((Integer) osz.getSecond()).intValue() <= 0) {
                LJFF = C15380j0.LJFF(R.dimen.add);
            } else {
                int LJIIJJI = C15380j0.LJIIJJI() - (b4q.LIZ + i);
                if (ttliveGameLandscapeDesignOptimizeSetting.isGroup3()) {
                    intValue = (int) ((((Integer) osz.getFirst()).intValue() / ((Integer) osz.getSecond()).intValue()) * LJIIJJI);
                } else {
                    intValue = (((Integer) osz.getFirst()).intValue() / ((Integer) osz.getSecond()).intValue()) * LJIIJJI;
                }
                LJFF = C15380j0.LJIIL() - intValue;
                if (C15410j3.LIZJ(context)) {
                    LJFF -= C15380j0.LJIILIIL();
                }
            }
            i += b4q.LIZ;
        } else {
            LJFF = C15380j0.LJFF(R.dimen.adf);
        }
        ViewGroup.LayoutParams layoutParams = this.LLILZLL.getLayoutParams();
        if (!(layoutParams instanceof ViewGroup.MarginLayoutParams)) {
            return;
        }
        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) layoutParams;
        marginLayoutParams.setMarginEnd(LJFF);
        marginLayoutParams.bottomMargin = i;
        this.LLILZLL.setLayoutParams(layoutParams);
    }

    public final void Zl(String str) {
        PunishEventInfo punishEventInfo;
        if (TextUtils.isEmpty(str) || !str.contains("punish_info")) {
            return;
        }
        try {
            ExtraResult extraResult = (ExtraResult) C09650Zl.LIZJ.LJI(str, ExtraResult.class);
            if (extraResult == null || (punishEventInfo = extraResult.punishInfo) == null) {
                return;
            }
            this.LLJJL = punishEventInfo.punishId;
        } catch (Exception e) {
            C0NB.LJ("LivePlayFragment", e.getMessage());
        }
    }

    public final void cn(int i) {
        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) this.LLILZLL.getLayoutParams();
        if (marginLayoutParams.topMargin == i) {
            return;
        }
        marginLayoutParams.topMargin = i;
        this.LLILZLL.setLayoutParams(marginLayoutParams);
    }

    public final void dm(String str) {
        if (str.startsWith("subscribe_badge_")) {
            String substring = str.substring(16);
            if (TextUtils.isEmpty(substring)) {
                return;
            }
            if (!substring.contains("show_entrance")) {
                C32364Cn2 c32364Cn2 = new C32364Cn2(substring);
                c32364Cn2.LIZJ("show_entrance", "personal_profile_badge");
                substring = c32364Cn2.LIZLLL();
            }
            ((IActionHandlerService) CN1.LIZ(IActionHandlerService.class)).handle(getContext(), substring);
            return;
        }
        if (str.startsWith("subscribe_entrance_")) {
            if ("subscribe_entrance_emote_bar".equals(str) && SubscribeShortPaySetting.INSTANCE.getValue()) {
                ((ISubscribeService) CN1.LIZ(ISubscribeService.class)).Up(getContext(), this.LJLJI, LiveSubscribeLynxUrl.INSTANCE.getValue().getAnchor_user_badge_or_emotes_subscribe(), "emote_bar", C03660Ck.LIZJ("page_type", "emotes"), null);
                return;
            }
            str = str.substring(19);
        }
        if (str.startsWith("live_pro_badge_")) {
            String substring2 = str.substring(15);
            if (TextUtils.isEmpty(substring2)) {
                return;
            }
            ((IActionHandlerService) CN1.LIZ(IActionHandlerService.class)).handle(getContext(), substring2);
            return;
        }
        if (this.LJLJI.getOwner().isSubscribed()) {
            ((ISubscribeService) CN1.LIZ(ISubscribeService.class)).Ee(getContext(), this.LJLJI, str);
        } else {
            ((ISubscribeService) CN1.LIZ(ISubscribeService.class)).kg0(getContext(), this.LJLJI, str, null);
        }
    }

    public final void em(String str) {
        C47061t0 c47061t0 = this.LLILLJJLI;
        if (c47061t0 != null && c47061t0.getVisibility() != 8) {
            this.LLILLJJLI.setVisibility(8);
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("hide Background, reason: ");
        LIZ.append(str);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        Zm(str, false);
        InterfaceC28169B3t interfaceC28169B3t = this.LLLLZLL;
        if (interfaceC28169B3t != null) {
            interfaceC28169B3t.LIZ();
        }
        this.LLLIIL.qv0(LivePlayBgVisibilityChange.class, this.LLILLJJLI);
    }

    @Override // X.BKJ
    public final void ga(int i) {
        this.LLLZIL = i;
    }

    public final void hn(String str) {
        InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
        if (LIZIZ != null && LIZIZ.LJIJJLI()) {
            C47061t0 c47061t0 = this.LLILLJJLI;
            if (c47061t0 != null && c47061t0.getContext() != null) {
                this.LLILLJJLI.setVisibility(8);
                return;
            }
            return;
        }
        InterfaceC28169B3t interfaceC28169B3t = this.LLLLZLL;
        if (interfaceC28169B3t != null) {
            interfaceC28169B3t.LIZ();
        }
        C47061t0 c47061t02 = this.LLILLJJLI;
        if (c47061t02 != null && c47061t02.getContext() != null && this.LLILLJJLI.getVisibility() != 0) {
            this.LLILLJJLI.setVisibility(0);
        }
        StringBuilder LIZJ = b1.LIZJ("show Background , reason: ", str);
        LIZJ.append(this.LJLIL);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZJ));
        Zm(str, true);
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null) {
            dataChannel.qv0(LivePlayBgVisibilityChange.class, this.LLILLJJLI);
        }
    }

    @QD3
    public void liveUserKickOut(C28155B3f c28155B3f) {
        Room room;
        if (c28155B3f != null && (room = this.LJLJI) != null && room.getOwner() != null && C38354F3m.LIZJ(c28155B3f.LJLILLLLZI, String.valueOf(this.LJLJI.getOwner().getId()))) {
            this.LLLZLZ = c28155B3f.LJLIL;
        }
    }

    public final boolean lm(int i) {
        PipVideoViewContainDialog pipVideoViewContainDialog;
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel == null || !((Boolean) dataChannel.kv0(PIPStatusData.class)).booleanValue() || (pipVideoViewContainDialog = this.v) == null) {
            return false;
        }
        if (i == 1) {
            pipVideoViewContainDialog.xl(i, new AObjectS50S0101000_5(0, this, 1));
            return false;
        }
        if (i == 2 || i == 3 || i == 4 || i == 5) {
            pipVideoViewContainDialog.xl(i, new AObjectS56S0101000_13(1, this, 1));
        }
        return true;
    }

    @Override // androidx.fragment.app.Fragment
    public final void onActivityCreated(Bundle bundle) {
        super.onActivityCreated(bundle);
        try {
            if (!GameLiveLandscapeEnterOp.INSTANCE.getValue() && this.LLZILL && this.LLFFF != mo49getActivity().getRequestedOrientation()) {
                mo49getActivity().setRequestedOrientation(this.LLFFF);
                C0NB.LJIIL("ttlive_room", "reset setRequestedOrientation ......................");
            }
        } catch (Exception unused) {
            C0NB.LJIIIZ("ttlive_room", "setRequestedOrientation wrong");
        }
        FragmentManager childFragmentManager = getChildFragmentManager();
        Fragment LJJJIL = childFragmentManager.LJJJIL("AbsInteractionFragment");
        if (LJJJIL != null) {
            C1B3 c1b3 = new C1B3(childFragmentManager);
            c1b3.LJJI(LJJJIL);
            c1b3.LJI();
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:173:0x0169, code lost:
    
        if (r9 != false) goto L31;
     */
    /* JADX WARN: Type inference failed for: r3v4, types: [X.B87, O] */
    /* JADX WARN: Type inference failed for: r4v4, types: [X.OSZ, O] */
    @Override // androidx.fragment.app.Fragment, android.content.ComponentCallbacks
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void onConfigurationChanged(android.content.res.Configuration r23) {
        /*
            Method dump skipped, instructions count: 1020
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.onConfigurationChanged(android.content.res.Configuration):void");
    }

    /* JADX WARN: Type inference failed for: r1v0, types: [X.B8q, O] */
    /* JADX WARN: Type inference failed for: r1v2, types: [androidx.fragment.app.FragmentManager, O] */
    /* JADX WARN: Type inference failed for: r1v24, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r1v3, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r1v5, types: [com.bytedance.android.livesdk.model.AdLiveEnterRoomConfig, O] */
    /* JADX WARN: Type inference failed for: r1v6, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r2v9, types: [X.B6s, O] */
    /* JADX WARN: Type inference failed for: r4v9, types: [java.lang.String, O] */
    /* JADX WARN: Type inference failed for: r5v5, types: [java.lang.String, O] */
    /* JADX WARN: Type inference failed for: r7v6, types: [java.lang.String, O] */
    @Override // com.bytedance.android.livesdk.ui.BaseFragment, com.bytedance.android.live.design.resource.theme.LiveThemeAwareFragment, androidx.fragment.app.Fragment
    public final void onCreate(Bundle bundle) {
        boolean z2;
        String str;
        String str2;
        Long l;
        EnterRoomLinkSession LIZ;
        EnterRoomConfig enterRoomConfig;
        AbstractC28221B5t abstractC28221B5t;
        this.LLLLLLIL = new HashMap<>();
        this.LLLLLLJ = System.currentTimeMillis();
        DataChannel LIZ2 = BHA.LIZ(ViewModelProviders.of(this), this);
        this.LLLIIL = LIZ2;
        ((C32537Cpp) LIZ2.gv0(C28406BCw.class)).LIZ = this.l;
        this.LLLIIL.rv0(LiveFragmentVisibility.class, Boolean.valueOf(this.LLZILL));
        ((C32537Cpp) this.LLLIIL.gv0(C29494Bhq.class)).LIZ = getChildFragmentManager();
        DataChannel dataChannel = this.LLLIIL;
        B42 b42 = this.r;
        if (b42 == null || (abstractC28221B5t = ((LiveRoomFragment) b42).LLFFF) == null || (!(abstractC28221B5t instanceof BLL) && !(abstractC28221B5t instanceof MultiPlusFeedRoomListProvider))) {
            z2 = false;
        } else {
            z2 = true;
        }
        ((C32537Cpp) dataChannel.gv0(BCU.class)).LIZ = Boolean.valueOf(z2);
        super.onCreate(bundle);
        if (bundle != null && this.LLLZL == null && bundle.getParcelable("enter_room_config") != null) {
            this.LLLZL = (EnterRoomConfig) bundle.getParcelable("enter_room_config");
        }
        long j = this.LLLZL.mLogData.fromPortalId;
        if (j > 0) {
            C28733BPl LJIILIIL = C28733BPl.LJIILIIL();
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("entering target room, portalId=");
            LIZ3.append(j);
            String LIZIZ = X1D.LIZIZ(LIZ3);
            LJIILIIL.getClass();
            C0NE.LJII("ttlive_portal", LIZIZ);
        }
        DataChannel dataChannel2 = this.LLLIIL;
        EnterRoomConfig config = this.LLLZL;
        o.LJIIIZ(config, "config");
        if (dataChannel2 != null) {
            ((C32537Cpp) dataChannel2.gv0(BDC.class)).LIZ = config.mRoomsData.adLiveEnterRoomConfig;
            ((C32537Cpp) dataChannel2.gv0(BCT.class)).LIZ = Boolean.valueOf(config.mRoomsData.enterFromAd);
            C28835BTj.LIZIZ.put(Long.valueOf(config.mRoomsData.roomId), C28835BTj.LIZIZ(null, dataChannel2, null));
        }
        EnterRoomConfig.RoomsData roomsData = this.LLLZL.mRoomsData;
        long j2 = roomsData.roomId;
        if (j2 > 0) {
            this.LJLIL = j2;
        }
        if (!C38354F3m.LJ(roomsData.userId)) {
            try {
                this.LJLJJI = CastLongProtector.parseLong(this.LLLZL.mRoomsData.userId.trim());
            } catch (NumberFormatException e) {
                C0NB.LIZLLL(e.getMessage());
            }
        }
        EnterRoomConfig enterRoomConfig2 = B57.LIZ.LIZ().mEnterRoomConfig;
        if (enterRoomConfig2 != null) {
            B3E b3e = new B3E();
            b3e.LIZIZ = this.LJLJI;
            b3e.LIZJ = Long.valueOf(this.LJLJJI);
            b3e.LIZ = "live_detail";
            BJL bjl = (BJL) DataChannelGlobal.LJLJJI.mv0(C29054Bak.class);
            if (bjl != null) {
                Map<String, String> map = bjl.LJJIL;
                try {
                    EnterRoomConfig.LogData logData = enterRoomConfig2.mLogData;
                    if (logData != null && (str = logData.search_result_id_v2) != null) {
                        int i = logData.search_result_type;
                        if (map != null) {
                            if (2 == i) {
                                map.put("search_result_id", str);
                            } else {
                                map.put("search_result_id", logData.search_result_id);
                            }
                        }
                    }
                } catch (Throwable th) {
                    B4I.LIZIZ("checkSearchCommonLog", th.getMessage());
                }
                bjl.LJJIL = map;
            }
            b3e.LJ = bjl;
            b3e.LJFF = (B8D) DataChannelGlobal.LJLJJI.mv0(C29055Bal.class);
            EnterRoomConfig.RoomsData roomsData2 = enterRoomConfig2.mRoomsData;
            b3e.LJI = roomsData2.followStatus;
            b3e.LJII = Boolean.valueOf(roomsData2.isFresh);
            ((C32537Cpp) this.LLLIIL.gv0(BJO.class)).LIZ = b3e.LIZ();
        }
        EnterRoomConfig enterRoomConfig3 = this.LLLZL;
        EnterRoomConfig.RoomsData roomsData3 = enterRoomConfig3.mRoomsData;
        if (roomsData3.enterRoomId <= 0) {
            roomsData3.enterRoomId = this.LJLIL;
        }
        if (roomsData3.enterUserId <= 0) {
            long j3 = this.LJLJJI;
            if (j3 <= 0 && !TextUtils.isEmpty(enterRoomConfig3.mLogData.anchorId)) {
                try {
                    j3 = CastLongProtector.parseLong(this.LLLZL.mLogData.anchorId);
                } catch (Exception unused) {
                }
            }
            this.LLLZL.mRoomsData.enterUserId = j3;
        }
        EnterRoomConfig.RoomsData roomsData4 = this.LLLZL.mRoomsData;
        this.LJLJJL = roomsData4.bgUrls;
        this.LJLJJLL = roomsData4.gaussianBgUrls;
        if (FirstScreenOptSwitcher.INSTANCE.getValue()) {
            EnterRoomConfig.StreamData streamData = this.LLLZL.mStreamData;
            this.LJLJL = streamData.pullStreamUrl;
            this.LJLJLJ = streamData.pullSDKParam;
            this.LJLJLLL = streamData.pullStreamData;
            this.LJLL = streamData.options;
            this.LJLLI = streamData.pullDefaultResolution;
            this.LJLLJ = LiveMode.valueOf(streamData.streamType);
            EnterRoomConfig.StreamData streamData2 = this.LLLZL.mStreamData;
            this.LJLLILLLL = new StreamUrlExtra.SrConfig(streamData2.extraStreamSREnable, streamData2.extraStreamSRAntiAlias, streamData2.extraStreamSRStrength);
        }
        if (this.LJLIL != 0 || this.LJLJJI != 0) {
            this.LLII = B5V.INITIALIZED;
        }
        this.LLLLLZIL = false;
        this.LLJJJJ = false;
        this.LLJJJJJIL = false;
        this.LLLILZLLLI = false;
        EnterRoomConfig enterRoomConfig4 = this.LLLZL;
        EnterRoomConfig.LogData logData2 = enterRoomConfig4.mLogData;
        this.LLJJ = logData2.requestId;
        this.LLJJIII = logData2.userFrom;
        EnterRoomConfig.RoomsData roomsData5 = enterRoomConfig4.mRoomsData;
        this.LLJJIJI = roomsData5.sourceType;
        String str3 = roomsData5.sceneId;
        String str4 = roomsData5.enterFromMerge;
        String str5 = roomsData5.enterMethod;
        if (this.LLZILL) {
            BM1.LIZLLL(str5, str4);
            BM1.LJIIZILJ = this.LLLZL.mRoomsData.gameLiveExtra;
        }
        EnterRoomConfig enterRoomConfig5 = this.LLLZL;
        EnterRoomConfig.RoomsData roomsData6 = enterRoomConfig5.mRoomsData;
        String str6 = roomsData6.roomLabels;
        String str7 = roomsData6.enterLiveSource;
        String str8 = roomsData6.enterFromMergeRecommend;
        this.LJLLL = roomsData6.openGiftPanel;
        roomsData6.openGiftPanel = false;
        this.LJZL = roomsData6.openPropPanel;
        this.LJLLLLLL = roomsData6.openSubscribePanel;
        roomsData6.openSubscribePanel = false;
        this.LLF = roomsData6.deepLinkData;
        roomsData6.openPropPanel = false;
        this.LJLZ = roomsData6.anchorGiftId;
        roomsData6.anchorGiftId = 0L;
        this.LJZ = roomsData6.openUrlLink;
        roomsData6.openUrlLink = "";
        this.LJLLLL = roomsData6.sendSubscriptionCapsule;
        roomsData6.sendSubscriptionCapsule = false;
        EnterRoomConfig.LogData logData3 = enterRoomConfig5.mLogData;
        this.LJZI = logData3.popType;
        logData3.popType = "";
        if (this.LLJJI == null && !C38354F3m.LJ(logData3.logPb)) {
            this.LLJJI = this.LLLZL.mLogData.logPb;
        }
        if (this.LLJJIII == 0) {
            long j4 = this.LLLZL.mLogData.userFrom;
            if (j4 != 0) {
                this.LLJJIII = j4;
            }
        }
        BJ9 bj9 = new BJ9(getContext(), this.LLJJ, this.LLJJI, this.LLJJIII, str6, str7, this.LLLZL, str4, str5);
        this.LLIIII = bj9;
        long j5 = this.LJLIL;
        long j6 = this.LJLJJI;
        bj9.LJIIJJI = j5;
        bj9.LJJIIZ = j6;
        bj9.LJJIJ = this.LLJJIJI;
        bj9.LJJIJLIJ = str3;
        bj9.LJJIL = str8;
        C28643BLz c28643BLz = B57.LIZ;
        bj9.LJJIIZI = c28643BLz.LIZIZ;
        this.LLLIIL.rv0(WatchDurationChannel.class, new AObjectS50S0101000_5(1, this, 2));
        this.LLLLLLL = new B32();
        C28184B4i c28184B4i = new C28184B4i(this.LJLJI);
        this.LLLLLLLLL = c28184B4i;
        DataChannel dataChannel3 = this.LLLIIL;
        c28184B4i.LJIILL = dataChannel3;
        EnterRoomLinkSession LIZ4 = c28643BLz.LIZ();
        if (LIZ4 != null) {
            str2 = LIZ4.LJ();
        } else {
            str2 = null;
        }
        StringBuilder LIZ5 = X1D.LIZ();
        Room room = c28184B4i.LIZ;
        if (room != null) {
            l = Long.valueOf(room.getId());
        } else {
            l = null;
        }
        LIZ5.append(l);
        LIZ5.append('_');
        LIZ5.append(str2);
        c28184B4i.LIZJ = X1D.LIZIZ(LIZ5);
        if (dataChannel3 != null) {
            dataChannel3.ov0(dataChannel3.LJLJJI, BufferingEvent.class, new AqS171S0100000_5(c28184B4i, 515));
            dataChannel3.ov0(dataChannel3.LJLJJI, FirstFrameChannelEvent.class, new AqS171S0100000_5(c28184B4i, 516));
            dataChannel3.ov0(dataChannel3.LJLJJI, GameLiveAbrNewResolution.class, new AqS171S0100000_5(c28184B4i, 517));
            dataChannel3.ov0(dataChannel3.LJLJJI, AudienceLastSelectDefinitionInfo.class, new AqS171S0100000_5(c28184B4i, 518));
            dataChannel3.ov0(dataChannel3.LJLJJI, AudienceResolutionDegrade.class, new AqS171S0100000_5(c28184B4i, 519));
        }
        if (y.booleanValue()) {
            StringBuilder LIZ6 = X1D.LIZ();
            LIZ6.append("onCreate -> roomId=");
            LIZ6.append(this.LJLIL);
            LIZ6.append(", userId=");
            LIZ6.append(this.LJLJJI);
            B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ6));
        }
        if (!LiveWatchPreloadSettings.INSTANCE.disableUnusedLog()) {
            C7MY.LJFF(System.currentTimeMillis(), this.LLLLLLJ, this.LLLLLLIL, "time");
            this.LLLLLLIL.put("location", "finish live play oncreate");
            BZI LIZIZ2 = C28787BRn.LIZIZ("feed_enter_room");
            LIZIZ2.LJJIFFI(this.LLLLLLIL);
            LIZIZ2.LJJIIJZLJL();
        }
        DataChannel dataChannel4 = this.LLLIIL;
        if (dataChannel4 != null && (LIZ = c28643BLz.LIZ()) != null && (enterRoomConfig = LIZ.mEnterRoomConfig) != null) {
            EnterRoomConfig.RoomsData roomsData7 = enterRoomConfig.mRoomsData;
            boolean z3 = roomsData7.fromNewStyle;
            ?? r7 = roomsData7.enterFromLiveSource;
            if (z3) {
                Room room2 = (Room) dataChannel4.kv0(RoomChannel.class);
                if (room2 != null && room2.isOfficial()) {
                    z3 = false;
                }
                EnterRoomConfig.RoomsData roomsData8 = enterRoomConfig.mRoomsData;
                ?? r5 = roomsData8.fromDrawerStyle;
                ?? r4 = roomsData8.feedUrl;
                ((C32537Cpp) dataChannel4.gv0(BCY.class)).LIZ = Boolean.valueOf(z3);
                ((C32537Cpp) dataChannel4.gv0(C28389BCf.class)).LIZ = r7;
                ((C32537Cpp) dataChannel4.gv0(C28391BCh.class)).LIZ = r4;
                ((C32537Cpp) dataChannel4.gv0(C28390BCg.class)).LIZ = r5;
            }
        }
        if (mo49getActivity() instanceof InterfaceC28169B3t) {
            this.LLLLZLL = (InterfaceC28169B3t) mo49getActivity();
        }
        String str9 = this.LLLZL.mRoomsData.warmUpPlayerTag;
        if (str9 != null) {
            this.LLLLZ = str9;
        }
        this.LLLLZLLLI = !TextUtils.isEmpty(r1.mStreamData.sharePullStreamData);
        EnterRoomConfig.StreamData streamData3 = this.LLLZL.mStreamData;
        if (streamData3 != null) {
            LiveMode valueOf = LiveMode.valueOf(streamData3.streamType);
            C28184B4i c28184B4i2 = this.LLLLLLLLL;
            if (c28184B4i2 != null) {
                c28184B4i2.LJIILLIIL = valueOf;
            }
        }
        this.u = new IDBReceiverS5S0100000_5(this, 0);
        if (getContext() != null) {
            C16880lQ.LJJLIIIJILLIZJL(this.u, getContext(), new IntentFilter("media_control"));
            C0NB.LJIIIZ("picture_in_picture", "registerReceiver");
        }
        this.t = new B39();
        HashMap<String, String> Vl = Vl();
        StringBuilder LIZ7 = X1D.LIZ();
        LIZ7.append(System.currentTimeMillis());
        LIZ7.append("");
        Vl.put("param_live_create_time", X1D.LIZIZ(LIZ7));
        HashMap<String, String> Vl2 = Vl();
        StringBuilder LIZ8 = X1D.LIZ();
        LIZ8.append(SystemClock.uptimeMillis());
        LIZ8.append("");
        Vl2.put("param_live_slot_start_time_long", X1D.LIZIZ(LIZ8));
        C62622d0.LIZ().LIZIZ(this, 2);
        long j7 = this.LJLIL;
        B3K b3k = new B3K();
        b3k.LJ = j7;
        this.LLLLZI = b3k;
        this.e = new B34(this, this.LLLIIL);
        ((ArrayList) A).clear();
        if (!TextUtils.isEmpty(this.LJLJLLL)) {
            HashMap hashMap = new HashMap();
            hashMap.put("enter_from_merge", this.LLLZL.mRoomsData.enterFromMerge);
            hashMap.put("enter_method", this.LLLZL.mRoomsData.enterMethod);
            hashMap.put("action_type", "draw");
            hashMap.put("stream_info", this.LJLJLLL);
            hashMap.put("options", this.LJLL);
            ((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).F2(hashMap);
        }
        boolean value = GameLiveLandscapeEnterOp.INSTANCE.getValue();
        String str10 = this.LLLZL.mStreamData.pullStreamData;
        if (str10 != null && value) {
            this.LLLLLLLZIL = B7P.LIZJ(str10, this.LLZILL);
            if (C30922CBq.LIZIZ) {
                StringBuilder LIZ9 = X1D.LIZ();
                LIZ9.append("Config is not null, visible: ");
                FT5.LJ(LIZ9, this.LLZILL, LIZ9, "enter_room_by_landscape");
            }
            this.LLFFF = B7P.LIZIZ(mo49getActivity(), this.LLLZL, this.LLLLLLLZIL, "on_create", this.LLZILL);
        }
        if (((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isOffline() || ((IHostAppContext) CN1.LIZ(IHostAppContext.class)).isLiveInhouse()) {
            if (((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId() != C28154B3e.LIZJ.longValue() || C28154B3e.LIZ == null) {
                B53.LJ = this.LLJILLL;
                Ql();
                IDHandlerS18S0100000_5 iDHandlerS18S0100000_5 = this.LLLLLJLJLL;
                C1EW.LIZ(((RoomRetrofitApi) Q7L.LIZIZ(RoomRetrofitApi.class)).getRoomDebugInfoPermission()).LJJJLIIL(new AfS36S0101000_5(1, iDHandlerS18S0100000_5, 63), new AfS36S0101000_5(2, iDHandlerS18S0100000_5, 30));
            }
            long currentUserId = ((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId();
            if (currentUserId != B53.LIZJ || B53.LIZ == null) {
                IDHandlerS18S0100000_5 iDHandlerS18S0100000_52 = this.LLLLLJLJLL;
                C1EW.LIZ(((RoomRetrofitApi) Q7L.LIZIZ(RoomRetrofitApi.class)).checkDetectPermission(currentUserId)).LJJJLIIL(new AfS36S0101000_5(0, iDHandlerS18S0100000_52, 21), new AfS36S0101000_5(0, iDHandlerS18S0100000_52, 22));
                B53.LIZJ = currentUserId;
            }
            B4W.LIZ(this.LJLIL);
        }
        if (CoHostFirstLayoutShownSwitch.INSTANCE.getValue()) {
            this.LLLIIL.ov0(this, AllLinkMicWindowRenderedEvent.class, new AObjectS42S0101000_5(0, this, 17));
        }
    }

    public void onEvent(C28268B7o c28268B7o) {
        String str;
        int i = c28268B7o.LIZ;
        if (i != 7) {
            if (i != 11) {
                if (i != 20) {
                    if (i != 35) {
                        switch (i) {
                            case 30:
                                if (!this.c) {
                                    BZI LIZ = C28787BRn.LIZ("livesdk_live_pause_audience_show");
                                    IInteractService iInteractService = (IInteractService) CN1.LIZ(IInteractService.class);
                                    if (iInteractService != null) {
                                        str = iInteractService.getConnectionType();
                                    } else {
                                        str = "normal";
                                    }
                                    LIZ.LJIJJ(str, "connection_type");
                                    if ("manual_pk".equals(str)) {
                                        LIZ.LJIJJ(Long.valueOf(((IInteractService) CN1.LIZ(IInteractService.class)).eq()), "pk_id");
                                    } else if ("anchor".equals(str)) {
                                        LIZ.LJIJJ(Long.valueOf(((IInteractService) CN1.LIZ(IInteractService.class)).LJJLI()), "channel_id");
                                    }
                                    LIZ.LJIILLIIL(this.LLLIIL);
                                    LIZ.LJJIIJZLJL();
                                }
                                this.c = true;
                                if (!((IInteractService) CN1.LIZ(IInteractService.class)).OB()) {
                                    LJIJ();
                                    em("pause");
                                    DataChannel dataChannel = this.LLLIIL;
                                    if (dataChannel != null) {
                                        dataChannel.rv0(WatchPauseLiveChannel.class, Boolean.TRUE);
                                    }
                                    B3J b3j = this.LLLI;
                                    RecyclableWidgetManager cm = cm();
                                    List<String> list = this.LJLJJLL;
                                    List<String> list2 = this.LJLJJL;
                                    LivePlayPauseWidget livePlayPauseWidget = b3j.LJ;
                                    if (livePlayPauseWidget != null && livePlayPauseWidget.isInitialized()) {
                                        LivePlayPauseWidget livePlayPauseWidget2 = b3j.LJ;
                                        if (livePlayPauseWidget2 != null) {
                                            livePlayPauseWidget2.LJZL(list, list2);
                                        }
                                    } else {
                                        LivePlayPauseWidget livePlayPauseWidget3 = new LivePlayPauseWidget(list, list2);
                                        b3j.LJ = livePlayPauseWidget3;
                                        livePlayPauseWidget3.LJLJJLL = b3j.LIZLLL;
                                        livePlayPauseWidget3.LJLJL = b3j.LIZ;
                                        int i2 = b3j.LIZIZ;
                                        if (i2 != 0) {
                                            livePlayPauseWidget3.LJLJLJ = i2;
                                            livePlayPauseWidget3.LJLJLLL = b3j.LIZJ;
                                        }
                                        if (cm != null) {
                                            cm.load(R.id.fxu, (Widget) livePlayPauseWidget3, false);
                                        }
                                    }
                                    B35 b35 = this.LLIIIJ;
                                    if (b35 != null) {
                                        b35.lambda$setMuteNew$0(true, "live pause message");
                                    }
                                } else if (isResumed()) {
                                    if (Nn() && C32151Nz.LJJIIZI(this.LJLJJLL)) {
                                        BL8.LIZJ(this.LLILLJJLI, this.LJLJJLL);
                                    } else {
                                        BL8.LIZIZ(this.LLILLJJLI, this.LJLJJL, getContext());
                                    }
                                    hn("anchor leave");
                                }
                                C78140Ulc c78140Ulc = this.LLJLIL;
                                if (c78140Ulc != null) {
                                    c78140Ulc.setSurveyEnable(false);
                                    break;
                                }
                                break;
                            case 31:
                                this.c = false;
                                DataChannel dataChannel2 = this.LLLIIL;
                                if (dataChannel2 != null) {
                                    dataChannel2.rv0(WatchPauseLiveChannel.class, Boolean.FALSE);
                                }
                                LivePlayPauseWidget livePlayPauseWidget4 = this.LLLI.LJ;
                                if (livePlayPauseWidget4 != null && (livePlayPauseWidget4.LJZI().getVisibility() == 0 || (livePlayPauseWidget4.LJLL && LiveSdkMultiGuestPauseViewDiffFixSetting.INSTANCE.isFix()))) {
                                    LivePlayPauseWidget livePlayPauseWidget5 = this.LLLI.LJ;
                                    if (livePlayPauseWidget5 != null) {
                                        livePlayPauseWidget5.LJZI().setVisibility(8);
                                        livePlayPauseWidget5.LJZ().setVisibility(8);
                                        livePlayPauseWidget5.LJLZ().LJ();
                                        livePlayPauseWidget5.LJLL = false;
                                    }
                                    B35 b352 = this.LLIIIJ;
                                    if (b352 != null) {
                                        b352.lambda$setMuteNew$0(false, "live pause message");
                                    }
                                } else if (isResumed()) {
                                    em("anchor back");
                                }
                                C78140Ulc c78140Ulc2 = this.LLJLIL;
                                if (c78140Ulc2 != null) {
                                    c78140Ulc2.setSurveyEnable(true);
                                    break;
                                }
                                break;
                            case 32:
                                Dm(false);
                                break;
                        }
                    } else {
                        qm(206L, -1L, "enter room permission error, frame_fail");
                        B57.LIZ.LIZ().LIZIZ(new Event("live_play_no_live_permission_error", 33815, EnumC28203B5b.BussinessApiCall));
                        Pl(B5T.ENTER_LIVE_PERMISSION_ERROR, "error", -1);
                    }
                } else {
                    EnterRoomConfig enterRoomConfig = this.LLLZL;
                    B5T reason = B5T.USER_KICK_OUT_BY_CREATOR_OR_ADMIN;
                    o.LJIIIZ(reason, "reason");
                    B5S.LIZ(enterRoomConfig, reason, "slide_next_room");
                    Ml(B5U.WATCHER_KIT_OUT);
                    Jm(true);
                }
            } else {
                Event event = new Event("live_play_enter_room_fail", 33798, EnumC28203B5b.MessageReceived);
                event.LIZIZ("fetch finished, stop room.");
                B57.LIZ.LIZ().LIZIZ(event);
                B5S.LIZ(this.LLLZL, B5T.USER_KICK_OUT, "exit_room_container");
                B5U b5u = B5U.USER_KICK_OUT;
                StringBuilder LIZ2 = X1D.LIZ();
                LIZ2.append(c28268B7o.LIZIZ);
                LIZ2.append("");
                Nl(b5u, X1D.LIZIZ(LIZ2));
            }
        } else {
            C28202B5a.LIZ().LJFF(B5X.LIVE_END, C28202B5a.LIZ().LIZ());
            Event event2 = new Event("live_play_end_room_fetch_fail", 33797, EnumC28203B5b.MessageReceived);
            event2.LIZIZ("receive event. show live end dialog");
            B57.LIZ.LIZ().LIZIZ(event2);
            Il(new B5C("system_exit_play_finished_control_message", "", "Receive finish event, show live end dialog"));
            this.LLLLIIIILLL = null;
            ControlMessage controlMessage = c28268B7o.LIZJ;
            if (controlMessage != null) {
                this.LLLLIIIILLL = controlMessage;
            }
            Ml(B5U.ROOM_PLAY_FINISHED);
        }
        if (!isResumed()) {
            return;
        }
        int i3 = c28268B7o.LIZ;
        if (i3 == 5 || i3 == 6 || i3 == 8) {
            if (!getUserVisibleHint()) {
                return;
            }
            if (this.LLFFF == 1) {
                Hn(c28268B7o);
            } else {
                onEvent(new B3N(1));
            }
        }
        if (this.LLII != B5V.LIVE_STARTED) {
            return;
        }
        int i4 = c28268B7o.LIZ;
        if (i4 != 10 && i4 != 24) {
            if (i4 != 26) {
                if (i4 != 33) {
                    return;
                }
                Dm(true);
                return;
            } else {
                if (this.r == null || getView() == null) {
                    return;
                }
                getView().getParent().requestDisallowInterceptTouchEvent(true);
                return;
            }
        }
        if (!((C29374Bfu) B83.LIZ().LIZIZ()).isLogin() || this.LJLIL == 0) {
            return;
        }
        Sm();
        long j = this.LJLIL;
        rn(j, new C28245B6r(this, j));
    }

    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    /* JADX WARN: Failed to find 'out' block for switch in B:2:0x000e. Please report as an issue. */
    /* JADX WARN: Removed duplicated region for block: B:48:0x0105  */
    /* JADX WARN: Removed duplicated region for block: B:6:0x001a  */
    @Override // X.InterfaceC72822Si2
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void onReceiveJsEvent(X.C199097rd r14) {
        /*
            Method dump skipped, instructions count: 556
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.onReceiveJsEvent(X.7rd):void");
    }

    @Override // androidx.fragment.app.Fragment
    public final void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        bundle.putParcelable("enter_room_config", this.LLLZL);
    }

    public final void pn(int i) {
        LiveReportMaskWidget liveReportMaskWidget = this.LLLJ;
        if (liveReportMaskWidget == null) {
            this.LLLJ = new LiveReportMaskWidget(this.LJLJI, this.LLIIIJ, i);
            cm().load(R.id.z8, this.LLLJ);
        } else {
            Room room = this.LJLJI;
            B35 b35 = this.LLIIIJ;
            if (!liveReportMaskWidget.isDestroyed && liveReportMaskWidget.hasAttached) {
                liveReportMaskWidget.LJLIL = room;
                liveReportMaskWidget.LJLILLLLZI = b35;
                liveReportMaskWidget.LJLJI = i;
                liveReportMaskWidget.LJLZ();
            }
        }
        this.LLLJ.show();
    }

    /* JADX WARN: Code restructure failed: missing block: B:37:0x00ac, code lost:
    
        if (r24 != false) goto L30;
     */
    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void setUserVisibleHint(boolean r24) {
        /*
            r23 = this;
            X.0Dg r6 = new X.0Dg
            r3 = 2
            r6.<init>(r3)
            r2 = 1
            java.lang.Object[] r11 = new java.lang.Object[r2]
            r5 = r24
            java.lang.Boolean r0 = java.lang.Boolean.valueOf(r5)
            r14 = 0
            r11[r14] = r0
            X.Pk0 r13 = new X.Pk0
            java.lang.String r1 = "(Z)V"
            java.lang.String r0 = "3412183882668418434"
            r13.<init>(r14, r1, r0)
            r7 = 10502(0x2906, float:1.4716E-41)
            java.lang.String r17 = "com/bytedance/android/livesdk/chatroom/ui/LivePlayFragment"
            java.lang.String r18 = "setUserVisibleHint"
            java.lang.String r21 = "void"
            r12 = r23
            r15 = r6
            r16 = r7
            r19 = r12
            r20 = r11
            r22 = r13
            X.Ff9 r0 = r15.LIZJ(r16, r17, r18, r19, r20, r21, r22)
            boolean r0 = r0.LIZ
            if (r0 == 0) goto L3f
            r10 = 0
            java.lang.String r8 = "com/bytedance/android/livesdk/chatroom/ui/LivePlayFragment"
            java.lang.String r9 = "setUserVisibleHint"
            r6.LIZIZ(r7, r8, r9, r10, r11, r12, r13, r14)
            return
        L3f:
            boolean r0 = r12.getUserVisibleHint()
            if (r5 == r0) goto Lbe
            r1 = 1
        L46:
            super.setUserVisibleHint(r5)
            com.bytedance.android.livesdk.chatroom.end.newaudienceend.LiveNewAudienceEndFragment r0 = r12.LLJILJILJ
            if (r0 == 0) goto L50
            r0.setUserVisibleHint(r5)
        L50:
            boolean r0 = r12.isResumed()
            if (r0 == 0) goto L61
            if (r1 == 0) goto L61
            boolean r0 = r12.getUserVisibleHint()
            if (r0 == 0) goto L61
            r12.onVisible()
        L61:
            com.bytedance.ies.sdk.datachannel.DataChannel r4 = r12.LLLIIL
            if (r4 == 0) goto Lbb
            java.lang.Class<com.bytedance.android.livesdk.dataChannel.LiveFragmentVisibility> r1 = com.bytedance.android.livesdk.dataChannel.LiveFragmentVisibility.class
            java.lang.Boolean r0 = java.lang.Boolean.valueOf(r5)
            r4.rv0(r1, r0)
        L6e:
            boolean r0 = r12.isViewValid()
            if (r0 == 0) goto Lac
            if (r5 == 0) goto Laf
            X.B5V r1 = r12.LLII
            X.B5V r0 = X.B5V.LIVE_FINISHED
            if (r1 == r0) goto L8c
            X.1qj r1 = r12.mo49getActivity()
            int r0 = r12.LLFFF
            if (r0 == r2) goto L85
            r2 = 0
        L85:
            java.lang.Boolean r0 = java.lang.Boolean.valueOf(r2)
            X.B4J.LJFF(r1, r0)
        L8c:
            boolean r0 = r12.mStatusViewValid
            if (r0 == 0) goto L9f
            X.BTH.LJII(r12)
        L93:
            r10 = 0
            r7 = 10502(0x2906, float:1.4716E-41)
            java.lang.String r8 = "com/bytedance/android/livesdk/chatroom/ui/LivePlayFragment"
            java.lang.String r9 = "setUserVisibleHint"
            r14 = 1
            r6.LIZIZ(r7, r8, r9, r10, r11, r12, r13, r14)
            return
        L9f:
            Y.IDHandlerS18S0100000_5 r2 = r12.LLLLLJLJLL
            Y.ARunnableS11S0101000_7 r1 = new Y.ARunnableS11S0101000_7
            r0 = 13
            r1.<init>(r3, r12, r0)
            r2.post(r1)
            goto L93
        Lac:
            if (r5 == 0) goto Laf
            goto L8c
        Laf:
            X.J0d<java.lang.Long> r2 = X.InterfaceC30442Bx8.LJJJJI
            r0 = 0
            java.lang.Long r0 = java.lang.Long.valueOf(r0)
            r2.LIZ(r0)
            goto L93
        Lbb:
            r12.LLZILL = r5
            goto L6e
        Lbe:
            r1 = 0
            goto L46
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.setUserVisibleHint(boolean):void");
    }

    public final void sm(String str) {
        if (TextUtils.equals(BJM.LJIIIIZZ(), "push")) {
            getParentFragment();
            BZI LIZ = C28787BRn.LIZ("livesdk_push_error");
            BAK bak = new BAK();
            bak.LIZ("anchor_id", String.valueOf(this.LJLJJI));
            bak.LIZ("anchor_status", str);
            bak.LIZ("room_id", String.valueOf(this.LJLIL));
            LIZ.LJJIFFI((Map) bak.LIZ);
            LIZ.LJJIIJZLJL();
        }
    }

    @Override // X.BKJ
    public final void t7(int i) {
        RoomAuthStatus roomAuthStatus;
        int i2 = this.LLFFF;
        AbsAudienceInteractionFragment absAudienceInteractionFragment = this.LLJIJIL;
        if (absAudienceInteractionFragment != null && absAudienceInteractionFragment.enableChangeOrientation(i).booleanValue()) {
            int i3 = 1;
            if (i != 1) {
                Room room = this.LJLJI;
                if (room != null && (roomAuthStatus = room.mRoomAuthStatus) != null && !roomAuthStatus.isEnableLandscape()) {
                    return;
                }
                if (i != 1) {
                    i3 = 2;
                }
            }
            onEvent(new B3N(i3));
            B9E.LIZJ(this.LLLIIL, i, i2, "auto");
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    public final void tn(Room room) {
        String str;
        C12800eq.LJFF(EnumC12790ep.ShowCInteractionFirstWidget);
        if (room == 0) {
            str = "other";
        } else if (room.isScreenshot) {
            str = "game";
        } else if (room.isThirdParty) {
            str = "thirdparty";
        } else if (room.isLiveTypeAudio()) {
            str = "audio";
        } else {
            str = "video";
        }
        this.LLJJIJIIJIL = str;
        if (this.LLII != B5V.PREPARED) {
            return;
        }
        this.LLII = B5V.LIVE_STARTED;
        this.LLIIJI = false;
        this.LLLLLJLJLL.removeMessages(28);
        ((C32537Cpp) DataChannelGlobal.LJLJJI.gv0(C29044Baa.class)).LIZ = room;
        C28733BPl.LJIILIIL().getClass();
        C0NE.LIZ("invite_issue_check", "LinkIn_Guest_startInteraction");
        jn(false, room);
        if (room.getMosaicStatus() != 0) {
            RemindMessage remindMessage = new RemindMessage();
            remindMessage.noticeType = 2;
            remindMessage.content = getString(R.string.sv_);
            Am(remindMessage);
        }
        if (y.booleanValue()) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("startInteraction -> roomId=");
            LIZ.append(this.LJLIL);
            B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        }
        this.LLLLLJLJLL.postDelayed(new IDRunnableS6S0101000(2, this, 5), 5000L);
    }

    /* JADX WARN: Type inference failed for: r2v18, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r2v22, types: [java.lang.Boolean, O] */
    public final void xn(boolean z2) {
        B5V b5v;
        C73411SrX c73411SrX;
        boolean z3;
        EnterRoomConfig enterRoomConfig;
        B35 b35;
        IMessageManager iMessageManager;
        B50 b50 = this.LLZZ;
        if (b50 != null) {
            b50.LIZ(this, this.LJLJI);
        }
        B3C b3c = this.f;
        b3c.LIZJ = false;
        b3c.LIZIZ(false);
        B71 b71 = this.LLLIILIL;
        if (b71 != null) {
            DataChannel dataChannel = b71.LJLIL;
            if (dataChannel != null && (iMessageManager = (IMessageManager) dataChannel.kv0(C29927Bop.class)) != null) {
                iMessageManager.removeMessageListener(b71);
            }
            B71.LIZ(false);
        }
        ((IInteractService) CN1.LIZ(IInteractService.class)).yW(this.LJLJI);
        ((IGameLinkMicService) CN1.LIZ(IGameLinkMicService.class)).WG(this, this.LJLJI);
        ((IGiftService) CN1.LIZ(IGiftService.class)).exitRoom(false, this.LJLJI);
        ((IMessageService) CN1.LIZ(IMessageService.class)).release(this.LJLIL);
        ((ITreasureBoxService) CN1.LIZ(ITreasureBoxService.class)).Y7();
        ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).c00(this.LJLJI);
        this.LLZIL = false;
        B5V b5v2 = this.LLII;
        if (b5v2 == B5V.IDLE || b5v2 == (b5v = B5V.INITIALIZED)) {
            return;
        }
        B4V b4v = this.LLILL;
        if (b4v != null && (b4v.LIZ instanceof B4L) && !this.LLLLZLLLI) {
            B4I.LIZ("LivePlayFragment", "stop room -> video set reset");
            ((B4L) this.LLILL.LIZ).reset();
        }
        if (this.LLII == B5V.LIVE_FINISHED) {
            return;
        }
        if (!this.LLLZ) {
            if (!this.LLLZI) {
                qm(208L, -1L, "user cancel, frame_fail");
            } else {
                qm(208L, -2L, "user cancel, frame_fail");
            }
        } else if (!this.LLLZI) {
            qm(208L, -3L, "user cancel, frame_fail");
        }
        if (TextUtils.equals(this.LLLZL.mRoomsData.enterFromMerge, "push") && TextUtils.equals(this.LLLZL.mRoomsData.enterMethod, "push") && TextUtils.equals(this.LLLZL.mRoomsData.actionType, "click")) {
            HashMap<String, String> hashMap = new HashMap<>();
            hashMap.put("room_id_list", Arrays.toString(new String[]{String.valueOf(this.LLLZL.mRoomsData.roomId)}));
            hashMap.put("anchor_id_list", Arrays.toString(new String[]{String.valueOf(this.LLLZL.mRoomsData.userId)}));
            hashMap.put("room_cnt", "1");
            ((IHostAction) CN1.LIZ(IHostAction.class)).reportPushImprDurationTrack(hashMap, true);
        }
        B5V b5v3 = this.LLII;
        B5V b5v4 = B5V.LIVE_STARTED;
        if (b5v3 == b5v4 && b5v3 == b5v4) {
            this.LLLLLJLJLL.removeMessages(28);
            C30588BzU.LIZIZ(this.LJLJI, this.LLLIIL);
            fm();
            DataChannel dataChannel2 = this.LLLIIL;
            if (dataChannel2 != null) {
                dataChannel2.rv0(FirstFrameChannelEvent.class, Boolean.FALSE);
            }
            BP8 bp8 = this.LLLLZIL;
            if (bp8 != null) {
                bp8.LJII.disable();
                bp8.LJFF = false;
                WeakReference<InterfaceC28173B3x> weakReference = bp8.LJIIIIZZ;
                if (weakReference != null) {
                    weakReference.clear();
                }
                bp8.LJIIIIZZ = null;
            }
            ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).rE();
            if (isViewValid() && (b35 = this.LLIIIJ) != null) {
                b35.lambda$setMuteNew$0(false, "exit illegal");
            }
            C29162BcU c29162BcU = C29162BcU.LIZJ;
            long j = this.LJLIL;
            C1EW.LIZ(((RoomRetrofitApi) Q7L.LIZIZ(RoomRetrofitApi.class)).leaveRoom(j, this.LLI)).LJJJLIIL(BTJ.LIZIZ, BTJ.LIZ);
            B7I b7i = c29162BcU.LIZIZ;
            if (b7i != null && j == b7i.LIZIZ) {
                InterfaceC92693kP interfaceC92693kP = b7i.LIZ;
                if (interfaceC92693kP != null) {
                    interfaceC92693kP.dispose();
                }
                b7i.LIZ = null;
                b7i.LIZIZ = 0L;
                b7i.LIZIZ(null);
                b7i.LIZLLL.clear();
            }
            if (this.LLIIII != null) {
                Rm(false, false);
                this.LLIIII.LJIIJJI();
                this.LLIIII.LJIIL(this.LJLJI);
            }
            BTH.LJI();
            Dn(true);
            ((IGiftService) CN1.LIZ(IGiftService.class)).notifyUserLeaveRoom();
            DataChannelGlobal dataChannelGlobal = DataChannelGlobal.LJLJJI;
            ((ConcurrentHashMap) dataChannelGlobal.LJLIL).remove(C29044Baa.class);
            this.LLIIJI = false;
            this.LLIIJLIL = false;
            this.LLII = B5V.PREPARED;
            if (y.booleanValue()) {
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append("stopInteraction, roomId=");
                LIZ.append(this.LJLIL);
                LIZ.append(", userId=");
                LIZ.append(this.LJLJJI);
                B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
            }
            BJL bjl = (BJL) dataChannelGlobal.mv0(C29054Bak.class);
            if (bjl != null) {
                bjl.LJJIJ = 0;
                bjl.LJJIJIIJI = 0;
            }
        }
        if (this.LLIIII != null && (enterRoomConfig = this.LLLZL) != null && C28835BTj.LJ(enterRoomConfig)) {
            HashMap hashMap2 = new HashMap();
            hashMap2.put("room_id", String.valueOf(this.LJLIL));
            hashMap2.put("anchor_id", String.valueOf(this.LJLJJI));
            hashMap2.put("duration", String.valueOf(this.LLIIII.LIZLLL()));
            C28835BTj.LIZ("live_ad", "exit", null, hashMap2);
        }
        DataChannel dataChannel3 = this.LLLIIL;
        EnterRoomConfig enterRoomConfig2 = this.LLLZL;
        if (enterRoomConfig2 != null && dataChannel3 != null && enterRoomConfig2.mRoomsData.enterFromAd) {
            ((C32537Cpp) dataChannel3.gv0(BDC.class)).LIZ = null;
            EnterRoomConfig.RoomsData roomsData = enterRoomConfig2.mRoomsData;
            roomsData.adLiveEnterRoomConfig = null;
            roomsData.enterFromAd = false;
            ((C32537Cpp) dataChannel3.gv0(BCT.class)).LIZ = Boolean.FALSE;
            BJL bjl2 = (BJL) DataChannelGlobal.LJLJJI.mv0(C29054Bak.class);
            if (bjl2 != null) {
                bjl2.LJJIIZI = null;
            }
        }
        B5V b5v5 = this.LLII;
        B5V b5v6 = B5V.PREPARED;
        if ((b5v5 == b5v6 || b5v5 == B5V.PREPARING) && (b5v5 == B5V.PREPARING || b5v5 == b5v6)) {
            C28163B3n c28163B3n = this.LLIIIL;
            if (c28163B3n != null) {
                c28163B3n.LIZLLL = false;
                C73411SrX c73411SrX2 = c28163B3n.LIZ;
                if (c73411SrX2 != null && !c73411SrX2.isDisposed()) {
                    c28163B3n.LIZ.dispose();
                }
                this.LLIIIL = null;
                StringBuilder LIZ2 = X1D.LIZ();
                LIZ2.append("resetFetchUserRoom -> roomId=");
                LIZ2.append(this.LJLIL);
                LIZ2.append(", userId=");
                LIZ2.append(this.LJLJJI);
                B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ2));
            }
            Sm();
            Tm(z2);
            BJ9 bj9 = this.LLIIII;
            if (bj9 != null) {
                bj9.LJIILJJIL();
            }
            B3K b3k = this.LLLLZI;
            b3k.LJI = -1L;
            b3k.LJFF = -1L;
            b3k.LIZ = null;
            b3k.LIZJ = null;
            b3k.LIZLLL = null;
            b3k.LJII = 0L;
            this.LLII = b5v;
            this.LLJJIJIIJIL = "other";
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("resetPrepare -> roomId=");
            LIZ3.append(this.LJLIL);
            LIZ3.append(", userId=");
            LIZ3.append(this.LJLJJI);
            B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ3));
        }
        BJ9 bj92 = this.LLIIII;
        if (bj92 != null) {
            bj92.LJIILJJIL();
        }
        this.LLLZI = false;
        this.LLLZ = false;
        this.w = false;
        this.x = false;
        ((ISurveyService) CN1.LIZ(ISurveyService.class)).gn0();
        ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).fm(this.LJLJI);
        C78140Ulc c78140Ulc = this.LLJLIL;
        if (c78140Ulc != null) {
            c78140Ulc.LIZ();
            this.LLJLIL = null;
        }
        BM1.LIZJ();
        if (!this.LLJJJ) {
            DataChannel dataChannel4 = this.LLLIIL;
            long longValue = this.LLLZIIL.longValue();
            EnterRoomConfig.RoomsData roomsData2 = this.LLLZL.mRoomsData;
            C28657BMn.LIZ(dataChannel4, longValue, roomsData2.timeStamps.enterRoomStarTimeReal, roomsData2.enterRoomScene);
            this.LLJJJ = true;
        }
        if (Dl()) {
            DataChannel dataChannel5 = this.LLLIIL;
            if (this.LLLZIIL.longValue() > 0) {
                z3 = true;
            } else {
                z3 = false;
            }
            C28657BMn.LIZJ(dataChannel5, z3);
            this.LLLLLL.removeCallbacksAndMessages("log_enter_room_rate_token");
            this.LLJJJIL = true;
        }
        this.LLLZIIL = 0L;
        if (this.LLIL) {
            C72818Shy.LJII("ttlive_report_preview", this);
            C72818Shy.LJII("ttlive_report_success", this);
            C72818Shy.LJII("anchor_sub_gift_balance_changed", this);
            C72818Shy.LJII("user_border_update_event", this);
            this.LLIL = false;
        }
        DataChannelGlobal dataChannelGlobal2 = DataChannelGlobal.LJLJJI;
        dataChannelGlobal2.getClass();
        dataChannelGlobal2.jv0(this);
        BZ3 bz3 = this.LLLII;
        if (bz3 != null && (c73411SrX = bz3.LIZIZ) != null) {
            c73411SrX.dispose();
        }
        LiveGiftLimitGiftListRequest liveGiftLimitGiftListRequest = LiveGiftLimitGiftListRequest.INSTANCE;
        if (liveGiftLimitGiftListRequest.optimiseEnterRoom()) {
            this.LLLLLL.removeCallbacksAndMessages("sync_gift_resource_opt");
        }
        if (liveGiftLimitGiftListRequest.optimiseCancelBasedOnRoom()) {
            ((IGiftService) CN1.LIZ(IGiftService.class)).cancelSyncGiftList(this.LJLIL);
        }
        if (!TtliveGameLandscapeFullScreenOptimizeSetting.INSTANCE.cancelFullScreenWhenLeaveRoom() || this.LLFFF == 1 || !Boolean.TRUE.equals(this.LLLIIL.kv0(BCS.class))) {
            return;
        }
        ((C32537Cpp) this.LLLIIL.gv0(BCS.class)).LIZ = Boolean.FALSE;
        zm(new C2308394d(false, false));
    }

    /* JADX WARN: Type inference failed for: r1v2, types: [java.lang.Boolean, O] */
    public final void ym(C232529Aq c232529Aq) {
        int[] iArr = new int[4];
        int[] iArr2 = new int[2];
        B35 b35 = this.LLIIIJ;
        if (b35 != null) {
            b35.getVideoSize(iArr2);
        }
        this.LLILII = c232529Aq.LIZ;
        Xl(iArr, iArr2[0], iArr2[1]);
        if (this.LLLIIL != null) {
            C28157B3h c28157B3h = new C28157B3h();
            c28157B3h.LIZ = iArr[0];
            c28157B3h.LIZIZ = iArr[1];
            c28157B3h.LIZJ = iArr[2];
            c28157B3h.LIZLLL = iArr[3];
            this.LLLIIL.rv0(LandscapeInteractionMarginData.class, c28157B3h);
        }
        if (!this.LLILII) {
            if (((Boolean) this.LLLIIL.kv0(BCS.class)).booleanValue()) {
                ((C32537Cpp) this.LLLIIL.gv0(BCS.class)).LIZ = Boolean.FALSE;
            }
            zm(new C2308394d(false, false));
        }
    }

    public final void zm(C2308394d c2308394d) {
        View view;
        int LJIIL;
        int LJIIJJI;
        int i;
        B4V b4v = this.LLILL;
        if (b4v != null && (view = b4v.LIZ) != null) {
            float f = 1.0f;
            if (c2308394d.LIZ) {
                View rootView = view.getRootView();
                if (rootView != null) {
                    LJIIL = rootView.getWidth();
                    LJIIJJI = rootView.getHeight();
                } else {
                    LJIIL = C15380j0.LJIIL();
                    LJIIJJI = C15380j0.LJIIJJI();
                }
                f = Math.max((LJIIL * 1.0f) / view.getWidth(), (LJIIJJI * 1.0f) / view.getHeight());
            }
            boolean z2 = c2308394d.LIZ;
            View rootView2 = view.getRootView();
            o.LJIIIIZZ(rootView2, "view.rootView");
            View findViewById = rootView2.findViewById(R.id.j7n);
            if (!(findViewById instanceof BZM)) {
                findViewById = B3V.LIZ(rootView2);
            }
            if (findViewById != null && (findViewById instanceof ViewGroup)) {
                ViewGroup viewGroup = (ViewGroup) findViewById;
                viewGroup.setClipChildren(false);
                viewGroup.setClipToPadding(false);
                if (B3V.LIZ == 0) {
                    B3V.LIZ = viewGroup.getPaddingLeft();
                }
                if (z2) {
                    i = 0;
                } else {
                    i = B3V.LIZ;
                }
                findViewById.setPadding(i, 0, 0, 0);
            }
            if (c2308394d.LIZIZ) {
                view.animate().cancel();
                view.animate().scaleX(f).scaleY(f).withStartAction(new ARunnableS7S0201000_4(1, this, c2308394d, 2)).setDuration(200L).start();
            } else {
                view.setScaleX(f);
                view.setScaleY(f);
                Nm(c2308394d.LIZ);
            }
        }
    }

    /* JADX WARN: Type inference failed for: r1v3, types: [java.lang.Boolean, O] */
    public void onEvent(B3N b3n) {
        boolean Ll;
        if (this.LLJIJIL == null || !getUserVisibleHint() || !Im().N9()) {
            return;
        }
        this.LLLLLZ = b3n.LIZJ;
        int i = b3n.LIZIZ;
        boolean z2 = false;
        if (i != 1) {
            if (i != 2) {
                if (i == 5) {
                    Ll = Ll(8);
                }
            } else {
                Ll = Ll(0);
            }
            if (!Ll) {
                return;
            }
        } else {
            Rm(false, false);
            ActivityC45651qj mo49getActivity = mo49getActivity();
            if (mo49getActivity != null && mo49getActivity.getWindow() != null && C15410j3.LIZJ(mo49getActivity)) {
                mo49getActivity.getWindow().clearFlags(1024);
            }
            if (isViewValid() && this.LLFFF != 1) {
                if (((LiveRoomFragment) this.r).LLILZIL) {
                    Xm(new B4Q());
                }
                BJ9 bj9 = this.LLIIII;
                if (bj9 != null) {
                    bj9.LJIIJJI();
                }
                fm();
                if (mo49getActivity != null) {
                    mo49getActivity.setRequestedOrientation(1);
                }
                this.LLIILII = true;
                if (!b3n.LIZ.isEmpty() && this.LJLJI.getOwner().getSubscribeInfo() != null && this.LJLJI.getOwner().getSubscribeInfo().isAnchorQualified() && b3n.LIZ.startsWith("subscribe_")) {
                    this.LLZLI = b3n.LIZ;
                }
                String str = b3n.LIZ;
                if (str != null) {
                    if (str.startsWith("user_level_badge_")) {
                        this.LLZLL = b3n.LIZ;
                    } else if (b3n.LIZ.startsWith("live_pro_badge_")) {
                        this.LLZLLIL = b3n.LIZ;
                    }
                }
                if (((Boolean) this.LLLIIL.kv0(BCS.class)).booleanValue()) {
                    ((C32537Cpp) this.LLLIIL.gv0(BCS.class)).LIZ = Boolean.FALSE;
                    zm(new C2308394d(false, false));
                }
            } else {
                return;
            }
        }
        this.LLLIIL.rv0(OrientationChangedChannel.class, Boolean.TRUE);
        ActivityC45651qj mo49getActivity2 = mo49getActivity();
        if (b3n.LIZIZ == 1) {
            z2 = true;
        }
        B4J.LJFF(mo49getActivity2, Boolean.valueOf(z2));
        if (b3n.LIZ.isEmpty() || !TextUtils.equals(b3n.LIZ, "privilege_center_entrance_horizontal") || b3n.LIZIZ != 1) {
            return;
        }
        this.LLLIIL.pv0(ShowPrivilegeCenterEvent.class);
    }

    public void onEvent(B44 b44) {
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null && ((Boolean) dataChannel.kv0(PIPStatusData.class)).booleanValue()) {
            boolean z2 = b44.LIZ;
            String str = "yes";
            if (z2) {
                B39 b39 = this.t;
                if (b39 != null && !b39.LIZJ) {
                    b39.LIZJ = z2;
                    b39.LIZIZ = b44.LIZIZ;
                    b39.LIZ = SystemClock.currentThreadTimeMillis();
                }
                if (UnusedLogOfflineSetting.INSTANCE.isEnable("livesdk_mini_window_mute_or_pause_click")) {
                    BZI LIZ = C28787BRn.LIZ("livesdk_mini_window_mute_or_pause_click");
                    LIZ.LJIJJ("mute", "mute_or_pause");
                    if (!b44.LIZIZ) {
                        str = "no";
                    }
                    LIZ.LJIJJ(str, "is_auto");
                    LIZ.LJJIIJZLJL();
                }
                Ln(R.drawable.cyn, 2, 2);
            } else {
                B39 b392 = this.t;
                if (b392 != null && b392.LIZJ) {
                    b392.LIZJ = z2;
                    b392.LIZ();
                }
                if (UnusedLogOfflineSetting.INSTANCE.isEnable("livesdk_mini_window_mute_or_pause_click")) {
                    BZI LIZ2 = C28787BRn.LIZ("livesdk_mini_window_mute_or_pause_click");
                    LIZ2.LJIJJ("unmute", "mute_or_pause");
                    if (!this.t.LIZIZ) {
                        str = "no";
                    }
                    LIZ2.LJIJJ(str, "is_auto");
                    LIZ2.LJJIIJZLJL();
                }
                Ln(R.drawable.cym, 1, 1);
            }
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("onEvent(MuteEvent event): ");
            LIZ3.append(b44.LIZ);
            FT5.LJ(LIZ3, b44.LIZIZ, LIZ3, "picture_in_picture");
        }
        C28202B5a.LIZ().LJII(b44.LIZ);
    }

    public void onEvent(B3P b3p) {
        B57.LIZ.LIZ().LIZIZ(new Event("live_play_on_jump_to_other_event", 1027, EnumC28203B5b.BussinessApiCall));
        C28733BPl.LJIILIIL().getClass();
        C0NE.LJII("ttlive_room", "received JumpToOtherRoomEvent");
        EnterRoomConfig enterRoomConfig = b3p.LJ;
        if (enterRoomConfig == null) {
            return;
        }
        long j = enterRoomConfig.mLogData.fromPortalId;
        if (j > 0) {
            C28733BPl LJIILIIL = C28733BPl.LJIILIIL();
            StringBuilder LIZJ = V10.LIZJ("preparing jump bundle, portalId=", j, " originatingRoomId=");
            LIZJ.append(this.LJLIL);
            String LIZIZ = X1D.LIZIZ(LIZJ);
            LJIILIIL.getClass();
            C0NE.LJII("ttlive_portal", LIZIZ);
            b3p.LJ.mLogData.originatingRoomId = this.LJLIL;
        }
        boolean z2 = b3p.LIZ;
        if (!z2) {
            b3p.LJ.mRoomsData.backRoomSource = b3p.LIZIZ;
        } else {
            b3p.LJ.mRoomsData.backRoomSource = "jump_source_room_back";
        }
        b3p.LJ.mRoomsData.isBackPreRoom = z2;
        if (this.LLII == B5V.LIVE_STARTED) {
            ARunnableS8S0201000_5 aRunnableS8S0201000_5 = new ARunnableS8S0201000_5(1, this, b3p, 18);
            if (!this.LLJIJIL.interceptCloseRoom(aRunnableS8S0201000_5, true, true, null)) {
                aRunnableS8S0201000_5.run();
                return;
            }
            return;
        }
        Ml(B5U.JUMP_TO_OTHER);
        B42 b42 = this.r;
        if (b42 == null) {
            return;
        }
        ((LiveRoomFragment) b42).Il(b3p.LIZJ, b3p.LJ, b3p.LIZ, b3p.LIZLLL);
    }

    public void onEvent(C28210B5i c28210B5i) {
        if (c28210B5i.LIZ <= 0 || this.LLLZL == null) {
            return;
        }
        EnterRoomConfig enterRoomConfig = new EnterRoomConfig();
        enterRoomConfig.mRoomsData.roomId = c28210B5i.LIZ;
        if (c28210B5i.LIZIZ != null) {
            EnterRoomConfig.LogData logData = enterRoomConfig.mLogData;
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append(c28210B5i.LIZIZ);
            LIZ.append("");
            logData.anchorId = X1D.LIZIZ(LIZ);
        }
        EnterRoomConfig.RoomsData roomsData = enterRoomConfig.mRoomsData;
        EnterRoomConfig.RoomsData roomsData2 = this.LLLZL.mRoomsData;
        roomsData.enterFromMerge = roomsData2.enterFromMerge;
        roomsData.enterMethod = roomsData2.enterMethod;
        roomsData.fromAutoJump = c28210B5i.LIZJ;
        EnterRoomLinkSession LJI = EnterRoomLinkSession.LJI(enterRoomConfig);
        Event event = new Event("mic_room_jump_event", 1033, EnumC28203B5b.MessageReceived);
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("roomid:");
        LIZ2.append(c28210B5i.LIZ);
        LIZ2.append(" autojump:");
        LIZ2.append(c28210B5i.LIZJ);
        event.LIZIZ(X1D.LIZIZ(LIZ2));
        LJI.LIZIZ(event);
        onEvent(new B3P(c28210B5i.LIZ, enterRoomConfig, "jump_source_mic_room"));
        C28202B5a.LIZ().LJIIIIZZ();
    }

    public void onEvent(C28166B3q c28166B3q) {
        ViewGroup viewGroup = this.LLILLIZIL;
        if (viewGroup == null || !(viewGroup.getLayoutParams() instanceof ViewGroup.MarginLayoutParams)) {
            return;
        }
        int LJFF = C15380j0.LJFF(R.dimen.adf);
        if (c28166B3q.LIZIZ) {
            ValueAnimator valueAnimator = this.LLLFZ;
            if (valueAnimator != null) {
                valueAnimator.cancel();
            }
            int marginEnd = ((ViewGroup.MarginLayoutParams) this.LLILZLL.getLayoutParams()).getMarginEnd();
            if (!c28166B3q.LIZ) {
                LJFF = 0;
            }
            ValueAnimator duration = ValueAnimator.ofInt(marginEnd, LJFF).setDuration(200L);
            this.LLLFZ = duration;
            duration.addUpdateListener(new AUListenerS93S0100000_4(this, 6));
            this.LLLFZ.start();
            return;
        }
        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) this.LLILZLL.getLayoutParams();
        if (!c28166B3q.LIZ) {
            LJFF = 0;
        }
        marginLayoutParams.setMarginEnd(LJFF);
        this.LLILZLL.setLayoutParams(marginLayoutParams);
    }

    public void onEvent(B4B b4b) {
        if (this.LLII != B5V.LIVE_STARTED) {
            return;
        }
        b4b.getClass();
        if (TextUtils.isEmpty(null)) {
            return;
        }
        this.LLIIL = true;
        this.LLIIIJ.stop(false);
        this.LLIIIJ.recycle();
        this.LLIIIJ = null;
        un(null, this.LJLLJ, this.LJLLILLLL, null, false);
        C30868C9o.LJI(getString(R.string.sxp));
    }

    public void onEvent(B88 b88) {
        ActivityC45651qj mo49getActivity;
        try {
            if (this.v == null || (mo49getActivity = mo49getActivity()) == null) {
                return;
            }
            if (!b88.LJLIL) {
                String localClassName = mo49getActivity.getLocalClassName();
                if (TextUtils.isEmpty(localClassName) || !localClassName.endsWith(".DetailActivity")) {
                    return;
                }
            }
            mo49getActivity.finishAndRemoveTask();
            C28151B3b.LIZ().LIZIZ();
        } catch (Exception e) {
            C0NB.LJII(e);
        }
    }

    public void onEvent(B4M b4m) {
        if (b4m != null && b4m.LIZ) {
            C28461BEz c28461BEz = this.LLIIIILZ;
            if (c28461BEz != null) {
                c28461BEz.LIZIZ(true);
                return;
            }
            return;
        }
        B57.LIZ.LIZ().LIZIZ(new Event("live_play_paid_room_exit", 33814, EnumC28203B5b.BussinessApiCall));
        Pl(B5T.ROOM_IS_PAID_EVENT, "error", -1);
    }

    public void onEvent(C30743C4t c30743C4t) {
        B42 b42 = this.r;
        if (b42 != null) {
            LiveRoomFragment liveRoomFragment = (LiveRoomFragment) b42;
            liveRoomFragment.LLILZ = c30743C4t.LIZ;
            liveRoomFragment.Sl();
        }
        View view = this.LLLLZLLIL;
        if (view != null) {
            if (c30743C4t.LIZ) {
                view.setAlpha(0.0f);
            } else {
                view.setAlpha(1.0f);
            }
        }
    }

    public void onEvent(B43 b43) {
        if (b43 != null) {
            b43.LIZIZ = C16880lQ.LJLLJ(mo49getActivity().getClass());
            BZM LIZLLL = B4J.LIZLLL(b43.LIZIZ);
            if (LIZLLL != null) {
                LIZLLL.LJLILLLLZI.LJIIL = b43.LIZ;
            }
        }
    }

    public void onEvent(BNM bnm) {
        if (bnm == null) {
            return;
        }
        try {
            SparseBooleanArray sparseBooleanArray = bnm.LIZ;
            if (bnm.LIZIZ == 2) {
                ((LiveRoomFragment) Im()).LLIIIJ = sparseBooleanArray.get(2);
            }
        } catch (Exception e) {
            C0NB.LJI("LivePlayFragment", e);
        }
    }

    public void onEvent(B4Q b4q) {
        B42 b42 = this.r;
        if (b42 != null) {
            LiveRoomFragment liveRoomFragment = (LiveRoomFragment) b42;
            liveRoomFragment.LLILZIL = b4q.LIZIZ;
            liveRoomFragment.Sl();
        }
        Xm(b4q);
    }

    public void onEvent(B89 b89) {
        B35 b35 = this.LLIIIJ;
        if (b35 != null) {
            b35.lambda$setMuteNew$0(b89.LJLIL, "game partnership detail video play");
        }
    }

    public final void Gn(boolean z2, Room room) {
        AbsAudienceInteractionFragment absAudienceInteractionFragment;
        if (dn() && this.LLJIJIL == null) {
            if (((LiveRoomFragment) this.r).Dl(this)) {
                jn(false, wl());
                if (room != null) {
                    tn(room);
                }
                if (z2 && (absAudienceInteractionFragment = this.LLJIJIL) != null) {
                    absAudienceInteractionFragment.loadAfterRoomEnter();
                    return;
                }
                return;
            }
            B36 b36 = this.o;
            b36.LJLIL = z2;
            if (room != null) {
                b36.LJLILLLLZI = room;
            }
            this.LLLLLJLJLL.postDelayed(b36, 20L);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:186:0x0478  */
    /* JADX WARN: Removed duplicated region for block: B:193:? A[RETURN, SYNTHETIC] */
    /* JADX WARN: Type inference failed for: r3v35, types: [java.lang.Boolean, O] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final boolean In(boolean r24, com.bytedance.android.livesdkapi.depend.model.live.Room r25) {
        /*
            Method dump skipped, instructions count: 1416
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.In(boolean, com.bytedance.android.livesdkapi.depend.model.live.Room):boolean");
    }

    @Override // X.BKJ
    public final void Kd(Room room, EnterRoomConfig enterRoomConfig) {
        this.LLLZL = enterRoomConfig;
        this.LJLJI = room;
        C28184B4i c28184B4i = this.LLLLLLLLL;
        if (c28184B4i != null) {
            c28184B4i.LIZ = room;
        }
        EnterRoomConfig.RoomsData roomsData = enterRoomConfig.mRoomsData;
        if (roomsData.needSetRoomOrientation) {
            this.LLFFF = roomsData.enterRoomOrientation;
            roomsData.needSetRoomOrientation = false;
        }
        if (room != null && room.getBcToggleInfo() != null) {
            enterRoomConfig.mLogData.toggleStatus = room.getBcToggleInfo().status;
        }
    }

    /* JADX WARN: Can't fix incorrect switch cases order, some code will duplicate */
    /* JADX WARN: Code restructure failed: missing block: B:60:0x022a, code lost:
    
        if (r25.equals("6") == false) goto L42;
     */
    /* JADX WARN: Type inference failed for: r1v22, types: [java.lang.Boolean, O] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Nl(X.B5U r24, java.lang.String r25) {
        /*
            Method dump skipped, instructions count: 1010
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.Nl(X.B5U, java.lang.String):void");
    }

    /* JADX WARN: Multi-variable type inference failed */
    public final void Rm(boolean z2, boolean z3) {
        BJ9 bj9 = this.LLIIII;
        if (bj9 == null) {
            return;
        }
        if (!z2) {
            int i = 1;
            if (this.LLFFF != 1) {
                AbsAudienceInteractionFragment absAudienceInteractionFragment = this.LLJIJIL;
                if (absAudienceInteractionFragment instanceof LandscapeAudienceInteractionFragment) {
                    this.LLD = absAudienceInteractionFragment.isLocked();
                }
                BJ9 bj92 = this.LLIIII;
                EnterRoomConfig enterRoomConfig = this.LLLZL;
                EnterRoomConfig.RoomsData roomsData = enterRoomConfig.mRoomsData;
                long j = roomsData.roomId;
                String str = enterRoomConfig.mLogData.anchorId;
                String str2 = roomsData.enterFromMerge;
                String str3 = roomsData.enterMethod;
                String str4 = roomsData.actionType;
                boolean z4 = this.LLD;
                if (z3) {
                    i = C30149BsP.LIZ();
                } else if (C30149BsP.LIZ()) {
                    i = 0;
                }
                if (bj92.LJIJI == -1) {
                    return;
                }
                long currentTimeMillis = (System.currentTimeMillis() - bj92.LJIJI) - bj92.LJIJJLI;
                if (currentTimeMillis <= 500) {
                    return;
                }
                BZI LIZ = C28787BRn.LIZ("livesdk_landscape_screen_lock_duration");
                C06530Nl.LIZLLL(LIZ, str, "anchor_id", j, "room_id");
                LIZ.LJIJJ(str2, "enter_from_merge");
                LIZ.LJIJJ(str3, "enter_method");
                LIZ.LJIJJ(str4, "action_type");
                LIZ.LJIJJ(BJM.LJLIL.LIZJ(), "live_type");
                LIZ.LJIJJ(Integer.valueOf(z4 ? 1 : 0), "is_lock");
                LIZ.LJIJJ(Integer.valueOf(i), "if_comment_show");
                C30869C9p.LIZ(currentTimeMillis, LIZ, "duration");
                bj92.LJIJJLI = 0L;
                bj92.LJIJI = System.currentTimeMillis();
                return;
            }
        }
        bj9.LJIJJLI = 0L;
        bj9.LJIJI = System.currentTimeMillis();
    }

    public final void Rn(Room room, String str) {
        WarningTag warningTag;
        int i;
        Room room2 = room;
        FP1.LJFF("userLivePerception().\n enterMethod=", str, "MaskLayerExt");
        if (room2 == null) {
            "onViewCreated".equals(str);
            EnterRoomConfig enterRoomConfig = this.LLLZL;
            if (enterRoomConfig != null && enterRoomConfig.mRoomsData != null) {
                room2 = new Room();
                EnterRoomConfig.RoomsData roomsData = this.LLLZL.mRoomsData;
                WarningTag warningTag2 = roomsData.warningTag;
                if (warningTag2 != null) {
                    room2.warningTag = warningTag2;
                }
                MaskLayer maskLayer = roomsData.maskLayer;
                if (maskLayer != null) {
                    room2.maskLayer = maskLayer;
                }
            }
        }
        if (room2 != null && (warningTag = room2.warningTag) != null && warningTag.text != null) {
            if (warningTag.tagSource == 1) {
                i = 4;
            } else {
                i = 3;
            }
            if (warningTag.punishInfo != null) {
                i = 6;
            }
            ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).ny(this.LJLIL, warningTag.text, warningTag.duration, warningTag.punishInfo, i, warningTag.style, warningTag.detailUrl);
        }
        if (LiveReportMaskWidget.LJLJJLL.contains(Long.valueOf(this.LJLIL))) {
            pn(2);
            return;
        }
        if (this.mStatusDestroyed || isDetached()) {
            return;
        }
        if (!C1DH.LJJIJLIJ(room2, this.LLLZL, this.LLJJJJ)) {
            return;
        }
        C30770C5u.LJII = false;
        LiveMaskLayerWidget liveMaskLayerWidget = this.LLLIL;
        if (liveMaskLayerWidget == null) {
            this.LLLIL = new LiveMaskLayerWidget(room2, room2.maskLayer, this.LLIIIJ, this, this.LLLZL);
            cm().load(R.id.z8, this.LLLIL);
        } else {
            MaskLayer maskLayer2 = room2.maskLayer;
            B35 b35 = this.LLIIIJ;
            EnterRoomConfig enterRoomConfig2 = this.LLLZL;
            if (!liveMaskLayerWidget.isDestroyed && liveMaskLayerWidget.hasAttached) {
                liveMaskLayerWidget.LJLILLLLZI = room2;
                liveMaskLayerWidget.LJLJI = maskLayer2;
                liveMaskLayerWidget.LJLJJI = b35;
                liveMaskLayerWidget.LJLIL = this;
                liveMaskLayerWidget.LJLJJL = enterRoomConfig2;
                liveMaskLayerWidget.LJLZ();
            }
        }
        this.LLLIL.show();
        this.LLLILZLLLI = true;
    }

    public final void Zm(String str, boolean z2) {
        Object obj;
        String str2 = "show";
        if (getUserVisibleHint() || !isHidden()) {
            HashMap LIZJ = C03660Ck.LIZJ("event_name", "liveplay_background_status");
            if (z2) {
                obj = "show";
            } else {
                obj = "hide";
            }
            LIZJ.put("view_status", obj);
            LIZJ.put("view_bg_reason", str);
            C28733BPl.LJIILIIL().LIZIZ("ttlive_room", LIZJ);
        }
        HashMap hashMap = new HashMap();
        if (!z2) {
            str2 = "hide";
        }
        hashMap.put("bg_status", str2);
        hashMap.put("bg_reason", str);
        hashMap.put("bg_illegal", String.valueOf(this.LLIIJLIL));
        BZI LIZ = C28787BRn.LIZ("liveplay_background_monitor");
        LIZ.LJIILLIIL(this.LLLIIL);
        LIZ.LJJIFFI(hashMap);
        LIZ.LJJIIJZLJL();
    }

    public final void an(int i, FrameLayout.LayoutParams layoutParams) {
        ((B4L) this.LLILL.LIZ).LIZ(2, "normal-mode 222");
        if (((IInteractService) CN1.LIZ(IInteractService.class)).gr0()) {
            layoutParams.gravity = 85;
            return;
        }
        if (((IInteractService) CN1.LIZ(IInteractService.class)).Zs0()) {
            if (this.LLILL.LIZ.getWidth() < i) {
                layoutParams.gravity = 48;
                return;
            } else {
                layoutParams.gravity = 49;
                return;
            }
        }
        layoutParams.gravity = 17;
    }

    /* JADX WARN: Type inference failed for: r1v2, types: [X.BJ9, O] */
    /* JADX WARN: Type inference failed for: r1v29, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r1v30, types: [java.lang.Integer, O] */
    /* JADX WARN: Type inference failed for: r1v4, types: [java.lang.String, O] */
    /* JADX WARN: Type inference failed for: r1v5, types: [java.lang.Integer, O] */
    /* JADX WARN: Type inference failed for: r1v6, types: [java.lang.String, O] */
    /* JADX WARN: Type inference failed for: r1v7, types: [java.util.HashMap<java.lang.String, java.lang.String>, O] */
    public final void jn(boolean z2, Room room) {
        boolean z3;
        String str;
        String type;
        InterfaceC28161B3l LIZIZ;
        AbsAudienceInteractionFragment landscapeAudienceInteractionFragment;
        BJ9 bj9;
        InterfaceC28296B8q interfaceC28296B8q;
        PartnershipInfo partnershipInfo;
        Skin skin;
        if (((Boolean) this.LLLIIL.kv0(PIPStatusData.class)).booleanValue()) {
            C0NB.LJIIIZ("picture_in_picture", "hide abs interaction fragment");
            KL2.LJIILLIIL(8, this.LLLLLLZZ.findViewById(R.id.dm7));
        }
        if (!z2 && (room.getStreamType() == LiveMode.LIVE_STUDIO || room.getStreamType() == LiveMode.THIRD_PARTY)) {
            ((IGameLinkMicService) CN1.LIZ(IGameLinkMicService.class)).WC(this, this.LLLIIL);
        }
        String str2 = this.LLLZL.mLogData.requestId;
        this.LLJJ = str2;
        room.setRequestId(str2);
        room.setLog_pb(this.LLJJI);
        room.setUserFrom(this.LLJJIII);
        this.LLLIIL.rv0(RoomChannel.class, room);
        ((C32537Cpp) this.LLLIIL.gv0(C28403BCt.class)).LIZ = this.LLIIII;
        B35 b35 = this.LLIIIJ;
        if (b35 != null && b35.isVideoHorizontal()) {
            z3 = true;
        } else {
            z3 = false;
        }
        this.LLFF = z3;
        if (C30922CBq.LIZIZ) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("Live PlayFragment. showInteractionFragment, postValue VideoOrientationEvent, mIsVideoHorizontal=");
            LIZ.append(this.LLFF);
            LIZ.append(", mPortraitVideoViewBottom=");
            b1.LJ(LIZ, this.LLFZ, LIZ, "DebugFullVideoButton");
        }
        this.LLLIIL.rv0(VideoOrientationChangeChannel.class, new C28429BDt(this.LLFF, this.LLFZ));
        String str3 = "portrait";
        if (this.LLFFF == 1) {
            str = "portrait";
        } else {
            str = "landscape";
        }
        room.setRoomOrientation(str);
        ((C32537Cpp) this.LLLIIL.gv0(C28387BCd.class)).LIZ = this.LLLZL.mRoomsData.extraSchema;
        ((C32537Cpp) this.LLLIIL.gv0(BCO.class)).LIZ = Integer.valueOf(this.LLLZL.mECData.autoOpenProductBag);
        ((C32537Cpp) this.LLLIIL.gv0(BDY.class)).LIZ = this.LLLZL.mECData.autoOpenProductBagTrackParams;
        ((C32537Cpp) this.LLLIIL.gv0(BCK.class)).LIZ = this.LLLZL.mECData.ecCommonExtraParam;
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null) {
            ((C32537Cpp) dataChannel.gv0(BCM.class)).LIZ = Integer.valueOf(this.LLLZL.mECData.optAutoRouteSchemeRouting);
        }
        String key = "";
        if (!TextUtils.isEmpty(this.LLLZL.mRoomsData.extraSchema)) {
            this.LLLZL.mRoomsData.extraSchema = "";
        }
        if (this.LLJIJIL != null) {
            ((C32537Cpp) this.LLLIIL.gv0(BCQ.class)).LIZ = Boolean.FALSE;
            return;
        }
        Room room2 = this.LJLJI;
        if (room2 == null || (skin = room2.skin) == null) {
            type = "";
        } else {
            type = skin.scene;
        }
        C08680Vs c08680Vs = C08680Vs.LJIILJJIL;
        c08680Vs.getClass();
        o.LJIIIZ(type, "type");
        if (!C47261Igj.LJJIJIIJI("", "game_drawer", "game_drawer_drops", "game_drawer_tournament").contains(type)) {
            C0NB.LJ("Gecko_Resource_Loader", "please register type");
        } else {
            c08680Vs.LJIIIIZZ = type;
            BJB.LJI = c08680Vs.LIZIZ();
        }
        if (type.equals("game_drawer_drops")) {
            Room room3 = this.LJLJI;
            if (room3 != null && (partnershipInfo = room3.partnershipInfo) != null) {
                key = partnershipInfo.promotingDropsId;
            }
            o.LJIIIZ(key, "key");
            c08680Vs.LJIIIZ = key;
        }
        if (B7P.LIZ(mo49getActivity(), this.LLLZL, this.LLLLLLLZIL, "show_interact", this.LLZILL) || this.LLFFF == 1) {
            DrawerTypeChangeEvent drawerTypeChangeEvent = new DrawerTypeChangeEvent();
            drawerTypeChangeEvent.setValue(new C1NU(type, key));
            C73943T0h.LIZ().LIZIZ(drawerTypeChangeEvent);
            if (mo49getActivity() != null) {
                ActivityC45651qj mo49getActivity = mo49getActivity();
                DataChannel dataChannel2 = this.LLLIIL;
                if (!mo49getActivity.isFinishing() && (LIZIZ = B4J.LIZIZ(mo49getActivity, B4J.LIZ(mo49getActivity))) != null) {
                    if (LIZIZ.LJIJJLI() == null) {
                        LIZIZ.LLD();
                    }
                    if (LIZIZ.LJIJJLI() != null) {
                        LIZIZ.LJIJJLI().setDataChannel(dataChannel2);
                    }
                    B4J.LJFF(mo49getActivity, Boolean.TRUE);
                    if (B4J.LIZIZ == null && LiveDrawerTabTypeSetting.INSTANCE.getValue() > 0) {
                        ((DrawerTabsApi) Q7L.LIZIZ(DrawerTabsApi.class)).queryDrawerTabs(((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId()).LJJL(T16.LIZ()).LJJJ(T16.LIZ()).LJJJLIIL(new AfS17S0001000_5(2, 3), new AfS17S0001000_5(1, 19));
                    }
                }
            }
        }
        if (!z2) {
            C72545SdZ.LJFF(this.LLLIIL, "load_interact_layer", String.valueOf(System.currentTimeMillis() - this.LLLZL.mRoomsData.timeStamps.enterRoomStarTimeReal));
        }
        FragmentManager childFragmentManager = getChildFragmentManager();
        if (this.LLFFF == 1) {
            landscapeAudienceInteractionFragment = new PortraitAudienceInteractionFragment();
        } else {
            landscapeAudienceInteractionFragment = new LandscapeAudienceInteractionFragment();
        }
        this.LLJIJIL = landscapeAudienceInteractionFragment;
        DataChannel dataChannel3 = this.LLLIIL;
        if (dataChannel3 != null && (interfaceC28296B8q = (InterfaceC28296B8q) dataChannel3.kv0(C28406BCw.class)) != null) {
            interfaceC28296B8q.LIZLLL();
        }
        if (this.LLIIIJ != null && GameLiveLandscapeEnterOp.INSTANCE.getValue()) {
            int[] iArr = new int[2];
            this.LLIIIJ.getVideoSize(iArr);
            Ym(iArr[0], iArr[1], KL2.LJIIJJI(getContext()), "show_interact");
        }
        if (this.LLFFF != 1) {
            str3 = "landscape";
        }
        C29121Bbp.LIZJ("orientation", str3);
        this.LLJIJIL.setMaskViewCallback(new C28162B3m(this));
        this.LLJIJIL.setEnterRoomConfig(this.LLLZL, z2);
        this.LLJIJIL.setData(this.LLLIIL, this.LJLLJ, new B38(this));
        this.LLJIJIL.setRoomLogger(this.LLIIII);
        this.LLLLLLLLLL = ((IInteractService) CN1.LIZ(IInteractService.class)).n60(this.LJLLJ);
        try {
            childFragmentManager.getClass();
            C1B3 c1b3 = new C1B3(childFragmentManager);
            Fragment LJJJIL = childFragmentManager.LJJJIL("AbsInteractionFragment");
            if (LJJJIL != null) {
                c1b3.LJJI(LJJJIL);
            }
            c1b3.LJIIIIZZ(R.id.dm7, 1, this.LLJIJIL, "AbsInteractionFragment");
            c1b3.LJI();
            if (z2 && (bj9 = this.LLIIII) != null) {
                long currentTimeMillis = System.currentTimeMillis();
                bj9.LJIJ = currentTimeMillis;
                bj9.LJIJI = currentTimeMillis;
                bj9.LJIIZILJ = false;
            }
        } catch (Exception e) {
            C0NB.LJI("AbsAudienceInteractionFragment", e);
        }
        this.LLJIJIL.getLifecycle().addObserver(new GenericLifecycleObserver() { // from class: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.15
            @Override // androidx.lifecycle.LifecycleEventObserver
            public final void onStateChanged(LifecycleOwner lifecycleOwner, Lifecycle.Event event) {
                ActivityC45651qj mo49getActivity2;
                if (event.equals(Lifecycle.Event.ON_START)) {
                    LivePlayFragment livePlayFragment = LivePlayFragment.this;
                    if (livePlayFragment.LLJIJIL != null && (mo49getActivity2 = livePlayFragment.mo49getActivity()) != null && mo49getActivity2.getWindow() != null) {
                        LivePlayFragment livePlayFragment2 = LivePlayFragment.this;
                        if (livePlayFragment2.LLFFF == 1 && livePlayFragment2.LLJIJIL != null && livePlayFragment2.Im().l3() != null) {
                            ((B59) LivePlayFragment.this.Im().l3()).LIZ(true);
                        }
                    }
                }
            }
        });
        this.LLJIJIL.postOnViewModulePrepared(new ARunnableS8S0201000_5(0, this, room, 1));
    }

    /* JADX WARN: Removed duplicated region for block: B:42:0x00bd  */
    /* JADX WARN: Removed duplicated region for block: B:45:0x00c5  */
    /* JADX WARN: Removed duplicated region for block: B:48:0x00ce A[RETURN] */
    /* JADX WARN: Removed duplicated region for block: B:50:0x00f5  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void kn(boolean r11, X.B5U r12) {
        /*
            Method dump skipped, instructions count: 463
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.kn(boolean, X.B5U):void");
    }

    public final void ln(int i, String sceneType) {
        boolean mm = mm();
        RecyclableWidgetManager cm = cm();
        LiveLccMaskLayerWidget liveLccMaskLayerWidget = this.LLLILZ;
        if (liveLccMaskLayerWidget == null) {
            LiveLccMaskLayerWidget liveLccMaskLayerWidget2 = new LiveLccMaskLayerWidget();
            this.LLLILZ = liveLccMaskLayerWidget2;
            Room room = this.LJLJI;
            List<String> list = this.LJLJJL;
            String str = this.LLJJL;
            o.LJIIIZ(sceneType, "sceneType");
            liveLccMaskLayerWidget2.LJLIL = room;
            liveLccMaskLayerWidget2.LJLILLLLZI = list;
            liveLccMaskLayerWidget2.LJLJI = mm;
            liveLccMaskLayerWidget2.LJLJJI = sceneType;
            liveLccMaskLayerWidget2.LJLJJL = str;
            liveLccMaskLayerWidget2.LJLLI = false;
            liveLccMaskLayerWidget2.LJLJJLL = i;
            liveLccMaskLayerWidget2.LJLZ();
            cm.load(R.id.fo6, this.LLLILZ);
        } else {
            Room room2 = this.LJLJI;
            List<String> list2 = this.LJLJJL;
            String str2 = this.LLJJL;
            o.LJIIIZ(sceneType, "sceneType");
            liveLccMaskLayerWidget.LJLIL = room2;
            liveLccMaskLayerWidget.LJLILLLLZI = list2;
            liveLccMaskLayerWidget.LJLJI = mm;
            liveLccMaskLayerWidget.LJLJJI = sceneType;
            liveLccMaskLayerWidget.LJLJJL = str2;
            liveLccMaskLayerWidget.LJLLI = false;
            liveLccMaskLayerWidget.LJLJJLL = i;
            liveLccMaskLayerWidget.LJLZ();
        }
        if (this.LLLILZJ == null) {
            LCCCloseWidget lCCCloseWidget = new LCCCloseWidget();
            this.LLLILZJ = lCCCloseWidget;
            cm.load(R.id.fo5, lCCCloseWidget);
        }
        this.LLLILZ.show();
        this.LLLILZJ.show();
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public final void onViewCreated(View view, Bundle bundle) {
        boolean z2;
        EnterRoomConfig enterRoomConfig;
        CommerceStruct commerceStruct;
        boolean z3;
        boolean z4;
        View videoView;
        int width;
        int height;
        boolean z5;
        int i;
        int i2;
        Bitmap bitmap;
        boolean z6;
        View videoView2;
        int width2;
        int height2;
        super.onViewCreated(view, bundle);
        this.LLLLLLZZ = view;
        this.LLILLIZIL = (ViewGroup) view.findViewById(R.id.n9h);
        B4V b4v = this.LLILL;
        if (b4v.LIZ instanceof B4L) {
            b4v.LJ(2, "onViewCreated");
            ((InterfaceC28165B3p) this.LLILL.LIZ).setDataChannel(this.LLLIIL);
        }
        this.LLILLJJLI = (C47061t0) view.findViewById(R.id.fv6);
        this.LLILLL = (C47061t0) view.findViewById(R.id.fv7);
        this.LLILZ = (C47061t0) view.findViewById(R.id.fx6);
        this.LLILZIL = view.findViewById(R.id.fx7);
        this.LLILZLL = (ViewGroup) view.findViewById(R.id.g0_);
        hm();
        int i3 = 0;
        B73.LIZIZ(new ARunnableS15S0101000_11(0, this, 2), this.LLLIIL);
        this.LLILL.LJI(8);
        C47061t0 c47061t0 = this.LLILIL;
        if (c47061t0 != null) {
            c47061t0.setVisibility(8);
        }
        this.LLLLZLLIL = view.findViewById(R.id.fxs);
        B4U.LIZ().LJJIIZ(false);
        if (this.LLLLZLLLI) {
            B34 b34 = this.e;
            if (b34 != null && !this.LLLLLILLIL) {
                b34.LIZ();
            }
            if (!this.LLLZL.mFeedCoverData.enterPreviewSmooth) {
                InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
                if (LIZIZ != null && LIZIZ.getVideoView() != null) {
                    if (PreviewEnterUseSurfaceView.INSTANCE.isEnable(this.LLLZL) && (this.LLJILLL instanceof CVS)) {
                        z6 = true;
                        videoView2 = this.LLJILLL;
                        View videoView3 = LIZIZ.getVideoView();
                        width2 = videoView3.getWidth();
                        height2 = videoView3.getHeight();
                    } else {
                        z6 = false;
                        videoView2 = LIZIZ.getVideoView();
                        if (videoView2.getContext() instanceof MutableContextWrapper) {
                            ((MutableContextWrapper) videoView2.getContext()).setBaseContext(getContext());
                        }
                        width2 = videoView2.getWidth();
                        height2 = videoView2.getHeight();
                    }
                    LIZIZ.LJJJJZ(videoView2.getContext(), "share player", false);
                    if (!z6 && (videoView2.getParent() instanceof ViewGroup)) {
                        C16880lQ.LJLLL(videoView2, (ViewGroup) videoView2.getParent());
                    }
                    ViewGroup.LayoutParams LIZIZ2 = this.LLILL.LIZIZ();
                    if (width2 < height2) {
                        if (LIZIZ2 instanceof FrameLayout.LayoutParams) {
                            ((FrameLayout.LayoutParams) LIZIZ2).gravity = 17;
                        }
                    } else {
                        if (LIZIZ2 instanceof FrameLayout.LayoutParams) {
                            FrameLayout.LayoutParams layoutParams = (FrameLayout.LayoutParams) LIZIZ2;
                            layoutParams.gravity = 1;
                            layoutParams.topMargin = z;
                        }
                        this.LLFF = true;
                        on();
                    }
                    videoView2.setLayoutParams(LIZIZ2);
                    if (!z6) {
                        this.LLILZLL.addView(videoView2, 0);
                    }
                    B4V b4v2 = this.LLILL;
                    b4v2.getClass();
                    b4v2.LIZ = videoView2;
                    if (!LIZIZ.LJIJJLI()) {
                        LJIJ();
                    }
                    if (width2 < height2) {
                        this.LLILL.LJI(0);
                        this.LLILL.LJFF(2);
                    } else {
                        this.LLILL.LJFF(0);
                    }
                    LIZIZ.LJIIIZ(true);
                    if (!LIZIZ.LJIJJLI()) {
                        em("share");
                    }
                    if (z6) {
                        LIZIZ.LJJJJJ(this.LLILL.LIZJ());
                    }
                } else {
                    this.LLLLZLLLI = false;
                    this.LLILL.LJFF(2);
                }
            } else {
                InterfaceC28738BPq LIZIZ3 = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
                if (LIZIZ3 != null && LIZIZ3.getVideoView() != null) {
                    if (PreviewEnterUseSurfaceView.INSTANCE.isEnable(this.LLLZL) && (this.LLJILLL instanceof CVS)) {
                        z4 = true;
                        videoView = this.LLJILLL;
                        View videoView4 = LIZIZ3.getVideoView();
                        width = videoView4.getWidth();
                        height = videoView4.getHeight();
                        LIZIZ3.LJJJJIZL(false);
                    } else {
                        z4 = false;
                        videoView = LIZIZ3.getVideoView();
                        if (videoView.getContext() instanceof MutableContextWrapper) {
                            ((MutableContextWrapper) videoView.getContext()).setBaseContext(getContext());
                        }
                        width = videoView.getWidth();
                        height = videoView.getHeight();
                    }
                    if (!(LIZIZ3.getVideoView() instanceof CVS)) {
                        if (this.LLLZL.mFeedCoverData.enterPreviewSmooth) {
                            View videoView5 = LIZIZ3.getVideoView();
                            if ((videoView5 instanceof CVR) && !LiveCardSmoothFrameSetting.INSTANCE.isPlayerSource()) {
                                TextureView textureView = (TextureView) videoView5;
                                float width3 = textureView.getWidth();
                                float height3 = textureView.getHeight();
                                if (width3 > 0.0f && height3 > 0.0f && textureView.isAvailable()) {
                                    if (textureView.getContext() != null) {
                                        Bitmap bitmap2 = textureView.getBitmap();
                                        int LJIIL = C15380j0.LJIIL();
                                        int LJIIJJI = C15380j0.LJIIJJI();
                                        int width4 = bitmap2.getWidth();
                                        int height4 = bitmap2.getHeight();
                                        if (LJIIL < width4) {
                                            i3 = (width4 - LJIIL) / 2;
                                        }
                                        if (LJIIJJI < height4) {
                                            i2 = (height4 - LJIIJJI) / 2;
                                        } else {
                                            i2 = 0;
                                        }
                                        int min = Math.min(LJIIL, width4);
                                        int min2 = Math.min(LJIIJJI, height4);
                                        if (!bitmap2.isRecycled()) {
                                            bitmap = Bitmap.createBitmap(bitmap2, i3, i2, min, min2);
                                            bitmap2.recycle();
                                        } else {
                                            bitmap = null;
                                        }
                                        this.LLIZLLLIL = bitmap;
                                    } else {
                                        this.LLIZLLLIL = Bitmap.createBitmap((int) width3, (int) height3, Bitmap.Config.RGB_565);
                                    }
                                }
                            } else {
                                this.LLIZLLLIL = LIZIZ3.LJIILIIL();
                            }
                        }
                        LIZIZ3.LJJJJZ(videoView.getContext(), "share player", false);
                        if (!z4 && (videoView.getParent() instanceof ViewGroup)) {
                            C16880lQ.LJLLL(videoView, (ViewGroup) videoView.getParent());
                        }
                        ViewGroup.LayoutParams LIZIZ4 = this.LLILL.LIZIZ();
                        if (width < height) {
                            if (LIZIZ4 instanceof FrameLayout.LayoutParams) {
                                ((FrameLayout.LayoutParams) LIZIZ4).gravity = 17;
                            }
                        } else {
                            if (LIZIZ4 instanceof FrameLayout.LayoutParams) {
                                FrameLayout.LayoutParams layoutParams2 = (FrameLayout.LayoutParams) LIZIZ4;
                                z5 = true;
                                layoutParams2.gravity = 1;
                                layoutParams2.topMargin = z;
                            } else {
                                z5 = true;
                            }
                            this.LLFF = z5;
                            on();
                        }
                        videoView.setLayoutParams(LIZIZ4);
                        B4V b4v3 = this.LLILL;
                        b4v3.getClass();
                        b4v3.LIZ = videoView;
                        int width5 = videoView.getWidth();
                        int height5 = videoView.getHeight();
                        LiveCardSmoothEnterOptSetting liveCardSmoothEnterOptSetting = LiveCardSmoothEnterOptSetting.INSTANCE;
                        if (liveCardSmoothEnterOptSetting.getForceRemoveEnable()) {
                            this.LLIZ = new ImageView(getContext());
                            FrameLayout.LayoutParams layoutParams3 = new FrameLayout.LayoutParams(width5, height5);
                            if (width5 > height5) {
                                layoutParams3.gravity = 48;
                                layoutParams3.topMargin = z;
                            } else {
                                layoutParams3.topMargin = 0;
                                layoutParams3.gravity = 1;
                            }
                            this.LLIZ.setLayoutParams(layoutParams3);
                            this.LLIZ.setScaleType(ImageView.ScaleType.CENTER_CROP);
                            this.LLIZ.setImageBitmap(this.LLIZLLLIL);
                            this.LLILZLL.addView(this.LLIZ);
                            if (this.LLJILLL instanceof CVR) {
                                Qm();
                            }
                            ImageView imageView = this.LLIZ;
                            if (imageView != null) {
                                imageView.postDelayed(new ARunnableS12S0101000_8(1, this, 2), liveCardSmoothEnterOptSetting.getForceRemoveDelayTime());
                            }
                        }
                        if (!z4) {
                            i = 0;
                            this.LLILZLL.addView(videoView, 0);
                        } else {
                            i = 0;
                        }
                        LJIJ();
                        if (width < height) {
                            this.LLILL.LJI(i);
                            this.LLILL.LJFF(2);
                        } else {
                            this.LLILL.LJFF(i);
                        }
                        int videoSize = LIZIZ3.getVideoSize();
                        Ym(65535 & videoSize, videoSize >> 16, C81185Vtd.LIZLLL(), "share player");
                        LIZIZ3.LJIIIZ(true);
                        em("share");
                        if (z4) {
                            LIZIZ3.LJJJJJ(this.LLILL.LIZJ());
                        }
                    }
                } else {
                    this.LLLLZLLLI = false;
                    this.LLILL.LJFF(2);
                }
            }
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("share player -> render isTextureView= ");
            LIZ.append(this.LLILL.LIZ instanceof C48699J9j);
            B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        } else {
            this.LLILL.LJ(2, "onViewCreated");
        }
        if (this.LLLZL.mRoomsData.preCreateSurface) {
            InterfaceC28738BPq LIZIZ5 = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
            if (LIZIZ5 != null) {
                LIZIZ5.LJJJJJ(this.LLILL.LIZJ());
                LIZIZ5.LJJIIJ();
            }
            z2 = false;
            this.LLLZL.mRoomsData.preCreateSurface = false;
        } else {
            z2 = false;
        }
        this.LLLFFI = System.currentTimeMillis();
        this.LLLZL.mStreamData.enablePreCreateSurface = z2;
        Rn(null, "onViewCreated");
        if (getUserVisibleHint()) {
            ActivityC45651qj mo49getActivity = mo49getActivity();
            if (this.LLFFF != 1) {
                z3 = false;
            } else {
                z3 = true;
            }
            B4J.LJFF(mo49getActivity, Boolean.valueOf(z3));
        }
        this.LLZZ = new B50(((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).rR());
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null && (enterRoomConfig = this.LLLZL) != null && (commerceStruct = enterRoomConfig.mRoomsData.commerceStruct) != null && commerceStruct.commercePermission == 1) {
            dataChannel.rv0(LeftBottomECSlotWidgetShow.class, Boolean.TRUE);
        }
        this.LLZLLLL = new PreLoadInteractionLayer(this.LLLIIL, this.LLLLLJLJLL, new B3B(this));
    }

    public final void qn(float f, float f2) {
        LiveSlideUpGuideWidget liveSlideUpGuideWidget = this.LLLL;
        View view = getView();
        if (view != null) {
            view.setTranslationY(f);
        }
        if (liveSlideUpGuideWidget != null) {
            C47061t0 c47061t0 = liveSlideUpGuideWidget.LJLIL;
            if (c47061t0 != null) {
                c47061t0.setAlpha(f2);
            }
            C47121t6 c47121t6 = liveSlideUpGuideWidget.LJLILLLLZI;
            if (c47121t6 == null) {
                return;
            }
            c47121t6.setAlpha(f2);
        }
    }

    public final void rn(long j, C28245B6r c28245B6r) {
        String str;
        String str2;
        String str3;
        B3D Im;
        List<Long> rg;
        if (this.LLIIIILZ != null) {
            return;
        }
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            if (!TextUtils.isEmpty(bj9.LJJIL)) {
                str3 = this.LLIIII.LJJIL;
            } else if (TextUtils.isEmpty(this.LLIIII.LJJIIJ)) {
                str3 = "";
            } else if (TextUtils.isEmpty(this.LLIIII.LJJIIJZLJL)) {
                str3 = this.LLIIII.LJJIIJ;
            } else {
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append(this.LLIIII.LJJIIJ);
                LIZ.append("-");
                LIZ.append(this.LLIIII.LJJIIJZLJL);
                str3 = X1D.LIZIZ(LIZ);
            }
            BJ9 bj92 = this.LLIIII;
            str = bj92.LJJII;
            str2 = bj92.LJIIIZ;
        } else {
            EnterRoomConfig.RoomsData roomsData = this.LLLZL.mRoomsData;
            str = roomsData.enterType;
            str2 = roomsData.roomLabels;
            if (!TextUtils.isEmpty(roomsData.enterFromMergeRecommend)) {
                str3 = this.LLLZL.mRoomsData.enterFromMergeRecommend;
            } else if (TextUtils.isEmpty(this.LLLZL.mRoomsData.enterFromMerge)) {
                str3 = "";
            } else if (TextUtils.isEmpty(this.LLLZL.mRoomsData.enterMethod)) {
                str3 = this.LLLZL.mRoomsData.enterFromMerge;
            } else {
                StringBuilder LIZ2 = X1D.LIZ();
                LIZ2.append(this.LLLZL.mRoomsData.enterFromMerge);
                LIZ2.append("-");
                LIZ2.append(this.LLLZL.mRoomsData.enterMethod);
                str3 = X1D.LIZIZ(LIZ2);
            }
        }
        if (!PackEnterRoomOptEnableSetting.INSTANCE.isEnable() || (Im = Im()) == null) {
            rg = null;
        } else {
            rg = Im.rg();
        }
        String str4 = this.LLJJ;
        EnterRoomConfig enterRoomConfig = this.LLLZL;
        String str5 = enterRoomConfig.mLogData.liveReason;
        String str6 = enterRoomConfig.mRoomsData.shareFromUserId;
        HashMap<String, String> LJI = C28835BTj.LJI(C28835BTj.LIZIZ(null, this.LLLIIL, ""));
        EnterRoomConfig.RoomsData roomsData2 = this.LLLZL.mRoomsData;
        C28461BEz c28461BEz = new C28461BEz(c28245B6r, j, rg, str4, str, str2, str3, str5, str6, LJI, roomsData2.enterFromMerge, roomsData2.enterMethod, new HashMap(), C78847Ux1.LJJJI(this.LLLZL));
        this.LLIIIILZ = c28461BEz;
        long j2 = this.LLLZL.mLogData.fromPortalId;
        if (j2 > 0) {
            c28461BEz.LJLLL = j2;
        }
        c28461BEz.LIZIZ(true);
        StringBuilder LIZ3 = X1D.LIZ();
        LIZ3.append("startEnterRoom -> roomId=");
        LIZ3.append(this.LJLIL);
        LIZ3.append(", userId=");
        LIZ3.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ3));
    }

    public final void sn(long j, boolean z2) {
        boolean z3;
        C28158B3i c28158B3i;
        EnterRoomConfig.RoomsData roomsData;
        long currentTimeMillis = System.currentTimeMillis();
        if (z2) {
            HashMap<String, String> Vl = Vl();
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append(currentTimeMillis);
            LIZ.append("");
            Vl.put("param_live_enter_room_api_start_time", X1D.LIZIZ(LIZ));
        }
        C28245B6r c28245B6r = new C28245B6r(this, j);
        B3X LIZ2 = C28151B3b.LIZ();
        EnterRoomConfig enterRoomConfig = LIZ2.LIZJ;
        if (enterRoomConfig != null && (roomsData = enterRoomConfig.mRoomsData) != null && roomsData.roomId == j) {
            z3 = true;
        } else {
            z3 = false;
        }
        C28251B6x c28251B6x = null;
        LIZ2.LIZJ = null;
        if (z3) {
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("has prefetch room/enter api !!!! room_id=");
            LIZ3.append(j);
            B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ3));
            B32 b32 = this.LLLLLLL;
            b32.getClass();
            ((HashMap) b32.LJFF).put("n_time_api_start", Long.valueOf(System.currentTimeMillis()));
            B45 messageTimeTracker = ((IMessageService) CN1.LIZ(IMessageService.class)).getMessageTimeTracker();
            if (messageTimeTracker != null) {
                messageTimeTracker.LIZ("enter_room_api_start");
            }
            this.LLIIIILZ = C28151B3b.LIZ().LIZLLL;
            B3X LIZ4 = C28151B3b.LIZ();
            LIZ4.getClass();
            LIZ4.LJI = c28245B6r;
            int i = LIZ4.LJIIIIZZ;
            if (i == LIZ4.LIZ) {
                C28461BEz c28461BEz = LIZ4.LIZLLL;
                if (c28461BEz != null) {
                    c28251B6x = c28461BEz.LJZL;
                }
                c28245B6r.LIZIZ(c28251B6x);
                LIZ4.LJIIIIZZ = 0;
                return;
            }
            if (i != LIZ4.LIZIZ) {
                return;
            }
            C28461BEz c28461BEz2 = LIZ4.LIZLLL;
            if (c28461BEz2 != null && (c28158B3i = c28461BEz2.LJLJI) != null) {
                c28245B6r.LIZ(c28158B3i.LIZ, c28158B3i.LIZIZ, c28158B3i.LIZJ, null);
            }
            LIZ4.LJIIIIZZ = 0;
            return;
        }
        StringBuilder LIZ5 = X1D.LIZ();
        LIZ5.append("start room/enter api !!!! room_id=");
        LIZ5.append(j);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ5));
        rn(j, c28245B6r);
    }

    public final void vm(String str, boolean z2) {
        InterfaceC28738BPq LIZIZ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Tx().LIZIZ(this.LLLLZ);
        if (LIZIZ != null) {
            LIZIZ.LJJJJ(this.LLLLZ, str, z2);
        }
    }

    public final void Hl(int i, long j, String str) {
        String str2;
        if (this.LLLIIIL > 0) {
            long currentTimeMillis = System.currentTimeMillis() - this.LLLIIIL;
            long j2 = this.LLLIIII;
            this.LLLIIII = 0L;
            this.LLLIIIL = 0L;
            if (j2 > 0 && LiveLogMonitorSampleSetting.INSTANCE.isReport("livesdk_gift_effect_show_summary", LivesdkLinkmicFloatWindowOptimizeSetting.CORNER_RADIUS_PX)) {
                HashMap hashMap = new HashMap();
                C64504PTg.LIZJ(currentTimeMillis, hashMap, "duration_room", j2, "duration_gift_effect");
                hashMap.put("gift_effect_live_ratio", String.valueOf((j2 * 1.0d) / currentTimeMillis));
                if (((Boolean) this.LLLIIL.kv0(UserIsAnchorChannel.class)).booleanValue()) {
                    str2 = "1";
                } else {
                    str2 = CardStruct.IStatusCode.DEFAULT;
                }
                hashMap.put("is_anchor", str2);
                LivePerformanceManager LIZ = B4U.LIZ();
                LiveMode liveMode = this.LJLLJ;
                LIZ.getClass();
                hashMap.put("room_type", LivePerformanceManager.LJIILLIIL(liveMode));
                BZI LIZ2 = C28787BRn.LIZ("livesdk_gift_effect_show_summary");
                LIZ2.LJJIFFI(hashMap);
                LIZ2.LJIILLIIL(this.LLLIIL);
                LIZ2.LJJIIJZLJL();
            }
        }
        B32 b32 = this.LLLLLLL;
        if (b32 == null || B32.LJII || b32.LIZJ) {
            return;
        }
        if (i != 115) {
            b32.LIZJ = true;
        }
        if (!LiveMonitorSampleSetting.INSTANCE.isReportDolphin("ttlive_audience_leave_room", LivesdkLinkmicFloatWindowOptimizeSetting.CORNER_RADIUS_PX)) {
            return;
        }
        JSONObject jSONObject = new JSONObject();
        C05630Jz.LIZ(i, "exit_code", jSONObject);
        C05630Jz.LJI(jSONObject, "exit_msg", str);
        C05630Jz.LJFF(jSONObject, "room_id", j);
        C0K2.LJIILLIIL(3, 2, "ttlive_audience_leave_room", jSONObject);
    }

    public final void Jn(boolean z2, boolean z3, Room room) {
        OfficialChannelInfo officialChannelInfo;
        if (z2 && z3 && (officialChannelInfo = room.officialChannelInfo) != null && officialChannelInfo.channelUser != null) {
            this.LLLLZI.LJ = officialChannelInfo.backupRoomId;
        }
    }

    public final void Ln(int i, int i2, int i3) {
        if (Build.VERSION.SDK_INT >= 26 && C30184Bsy.LIZLLL()) {
            if (this.LLLZZ == null) {
                this.LLLZZ = new PictureInPictureParams.Builder();
            }
            ArrayList arrayList = new ArrayList();
            PendingIntent broadcast = PendingIntent.getBroadcast(getContext(), i3, new Intent("media_control").putExtra("control_type", i2), 67108864);
            DataChannel dataChannel = this.LLLIIL;
            if (dataChannel != null && !((Boolean) dataChannel.kv0(IsInteractingData.class)).booleanValue()) {
                arrayList.add(new RemoteAction(Icon.createWithResource(getContext(), i), "", "", broadcast));
            }
            this.LLLZZ.setActions(arrayList);
            if (mo49getActivity() != null) {
                mo49getActivity().setPictureInPictureParams(this.LLLZZ.build());
            }
        }
    }

    public final void Pl(B5T b5t, String str, int i) {
        if (b5t != null) {
            if (i == -1) {
                B5S.LIZJ(this.LLLZL, b5t);
            } else {
                B5S.LJ(this.LLLZL, b5t, "exit_room_container", Integer.valueOf(i));
            }
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("exit exitRoom:");
        LIZ.append(this.LJLIL);
        B4I.LIZ("RoomListener", X1D.LIZIZ(LIZ));
        DataChannel dataChannel = this.LLLIIL;
        if (dataChannel != null && ((Boolean) dataChannel.kv0(PIPStatusData.class)).booleanValue()) {
            if (mo49getActivity() != null) {
                mo49getActivity().finishAndRemoveTask();
                C28151B3b.LIZ().LIZIZ();
            }
        } else if (Im().p2() != null) {
            ((B5F) Im().p2()).LIZ(str);
        }
        this.LLLLJI = 0;
    }

    public final void Xl(int[] iArr, int i, int i2) {
        ViewGroup viewGroup;
        int i3;
        int i4;
        if (i == 0 || i2 == 0 || KL2.LJIIJJI(getContext()) < KL2.LJIIIZ(getContext()) || (viewGroup = this.LLILZLL) == null) {
            return;
        }
        int height = viewGroup.getHeight();
        int width = this.LLILZLL.getWidth();
        float f = i;
        float f2 = i2;
        float f3 = width;
        float f4 = height;
        if (f / f2 > f3 / f4) {
            i4 = (int) ((f3 / f) * f2);
            i3 = width;
        } else {
            i3 = (int) ((f4 / f2) * f);
            i4 = height;
        }
        int i5 = (width - i3) / 2;
        iArr[0] = i5;
        int i6 = (height - i4) / 2;
        iArr[1] = i6;
        iArr[2] = i5;
        iArr[3] = i6;
    }

    /* JADX WARN: Type inference failed for: r0v70, types: [X.B33] */
    @Override // androidx.fragment.app.Fragment
    public final View onCreateView(LayoutInflater inflater, ViewGroup viewGroup, Bundle bundle) {
        View LJII;
        o.LJIIIZ(inflater, "inflater");
        C29S c29s = null;
        if (ViewAutoPreloadOptSetting.INSTANCE.getEnable()) {
            if (getContext() != null) {
                LJII = C20760rg.LIZ.LIZIZ(getContext(), R.layout.d4p);
            } else {
                LJII = null;
            }
        } else {
            LJII = C20910rv.LIZ.LJII(R.layout.d4p);
        }
        if (LJII == null) {
            LJII = C20910rv.LJI(R.layout.d4p, viewGroup, false, 12);
        }
        C20910rv.LJIIJJI = EnumC20870rr.FRAGMENT_CREATED;
        C20910rv.LIZIZ();
        if (!LiveWatchPreloadSettings.INSTANCE.xmlResDisable()) {
            BN1.LIZ(inflater.getContext());
        }
        ((IGiftService) CN1.LIZ(IGiftService.class)).onPlayFragmentCreate();
        ((IGiftService) CN1.LIZ(IGiftService.class)).preloadLayout();
        ((IRankService) CN1.LIZ(IRankService.class)).onPlayFragmentCreate();
        ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).onPlayFragmentCreate();
        if (this.LLLZL.mFeedCoverData.enterPreviewSmooth) {
            if (Build.VERSION.SDK_INT >= 23) {
                LJII.findViewById(R.id.n4h).setForeground(null);
            }
            LJII.findViewById(R.id.n4h).setAlpha(0.0f);
        } else {
            LJII.findViewById(R.id.n4h).setAlpha(1.0f);
            if (Build.VERSION.SDK_INT >= 23) {
                LJII.findViewById(R.id.n4h).setForeground(new ColorDrawable(ColorProtector.parseColor("#a3000000")));
            }
        }
        this.LLILZLL = (ViewGroup) LJII.findViewById(R.id.g0_);
        LiveSurfaceViewSceneSetting liveSurfaceViewSceneSetting = LiveSurfaceViewSceneSetting.INSTANCE;
        boolean isEnableScene = liveSurfaceViewSceneSetting.isEnableScene(this.LLLZL);
        if (this.LLL && !Qn() && isEnableScene) {
            this.LLJILLL = new CVS(getContext());
        } else {
            this.LLJILLL = new CVR(getContext());
        }
        View view = this.LLJILLL;
        this.LLJILLL = view;
        this.LLILZLL.addView(view, 0, new ViewGroup.LayoutParams(-1, -1));
        this.LLJILLL.setVisibility(8);
        this.LLILL = new B4V(this.LLJILLL);
        C47061t0 c47061t0 = (C47061t0) LJII.findViewById(R.id.exl);
        this.LLILIL = c47061t0;
        ViewGroup.LayoutParams layoutParams = c47061t0.getLayoutParams();
        if (MultiGuestShareBgRtlOptSetting.INSTANCE.isEnable() && (layoutParams instanceof FrameLayout.LayoutParams)) {
            ((FrameLayout.LayoutParams) layoutParams).gravity = 3;
        }
        if (TextUtils.equals(this.LLLZL.mRoomsData.enterRoomScene, "inner_draw")) {
            Db();
        }
        if (this.LLL && !Qn() && liveSurfaceViewSceneSetting.isEnableScene(this.LLLZL)) {
            View view2 = this.LLJILLL;
            o.LJIIIZ(view2, "view");
            if (LiveLayoutObserverSetting.INSTANCE.enable()) {
                view2.addOnLayoutChangeListener(new ViewOnLayoutChangeListenerC28483BFv(view2, this));
                getLifecycle().addObserver(new GenericLifecycleObserver() { // from class: com.bytedance.android.livesdk.chatroom.ui.LayoutObserver$observer$1$2
                    @Override // androidx.lifecycle.LifecycleEventObserver
                    public final void onStateChanged(LifecycleOwner lifecycleOwner, Lifecycle.Event event) {
                        if (event == Lifecycle.Event.ON_RESUME) {
                            onResume();
                        }
                    }

                    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)
                    public final void onResume() {
                        ((Handler) C28482BFu.LIZ.getValue()).post(new ARunnableS41S0100000_5(Fragment.this, 131));
                    }
                });
            }
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("LivePlayFragment_onCreateView hc = ");
        LIZ.append(hashCode());
        C0NB.LIZIZ("1VNExperienceV1", X1D.LIZIZ(LIZ));
        this.LLJ = LJII.findViewById(R.id.g08);
        this.LLJI = (ConstraintLayout) LJII.findViewById(R.id.fxr);
        if (LiveConstraintLayoutOptSetting.enableDoubleMeasure()) {
            ViewGroup.LayoutParams layoutParams2 = this.LLJ.getLayoutParams();
            if (layoutParams2 != null) {
                int i = this.LLFFF;
                if (i == 1) {
                    layoutParams2.width = C81185Vtd.LIZLLL();
                    layoutParams2.height = C81185Vtd.LIZIZ();
                } else if (i == 0) {
                    layoutParams2.width = C81185Vtd.LIZIZ();
                    layoutParams2.height = C81185Vtd.LIZLLL();
                }
            }
            this.LLJI.addOnLayoutChangeListener(new IDCListenerS254S0100000_5(this, 3));
        }
        if (this.LLLLLIL && this.LLLIIL.kv0(SeiCacheChannel.class) == null && !TextUtils.isEmpty(this.LLLZL.mFeedCoverData.playerInfo.sei)) {
            this.LLLIIL.rv0(SeiCacheChannel.class, new C28272B7s(null, this.LLLZL.mFeedCoverData.playerInfo.sei));
        }
        OSZ<Integer, Integer> osz = this.LLLZL.mFeedCoverData.playerInfo.playerSize;
        if (osz.getFirst().intValue() > 0 && osz.getSecond().intValue() > 0) {
            if (this.LLLLLIL) {
                this.q.onVideoSizeChanged(osz.getFirst().intValue(), osz.getSecond().intValue());
            } else {
                DataChannel dataChannel = this.LLLIIL;
                if (dataChannel != null) {
                    dataChannel.rv0(MultiGuestV3VideoSizeChannel.class, osz);
                }
            }
        }
        Mn(new C28272B7s(null, this.LLLZL.mFeedCoverData.playerInfo.sei));
        EnterRoomConfig.FeedCoverData.PlayerInfo playerInfo = this.LLLZL.mFeedCoverData.playerInfo;
        Rect rect = playerInfo.playerActualRange;
        OSZ<Integer, Integer> osz2 = playerInfo.playerViewSize;
        if (rect.width() > 0 && rect.height() > 0) {
            B3G b3g = this.LLZZLLIL;
            if (b3g == null) {
                C0NB.LIZIZ("1VNExperienceV1", "updateEmptyViewToMultiGuestPreAdjustPlayerManager return as manager is null!");
            } else if (this.LLLLLIL) {
                b3g.LIZ(rect, osz2);
            }
        }
        C39532FfM c39532FfM = new C39532FfM(LJII);
        this.i = c39532FfM;
        c39532FfM.LJ();
        this.k = new InterfaceC28173B3x() { // from class: X.B33
            @Override // X.InterfaceC28173B3x
            public final boolean LIZ(int i2) {
                AbsAudienceInteractionFragment absAudienceInteractionFragment;
                B35 b35;
                int i3;
                LiveMaskLayerWidget liveMaskLayerWidget;
                LiveRoomFragment liveRoomFragment;
                C80797VnN c80797VnN;
                LivePlayFragment livePlayFragment = LivePlayFragment.this;
                if (livePlayFragment.getUserVisibleHint() && livePlayFragment.mo49getActivity() != null && (absAudienceInteractionFragment = livePlayFragment.LLJIJIL) != null && absAudienceInteractionFragment.isAdded() && (b35 = livePlayFragment.LLIIIJ) != null) {
                    int[] iArr = new int[2];
                    b35.getVideoSize(iArr);
                    int i4 = iArr[0];
                    if (i4 > 0 && (i3 = iArr[1]) > 0 && ((i4 > i3 || livePlayFragment.LLLLL != null) && (((liveMaskLayerWidget = livePlayFragment.LLLIL) == null || !liveMaskLayerWidget.isShowing()) && !livePlayFragment.LLJIJIL.menuWidgetIsShowing()))) {
                        Fragment parentFragment = livePlayFragment.getParentFragment();
                        if ((!(parentFragment instanceof LiveRoomFragment) || (c80797VnN = (liveRoomFragment = (LiveRoomFragment) parentFragment).LLF) == null || c80797VnN.getHeight() <= 0 || liveRoomFragment.LLF.getScrollY() % liveRoomFragment.LLF.getHeight() == 0) && !livePlayFragment.LLIILII) {
                            AbsAudienceInteractionFragment absAudienceInteractionFragment2 = livePlayFragment.LLJIJIL;
                            if ((!(absAudienceInteractionFragment2 instanceof LandscapeAudienceInteractionFragment) || !absAudienceInteractionFragment2.isLocked()) && !livePlayFragment.LLLLIILLL && !livePlayFragment.LLLLIL) {
                                int i5 = livePlayFragment.LLFFF;
                                if (i2 != 0) {
                                    if (i2 != 1) {
                                        if (i2 == 8) {
                                            AbsAudienceInteractionFragment absAudienceInteractionFragment3 = livePlayFragment.LLJIJIL;
                                            if ((absAudienceInteractionFragment3 instanceof PortraitAudienceInteractionFragment) && absAudienceInteractionFragment3.isScreenCleared()) {
                                                InterfaceC30442Bx8.LLLI.LIZ(Boolean.TRUE);
                                            }
                                            livePlayFragment.onEvent(new B3N(5));
                                        }
                                    } else {
                                        livePlayFragment.onEvent(new B3N(1));
                                    }
                                } else {
                                    AbsAudienceInteractionFragment absAudienceInteractionFragment4 = livePlayFragment.LLJIJIL;
                                    if ((absAudienceInteractionFragment4 instanceof PortraitAudienceInteractionFragment) && absAudienceInteractionFragment4.isScreenCleared()) {
                                        InterfaceC30442Bx8.LLLI.LIZ(Boolean.TRUE);
                                    }
                                    livePlayFragment.onEvent(new B3N(2));
                                }
                                BP8 bp8 = livePlayFragment.LLLLZIL;
                                if (bp8 != null && bp8.LIZLLL.get() != i2) {
                                    bp8.LIZLLL.set(i2);
                                }
                                B9E.LIZJ(livePlayFragment.LLLIIL, i2, i5, "auto");
                                return true;
                            }
                        }
                    }
                }
                return false;
            }
        };
        if (LiveDrawerDrawOptSetting.INSTANCE.isOpt()) {
            LJII.findViewById(R.id.fxv).setBackgroundResource(0);
        }
        try {
            ViewTreeLifecycleOwner.set(LJII, getViewLifecycleOwner());
            ViewTreeViewModelStoreOwner.set(LJII, this);
            C10A.LIZIZ(LJII, this);
            ActivityC45651qj mo49getActivity = mo49getActivity();
            if (mo49getActivity instanceof C29S) {
                c29s = (C29S) mo49getActivity;
            }
            C90903hW.LIZ(c29s);
            C3C5.m7constructorimpl(C76800UCe.LIZ);
        } catch (Throwable th) {
            C3C5.m7constructorimpl(C141335gf.LIZ(th));
        }
        return LJII;
    }

    public final void qm(long j, long j2, String str) {
        long j3;
        String LJFF;
        if (!this.LLJJIJIL) {
            this.LLJJIJIL = true;
            long j4 = -1;
            if (this.LLIIIJ != null) {
                j3 = System.currentTimeMillis() - this.LLIIIJ.getStartTime();
            } else {
                j3 = -1;
            }
            if (this.LLIIIILZ != null) {
                j4 = System.currentTimeMillis() - this.LLIIIILZ.LJLLI;
            }
            if (C79004UzY.LJJIFFI(this.LLJLILLLLZIIL)) {
                LJFF = "";
            } else {
                LJFF = C38393F4z.LJFF(this.LLJLILLLLZIIL);
            }
            BJL bjl = (BJL) DataChannelGlobal.LJLJJI.mv0(C29054Bak.class);
            if (bjl != null) {
                bjl.LJJIIZ = this.LLLZL.mLogData.fromPortalId;
            }
            C28657BMn.LIZIZ(str, j, j2, j3, j4, LJFF, C78847Ux1.LJJJI(this.LLLZL), this.LLLIIL);
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:140:0x03ff, code lost:
    
        if (r17 == false) goto L85;
     */
    /* JADX WARN: Removed duplicated region for block: B:98:0x0235  */
    /* JADX WARN: Type inference failed for: r2v15, types: [X.OSZ, O] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Ym(int r20, int r21, int r22, java.lang.String r23) {
        /*
            Method dump skipped, instructions count: 1606
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.Ym(int, int, int, java.lang.String):void");
    }

    public final void Pm(final int i, int i2, final long j, final String str, final boolean z2) {
        this.LLLLLJLJLL.postDelayed(new Runnable() { // from class: X.B5e
            public final /* synthetic */ boolean LJLJJI = true;

            @Override // java.lang.Runnable
            public final void run() {
                AbstractC28221B5t abstractC28221B5t;
                int i3;
                C80797VnN c80797VnN;
                long j2;
                LivePlayFragment livePlayFragment = LivePlayFragment.this;
                long j3 = j;
                boolean z3 = z2;
                boolean z4 = this.LJLJJI;
                int i4 = i;
                String str2 = str;
                B42 b42 = livePlayFragment.r;
                if (b42 != null) {
                    LiveRoomFragment liveRoomFragment = (LiveRoomFragment) b42;
                    if (liveRoomFragment.LLIIII != null && liveRoomFragment.LLF != null && (abstractC28221B5t = liveRoomFragment.LLFFF) != null && !C79004UzY.LJJIFFI(abstractC28221B5t.LJIILJJIL())) {
                        AbstractC28221B5t abstractC28221B5t2 = liveRoomFragment.LLFFF;
                        if (!(abstractC28221B5t2 instanceof C28608BKq) && !(abstractC28221B5t2 instanceof MultiRoomIdListProvider)) {
                            int currentItem = liveRoomFragment.LLF.getCurrentItem();
                            if (liveRoomFragment.LJLJJLL) {
                                i3 = currentItem + 1;
                            } else {
                                i3 = currentItem - 1;
                            }
                            StringBuilder LIZJ = C06460Ne.LIZJ("cur ->", currentItem, " next ->", i3, "  total ->");
                            LIZJ.append(liveRoomFragment.LLFFF.size());
                            C0NB.LJIIIZ("removeAndSwipeItem", X1D.LIZIZ(LIZJ));
                            if (i3 < 0 || i3 >= liveRoomFragment.LLFFF.size()) {
                                return;
                            }
                            if ((z4 && liveRoomFragment.LLIIII.LJLJJL != 0) || (c80797VnN = liveRoomFragment.LLF) == null) {
                                return;
                            }
                            c80797VnN.LLF = false;
                            c80797VnN.LJJIFFI(i3, true, false, 0);
                            if (z3) {
                                liveRoomFragment.LLF.postDelayed(new ARunnableS13S0100100_5(j3, liveRoomFragment, 2), 100L);
                            }
                            C30868C9o.LIZJ(i4);
                            if (C38354F3m.LIZJ(str2, "end") && livePlayFragment.LLIIII != null) {
                                Room room = livePlayFragment.LJLJI;
                                DataChannel dataChannel = livePlayFragment.LLLIIL;
                                if (room != null) {
                                    if (LiveLogMonitorSampleSetting.INSTANCE.isReport("livesdk_finish_delete", LiveLogMonitorSampleSetting.getSAMPLE_100())) {
                                        if (room.getOwner() != null) {
                                            j2 = room.getOwner().getId();
                                        } else {
                                            j2 = 0;
                                        }
                                        long id = room.getId();
                                        BZI LIZ = C28787BRn.LIZ("livesdk_finish_delete");
                                        LIZ.LJIJJ(Long.valueOf(id), "delete_room_id");
                                        LIZ.LJIJJ(Long.valueOf(j2), "delete_anchor_id");
                                        LIZ.LJIJJ("auto_skip", "delete_type");
                                        if (!BuriedFieldReductionSetting.INSTANCE.isBuriedField(LIZ.LJIILL())) {
                                            LIZ.LJIIZILJ();
                                            LIZ.LJJIIJZLJL();
                                        } else {
                                            LIZ.LJJIJ();
                                            LIZ.LJI();
                                            LIZ.LJJIIZI();
                                        }
                                    }
                                    C28207B5f.LIZ(dataChannel, "toast_swipe");
                                }
                            }
                            livePlayFragment.LLZZZIL = true;
                        }
                    }
                }
            }
        }, i2);
    }

    public final void un(String str, LiveMode liveMode, StreamUrlExtra.SrConfig srConfig, String str2, boolean z2) {
        if (this.LLIIIJ != null) {
            return;
        }
        if (this.LLILL == null) {
            C0NB.LJ("LivePlayFragment", "startPlayer mVideoView is null");
            return;
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("startPlayer -> roomId=");
        LIZ.append(this.LJLIL);
        LIZ.append(", userId=");
        LIZ.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        boolean z3 = false;
        this.LLILL.LJI(0);
        if (!this.LLIIL && !this.LLLZI) {
            hn("start player");
        }
        long j = this.LLLZL.mStreamData.captionStreamDelayMs;
        if (this.LLLLZLLLI) {
            if (this.LLILL.LIZ() == null) {
                return;
            } else {
                this.LLIIIJ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Nf(this.LJLIL, str, liveMode, srConfig, this.LLILL.LIZJ(), this.q, this.LLILL.LIZ(), str2, this.LLLLZ, j);
            }
        } else if (getContext() == null) {
            return;
        } else {
            this.LLIIIJ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).Nf(this.LJLIL, str, liveMode, srConfig, this.LLILL.LIZJ(), this.q, getContext(), str2, this.LLLLZ, j);
        }
        B35 b35 = this.LLIIIJ;
        if (b35 instanceof B35) {
            String playerTag = b35.getPlayerTag();
            this.LLLLZ = playerTag;
            this.LLLZL.mRoomsData.warmUpPlayerTag = playerTag;
        }
        this.LLIIIJ.setEnterRoomScene(this.LLLZL.mRoomsData.enterRoomScene);
        C0NB.LIZIZ("LivePitayaRunTaskFrequentControlManager", "startEnterRoom");
        C22800uy.LIZ = 1;
        C22800uy.LIZIZ = true;
        km();
        this.LLIIIJ.setPrePullStream(z2);
        this.LLIIIJ.start();
        this.LLIIIJ.setAnchorInteractMode(this.LLFII);
        B35 b352 = this.LLIIIJ;
        if (this.LLFFF == 1) {
            z3 = true;
        }
        b352.setScreenOrientation(z3);
        if (!this.LLLZI) {
            if ((this.LLJLLL || this.LLLLLILLIL) && C38354F3m.LIZJ("inner_draw", this.LLLZL.mRoomsData.enterRoomScene)) {
                IDHandlerS18S0100000_5 iDHandlerS18S0100000_5 = this.LLLLLJLJLL;
                iDHandlerS18S0100000_5.sendMessageDelayed(Message.obtain(iDHandlerS18S0100000_5, 37), this.LLJZ);
                return;
            } else if (this.LLJZIJLIL > 0) {
                IDHandlerS18S0100000_5 iDHandlerS18S0100000_52 = this.LLLLLJLJLL;
                iDHandlerS18S0100000_52.sendMessageDelayed(Message.obtain(iDHandlerS18S0100000_52, 37), this.LLJZIJLIL);
                return;
            } else {
                LJII();
                return;
            }
        }
        LJIJ();
    }

    public final void vn(String str, String str2, LiveMode liveMode, StreamUrlExtra.SrConfig srConfig, boolean z2) {
        if (this.LLIIIJ != null) {
            return;
        }
        if (this.LLILL == null) {
            C0NB.LJ("LivePlayFragment", "startPlayer  mVideoView is null");
            return;
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("startPlayer, roomId=");
        LIZ.append(this.LJLIL);
        LIZ.append(", userId=");
        LIZ.append(this.LJLJJI);
        B4I.LIZ("LivePlayFragment", X1D.LIZIZ(LIZ));
        boolean z3 = false;
        this.LLILL.LJI(0);
        if (!this.LLIIL && !this.LLLZI) {
            hn("start player");
        }
        long j = this.LLLZL.mStreamData.captionStreamDelayMs;
        if (this.LLLLZLLLI) {
            if (this.LLILL.LIZ() == null) {
                return;
            } else {
                this.LLIIIJ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).ht0(this.LJLIL, str, str2, liveMode, srConfig, this.LLILL.LIZJ(), this.q, this.LLILL.LIZ(), this.LLLLZ, j);
            }
        } else if (getContext() == null) {
            return;
        } else {
            this.LLIIIJ = ((IPullStreamService) CN1.LIZ(IPullStreamService.class)).ht0(this.LJLIL, str, str2, liveMode, srConfig, this.LLILL.LIZJ(), this.q, getContext(), this.LLLLZ, j);
        }
        B35 b35 = this.LLIIIJ;
        if (b35 instanceof B35) {
            String playerTag = b35.getPlayerTag();
            this.LLLLZ = playerTag;
            this.LLLZL.mRoomsData.warmUpPlayerTag = playerTag;
        }
        this.LLIIIJ.setEnterRoomScene(this.LLLZL.mRoomsData.enterRoomScene);
        C0NB.LIZIZ("LivePitayaRunTaskFrequentControlManager", "startEnterRoom");
        C22800uy.LIZ = 1;
        C22800uy.LIZIZ = true;
        km();
        BJ9 bj9 = this.LLIIII;
        if (bj9 != null) {
            bj9.LJJIZ = SystemClock.elapsedRealtime();
        }
        this.LLIIIJ.setPrePullStream(z2);
        this.LLIIIJ.start();
        this.LLIIIJ.setAnchorInteractMode(this.LLFII);
        B35 b352 = this.LLIIIJ;
        if (this.LLFFF == 1) {
            z3 = true;
        }
        b352.setScreenOrientation(z3);
        if (!this.LLLZI) {
            if ((this.LLJLLL || this.LLLLLILLIL) && C38354F3m.LIZJ("inner_draw", this.LLLZL.mRoomsData.enterRoomScene)) {
                IDHandlerS18S0100000_5 iDHandlerS18S0100000_5 = this.LLLLLJLJLL;
                iDHandlerS18S0100000_5.sendMessageDelayed(Message.obtain(iDHandlerS18S0100000_5, 37), this.LLJZ);
                return;
            } else if (this.LLJZIJLIL > 0) {
                IDHandlerS18S0100000_5 iDHandlerS18S0100000_52 = this.LLLLLJLJLL;
                iDHandlerS18S0100000_52.sendMessageDelayed(Message.obtain(iDHandlerS18S0100000_52, 37), this.LLJZIJLIL);
                return;
            } else {
                LJII();
                return;
            }
        }
        LJIJ();
    }

    /* JADX WARN: Code restructure failed: missing block: B:68:0x00ee, code lost:
    
        if (r8.size() >= 10) goto L43;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Em(long r14, boolean r16, boolean r17, boolean r18, java.lang.String r19, boolean r20) {
        /*
            Method dump skipped, instructions count: 573
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.LivePlayFragment.Em(long, boolean, boolean, boolean, java.lang.String, boolean):void");
    }
}
