package com.bytedance.android.livesdk.chatroom.ui;

import X.AbstractC30130Bs6;
import X.AbstractC30139BsF;
import X.AbstractC32474Coo;
import X.AbstractC66014PvW;
import X.AbstractC73638SvC;
import X.AbstractC73672Svk;
import X.ActivityC45651qj;
import X.B45;
import X.B4J;
import X.B4R;
import X.B4U;
import X.B5D;
import X.B5S;
import X.B5T;
import X.B73;
import X.B76;
import X.BCN;
import X.BCP;
import X.BCU;
import X.BCW;
import X.BCX;
import X.BD7;
import X.BDN;
import X.BJ9;
import X.BJM;
import X.BJN;
import X.BJP;
import X.BKC;
import X.BM7;
import X.BNJ;
import X.BNK;
import X.BOF;
import X.BOT;
import X.BT1;
import X.BTJ;
import X.BWT;
import X.BY8;
import X.BZI;
import X.BZM;
import X.C03880Dg;
import X.C05630Jz;
import X.C06490Nh;
import X.C0GA;
import X.C0IZ;
import X.C0K2;
import X.C0NB;
import X.C0NE;
import X.C10640bM;
import X.C113554cx;
import X.C12800eq;
import X.C15380j0;
import X.C15610jN;
import X.C15950jv;
import X.C16880lQ;
import X.C1DH;
import X.C1H;
import X.C20790rj;
import X.C20910rv;
import X.C24120x6;
import X.C259710f;
import X.C28162B3m;
import X.C28202B5a;
import X.C28246B6s;
import X.C28268B7o;
import X.C28282B8c;
import X.C28329B9x;
import X.C28394BCk;
import X.C28424BDo;
import X.C28426BDq;
import X.C28429BDt;
import X.C28571BJf;
import X.C28592BKa;
import X.C28659BMp;
import X.C28662BMs;
import X.C28697BOb;
import X.C28698BOc;
import X.C28733BPl;
import X.C28787BRn;
import X.C28790BRq;
import X.C28823BSx;
import X.C28824BSy;
import X.C28834BTi;
import X.C28835BTj;
import X.C28854BUc;
import X.C28954BXy;
import X.C29075Bb5;
import X.C29125Bbt;
import X.C29232Bdc;
import X.C29388Bg8;
import X.C29401Dk;
import X.C29494Bhq;
import X.C29594BjS;
import X.C29627Bjz;
import X.C29630Bk2;
import X.C29726Bla;
import X.C29738Blm;
import X.C29827BnD;
import X.C29890BoE;
import X.C29907BoV;
import X.C29917Bof;
import X.C29919Boh;
import X.C29927Bop;
import X.C29929Bor;
import X.C29930Bos;
import X.C30056Bqu;
import X.C30061Bqz;
import X.C30073BrB;
import X.C30076BrE;
import X.C30077BrF;
import X.C30089BrR;
import X.C30090BrS;
import X.C30091BrT;
import X.C30092BrU;
import X.C30093BrV;
import X.C30099Brb;
import X.C30100Brc;
import X.C30101Brd;
import X.C30102Bre;
import X.C30107Brj;
import X.C30114Brq;
import X.C30116Brs;
import X.C30118Bru;
import X.C30119Brv;
import X.C30124Bs0;
import X.C30125Bs1;
import X.C30128Bs4;
import X.C30134BsA;
import X.C30142BsI;
import X.C30147BsN;
import X.C30148BsO;
import X.C30157BsX;
import X.C30176Bsq;
import X.C30184Bsy;
import X.C30268BuK;
import X.C30317Bv7;
import X.C30326BvG;
import X.C30446BxC;
import X.C30591BzX;
import X.C30605Bzl;
import X.C30627C0h;
import X.C30686C2o;
import X.C30725C4b;
import X.C30744C4u;
import X.C30868C9o;
import X.C30878C9y;
import X.C30922CBq;
import X.C31032CFw;
import X.C31117CJd;
import X.C31153CKn;
import X.C31309CQn;
import X.C31528CYy;
import X.C31692CcC;
import X.C31811Ce7;
import X.C32041No;
import X.C32537Cpp;
import X.C36542EVu;
import X.C38354F3m;
import X.C38995FSd;
import X.C39532FfM;
import X.C40210FqI;
import X.C48459J0d;
import X.C48690J9a;
import X.C58521Mxx;
import X.C60903NvH;
import X.C62705OjF;
import X.C64894PdS;
import X.C65300Pk0;
import X.C66579QBb;
import X.C6FU;
import X.C73318Sq2;
import X.C73933Szx;
import X.C73943T0h;
import X.C74740TUy;
import X.C74969TbZ;
import X.C76800UCe;
import X.C77437UaH;
import X.C77800Ug8;
import X.C78920UyC;
import X.C79004UzY;
import X.C82555Wad;
import X.C84979XWt;
import X.C86881Y7x;
import X.C86933Y9x;
import X.C86934Y9y;
import X.C87277YNd;
import X.CCJ;
import X.CG4;
import X.CG5;
import X.CKB;
import X.CN1;
import X.CXJ;
import X.DialogC77438UaI;
import X.EnumC12790ep;
import X.EnumC20870rr;
import X.EnumC30098Bra;
import X.EnumC30108Brk;
import X.EnumC30204BtI;
import X.EnumC30241Btt;
import X.EnumC30414Bwg;
import X.EnumC31154CKo;
import X.EnumC31509CYf;
import X.InterfaceC04100Ec;
import X.InterfaceC2301691o;
import X.InterfaceC27469AqH;
import X.InterfaceC29856Bng;
import X.InterfaceC29879Bo3;
import X.InterfaceC29961BpN;
import X.InterfaceC29980Bpg;
import X.InterfaceC30131Bs7;
import X.InterfaceC30132Bs8;
import X.InterfaceC30133Bs9;
import X.InterfaceC30135BsB;
import X.InterfaceC30143BsJ;
import X.InterfaceC30146BsM;
import X.InterfaceC30153BsT;
import X.InterfaceC30182Bsw;
import X.InterfaceC30442Bx8;
import X.InterfaceC31607Cap;
import X.InterfaceC62555Ogp;
import X.InterfaceC88471Ynr;
import X.InterfaceC88474Ynu;
import X.InterfaceC92693kP;
import X.LDB;
import X.ORZ;
import X.OSZ;
import X.T16;
import X.UPJ;
import X.X1D;
import X.XWV;
import X.YVM;
import Y.AObjectS122S0200000_5;
import Y.AObjectS134S0100000_5;
import Y.AObjectS140S0100000_5;
import Y.AObjectS21S0001000_5;
import Y.AObjectS22S0000000_5;
import Y.AObjectS22S0001000_6;
import Y.AObjectS39S0201000_5;
import Y.AObjectS41S0101000_2;
import Y.AObjectS42S0101000_5;
import Y.AObjectS45S0101000_13;
import Y.AObjectS49S0101000_4;
import Y.AObjectS50S0101000_5;
import Y.AObjectS52S0101000_7;
import Y.AObjectS54S1100000_5;
import Y.AObjectS56S0101000_13;
import Y.ARunnableS11S0101000_7;
import Y.ARunnableS12S0101000_8;
import Y.ARunnableS15S0101000_11;
import Y.ARunnableS18S0101000_14;
import Y.ARunnableS24S0200000_5;
import Y.ARunnableS41S0100000_5;
import Y.ARunnableS6S0101000_2;
import Y.ARunnableS9S0101000_5;
import Y.ARunnableS9S0201000_6;
import Y.AUListenerS46S0400000_4;
import Y.AUListenerS96S0200000_4;
import Y.AfS17S0001000_5;
import Y.AfS36S0101000_5;
import Y.IDCListenerS78S0000000_5;
import Y.IDDListenerS392S0100000_5;
import Y.IDTListenerS115S0100000_5;
import android.animation.ValueAnimator;
import android.app.Activity;
import android.app.ActivityManager;
import android.app.ApplicationExitInfo;
import android.content.Context;
import android.content.DialogInterface;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.os.SystemClock;
import android.text.Spannable;
import android.text.TextUtils;
import android.view.MotionEvent;
import android.view.ScaleGestureDetector;
import android.view.View;
import android.view.ViewGroup;
import android.view.animation.AccelerateInterpolator;
import android.widget.TextView;
import androidx.fragment.app.DialogFragment;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.lifecycle.ViewModelProviders;
import com.bytedance.android.live.ICommentService;
import com.bytedance.android.live.OpenGiftVerifyEvent;
import com.bytedance.android.live.adminsetting.IAdminSettingService;
import com.bytedance.android.live.ai.api.trigger.ILiveTriggerService;
import com.bytedance.android.live.banner.IBannerService;
import com.bytedance.android.live.base.model.user.User;
import com.bytedance.android.live.browser.IBrowserService;
import com.bytedance.android.live.copyrightreview.helper.CopyrightViolationHelper;
import com.bytedance.android.live.decoration.IDecorationService;
import com.bytedance.android.live.effect.api.IEffectService;
import com.bytedance.android.live.function.IRoomFunctionService;
import com.bytedance.android.live.gift.DutyGiftChangedEvent;
import com.bytedance.android.live.gift.GiftDialogVisibilityChannel;
import com.bytedance.android.live.gift.IGiftService;
import com.bytedance.android.live.gift.LogGiftCloseToastShowEvent;
import com.bytedance.android.live.gift.SendGiftSuccessEvent;
import com.bytedance.android.live.hashtag.IHashTagService;
import com.bytedance.android.live.liveinteract.api.IInteractService;
import com.bytedance.android.live.microom.IMicRoomService;
import com.bytedance.android.live.programmedlive.IProgrammedLiveService;
import com.bytedance.android.live.publicscreen.api.IPublicScreenService;
import com.bytedance.android.live.publicscreen.api.MainScreenPinnedWidgetLoadedChannel;
import com.bytedance.android.live.publicscreen.api.PublicScreenLoadedEvent;
import com.bytedance.android.live.qa.IQAService;
import com.bytedance.android.live.room.CommentSendEvent;
import com.bytedance.android.live.room.UserProfileShowingChannel;
import com.bytedance.android.live.room.VideoOrientationChangeChannel;
import com.bytedance.android.live.share.IShareService;
import com.bytedance.android.live.shorttouch.service.IShortTouchService;
import com.bytedance.android.live.slot.ISlotService;
import com.bytedance.android.live.toolbar.IToolbarService;
import com.bytedance.android.live.unityanimation.service.IUnityAnimationService;
import com.bytedance.android.live.usercard.IUserCardService;
import com.bytedance.android.live.userinfowidget.IUserInfoWidgetService;
import com.bytedance.android.live.usermanage.IUserManageService;
import com.bytedance.android.live.wallet.IWalletService;
import com.bytedance.android.live.wallet.WalletCenter;
import com.bytedance.android.livesdk.IBarrageService;
import com.bytedance.android.livesdk.api.revenue.goodybag.IGoodyBagService;
import com.bytedance.android.livesdk.api.revenue.starcomment.IStarCommentService;
import com.bytedance.android.livesdk.api.revenue.starcomment.StarCommentEntranceVisibleEvent;
import com.bytedance.android.livesdk.api.revenue.subscription.ISubscribeService;
import com.bytedance.android.livesdk.api.revenue.treasurebox.ITreasureBoxService;
import com.bytedance.android.livesdk.chatroom.event.DonationStickerAnchorEvent;
import com.bytedance.android.livesdk.chatroom.ui.AbsAudienceInteractionFragment;
import com.bytedance.android.livesdk.chatroom.viewmodule.CloseWidget;
import com.bytedance.android.livesdk.chatroom.viewmodule.EndWidget;
import com.bytedance.android.livesdk.chatroom.viewmodule.EndWidgetV2;
import com.bytedance.android.livesdk.chatroom.viewmodule.LiveDrawerEntranceWidget;
import com.bytedance.android.livesdk.chatroom.widget.CumulativeWatchAudienceWidget;
import com.bytedance.android.livesdk.chatroom.widget.followguide.FollowGuideAbsWidget;
import com.bytedance.android.livesdk.chatroom.widget.followguide.FollowGuideBottomCardWidget;
import com.bytedance.android.livesdk.chatroom.widget.followguide.FollowGuideDialogWidget;
import com.bytedance.android.livesdk.chatroom.widget.followguide.FollowGuidePinCardWidget;
import com.bytedance.android.livesdk.comp.api.debug.IDebugService;
import com.bytedance.android.livesdk.comp.api.game.service.IGameService;
import com.bytedance.android.livesdk.dataChannel.AudienceShowOrientationBeginTime;
import com.bytedance.android.livesdk.dataChannel.BanTalkEvent;
import com.bytedance.android.livesdk.dataChannel.BaseSingleTapEvent;
import com.bytedance.android.livesdk.dataChannel.BroadcastGamePauseOrResumeChannel;
import com.bytedance.android.livesdk.dataChannel.CommentOrMessageData;
import com.bytedance.android.livesdk.dataChannel.FirstFrameChannelEvent;
import com.bytedance.android.livesdk.dataChannel.FullScreenSurveyShowing;
import com.bytedance.android.livesdk.dataChannel.HideInteractionEvent;
import com.bytedance.android.livesdk.dataChannel.IsFromLandscapeData;
import com.bytedance.android.livesdk.dataChannel.IsFromPortraitData;
import com.bytedance.android.livesdk.dataChannel.KeyboardStatusChannel;
import com.bytedance.android.livesdk.dataChannel.LiveEndDismissDialogEvent;
import com.bytedance.android.livesdk.dataChannel.LowDevicePerfScalableChannel;
import com.bytedance.android.livesdk.dataChannel.ModeratorSettingShowEvent;
import com.bytedance.android.livesdk.dataChannel.MultiWindowModeChannel;
import com.bytedance.android.livesdk.dataChannel.PreCreateLivePlayerEvent;
import com.bytedance.android.livesdk.dataChannel.ProgrammedLiveFollowCardVisibilityChannel;
import com.bytedance.android.livesdk.dataChannel.ProgrammedLiveMenuVisibilityChannel;
import com.bytedance.android.livesdk.dataChannel.QueryUserFailEvent;
import com.bytedance.android.livesdk.dataChannel.RevenueAuthSuccessEvent;
import com.bytedance.android.livesdk.dataChannel.RoomChannel;
import com.bytedance.android.livesdk.dataChannel.RoomNotifyEvent;
import com.bytedance.android.livesdk.dataChannel.RoomUserChannel;
import com.bytedance.android.livesdk.dataChannel.UserIsAnchorChannel;
import com.bytedance.android.livesdk.dataChannel.WidgetLoadedEvent;
import com.bytedance.android.livesdk.drawerfeed.LiveNonPersonalizedDialog;
import com.bytedance.android.livesdk.event.PartnershipAudiencePromotingTaskChannel;
import com.bytedance.android.livesdk.function.UserPermissionCheckWidget;
import com.bytedance.android.livesdk.game.model.BriefGameTask;
import com.bytedance.android.livesdk.gift.event.LiveGiftSuspensionEvent;
import com.bytedance.android.livesdk.hashtag.MessageStationWidget;
import com.bytedance.android.livesdk.livesetting.clientai.LiveClientTriggerConfig;
import com.bytedance.android.livesdk.livesetting.game.GameLiveEnableLongPress;
import com.bytedance.android.livesdk.livesetting.game.partnership.GameLivePartnershipApiOptSetting;
import com.bytedance.android.livesdk.livesetting.gift.LiveFastGiftIconHideSetting;
import com.bytedance.android.livesdk.livesetting.gift.LiveTreasureBoxContainerOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestAdaptMicRoomSwitchSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiHostPauseLiveAudienceUISetting;
import com.bytedance.android.livesdk.livesetting.message.LiveMessageWsReuseSetting;
import com.bytedance.android.livesdk.livesetting.model.DrawerLoadOpt;
import com.bytedance.android.livesdk.livesetting.other.LiveLogMonitorSampleSetting;
import com.bytedance.android.livesdk.livesetting.other.LiveOptShareGetThumbSetting;
import com.bytedance.android.livesdk.livesetting.other.LiveSelfLinkedLikeBehaviorSetting;
import com.bytedance.android.livesdk.livesetting.other.ToolBarRefactor;
import com.bytedance.android.livesdk.livesetting.performance.BuriedFieldReductionSetting;
import com.bytedance.android.livesdk.livesetting.performance.EnableRecyclePublicScreenWidgetSetting;
import com.bytedance.android.livesdk.livesetting.performance.LiveRecycleWidgetV2RevenueSetting;
import com.bytedance.android.livesdk.livesetting.performance.LiveRecycleWidgetV2Setting;
import com.bytedance.android.livesdk.livesetting.performance.LiveRecycleWidgetV3Setting;
import com.bytedance.android.livesdk.livesetting.performance.LiveServiceManagerOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.RoomSlowFunctionOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.BadPhonesWatchLiveCommonUIOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.DelayWidgetLoadOptSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.LiveBannerDegradeSettings;
import com.bytedance.android.livesdk.livesetting.performance.degrade.LiveHotDegradeSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.LiveJitBlockSetting;
import com.bytedance.android.livesdk.livesetting.performance.degrade.LiveLikeDegradeSettings;
import com.bytedance.android.livesdk.livesetting.performance.degrade.hotroom.ScalableDowngradeSetting;
import com.bytedance.android.livesdk.livesetting.redenvelope.GetTreasureBoxListOpt;
import com.bytedance.android.livesdk.livesetting.roomfunction.LiveCustomPollMigrateShortTouchSetting;
import com.bytedance.android.livesdk.livesetting.roomfunction.ToolBarButtonWithTextExperiment;
import com.bytedance.android.livesdk.livesetting.roomfunction.TtliveGameLandscapeDesignOptimizeSetting;
import com.bytedance.android.livesdk.livesetting.starcomment.LiveStarCommentProtectSetting;
import com.bytedance.android.livesdk.livesetting.toolbar.ToolbarLoadingTimingSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveBannerDegradePhoneTransparent;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveDislikeVersion;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveDrawerLoadOptSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LiveGameStarCommentSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.LivePreCreateNextRoomPlayer;
import com.bytedance.android.livesdk.livesetting.watchlive.LivePreloadInteractionLayerSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.SurveyStyleSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.TestDisableCommentAreaSetting;
import com.bytedance.android.livesdk.livesetting.watchlive.WatchMemoryLeakOpt;
import com.bytedance.android.livesdk.livesetting.watchlive.enterroom.LivePlayAbnormalReportSetting;
import com.bytedance.android.livesdk.model.FlareInfo;
import com.bytedance.android.livesdk.model.OfficialChannelInfo;
import com.bytedance.android.livesdk.model.RoomAuthStatus;
import com.bytedance.android.livesdk.model.message.ControlMessage;
import com.bytedance.android.livesdk.model.message.GuideMessage;
import com.bytedance.android.livesdk.model.message.OperateToastMessage;
import com.bytedance.android.livesdk.model.message.RemindMessage;
import com.bytedance.android.livesdk.model.message.RoomNotifyMessage;
import com.bytedance.android.livesdk.model.message.common.Text;
import com.bytedance.android.livesdk.performance.LivePerformanceManager;
import com.bytedance.android.livesdk.rank.api.IRankService;
import com.bytedance.android.livesdk.survey.ISurveyService;
import com.bytedance.android.livesdk.ui.BaseFragment;
import com.bytedance.android.livesdk.watch.IWatchLiveService;
import com.bytedance.android.livesdkapi.dataChannel.EnterLiveSourceChannel;
import com.bytedance.android.livesdkapi.depend.model.live.LiveMode;
import com.bytedance.android.livesdkapi.depend.model.live.Room;
import com.bytedance.android.livesdkapi.host.IHostCommerce;
import com.bytedance.android.livesdkapi.host.IHostConfig;
import com.bytedance.android.livesdkapi.host.IHostCreativeTool;
import com.bytedance.android.livesdkapi.host.IHostPerformanceOpt;
import com.bytedance.android.livesdkapi.host.IHostPersonalized;
import com.bytedance.android.livesdkapi.host.IHostWatch;
import com.bytedance.android.livesdkapi.message.BaseMessage;
import com.bytedance.android.livesdkapi.message.CommonMessageData;
import com.bytedance.android.livesdkapi.session.EnterRoomConfig;
import com.bytedance.android.message.IMessageService;
import com.bytedance.android.widget.Widget;
import com.bytedance.common.utility.collection.WeakHandler;
import com.bytedance.ies.sdk.datachannel.DataChannel;
import com.bytedance.ies.sdk.datachannel.DataChannelGlobal;
import com.bytedance.ies.sdk.widgets.Layer2PriorityManager;
import com.bytedance.ies.sdk.widgets.LiveRecyclableWidget;
import com.bytedance.ies.sdk.widgets.LiveWidget;
import com.bytedance.ies.sdk.widgets.LiveWidgetProviderProxy;
import com.bytedance.ies.sdk.widgets.RecyclableWidgetManager;
import com.bytedance.ies.sdk.widgets.WidgetCreateTimeUtil;
import com.bytedance.mt.protector.impl.collections.ListProtector;
import com.ss.android.ugc.aweme.feed.model.CardStruct;
import com.ss.ugc.live.sdk.message.data.IMessage;
import com.ss.ugc.live.sdk.message.interfaces.IMessageManager;
import com.ss.ugc.live.sdk.message.interfaces.OnMessageListener;
import com.zhiliaoapp.musically.R;
import java.lang.ref.WeakReference;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.concurrent.TimeUnit;
import kotlin.jvm.internal.o;
import org.json.JSONException;
import org.json.JSONObject;

/* loaded from: classes6.dex */
public abstract class AbsAudienceInteractionFragment extends BaseFragment implements InterfaceC30135BsB, WeakHandler.IHandler, InterfaceC30133Bs9, InterfaceC2301691o, InterfaceC27469AqH {
    public BY8 audienceInteractionMessagePresenter;
    public CopyrightViolationHelper copyrightViolationHelper;
    public C28282B8c displayWidgetManager;
    public C30090BrS downgradeTrigger;
    public boolean hasReportLoadDuration;
    public boolean isStreamPaused;
    public C29125Bbt listener;
    public C30092BrU mControlMessagePresenter;
    public InterfaceC04100Ec mCustomPollCallback;
    public DataChannel mDataChannel;
    public String mEnterLiveSource;
    public EnterRoomConfig mEnterRoomConfig;
    public C30089BrR mFollowGuideCollector;
    public FollowGuideAbsWidget mFollowGuideWidget;
    public InterfaceC30182Bsw mGestureDetectLayout;
    public C30099Brb mGestureDetector;
    public InterfaceC92693kP mGiftPrefetchDisposable;
    public C30157BsX mInputEventHelper;
    public InterfaceC30146BsM mInteractionMessageHelper;
    public long mLastDoubleTapTime;
    public C30076BrE mLazyLoadWidgetManager;
    public LiveMode mLiveMode;
    public TextView mLivePauseToast;
    public AbstractC30130Bs6 mLiveStatusListener;
    public DialogInterface mLongPressDialog;
    public BWT mMiddleGroundShareHelper;
    public Runnable mOnViewModulePreparedAction;
    public B5D mRankOptOutPresenter;
    public Room mRoom;
    public BJ9 mRoomLogger;
    public LiveRecyclableWidget mTopRightBannerWidget;
    public C29388Bg8 mUserStatsPresenter;
    public long mWatchStartTime;
    public RecyclableWidgetManager mWidgetManager;
    public ScaleGestureDetector mZoomGestureDetector;
    public InterfaceC30143BsJ maskViewCallback;
    public LiveRecyclableWidget menuWidget;
    public IMessageManager messageManager;
    public CG4 metricCollector;
    public C31528CYy modificationMessagePresenter;
    public Object rankEntranceManager;
    public InterfaceC30153BsT shareCountManager;
    public Object starCommentCenter;
    public YVM stateMachine;
    public C29907BoV widgetLoadConditions;
    public WeakHandler mHandler = new WeakHandler(this);
    public View rootView = null;
    public final C73318Sq2 compositeSubscription = new C73318Sq2();
    public WidgetCreateTimeUtil mWidgetCreateTimeUtil = new WidgetCreateTimeUtil();
    public List<InterfaceC30131Bs7> closeRoomInterceptorList = new ArrayList();
    public final Layer2PriorityManager layer2PriorityManager = new Layer2PriorityManager(this);
    public boolean enterRoomPauseSei = true;
    public int goodyBagWidgetNumber = 0;
    public int treasureBoxWidgetNumber = 0;
    public int activityTreasureBoxWidgetNumber = 0;
    public int portalWidgetNumber = 0;
    public AbstractC30139BsF mWidgetLoadProcessor = new C28790BRq(this);
    public boolean mIsRebuildByConfigChange = false;
    public boolean mHasPreLoadInteractionLayer = false;
    public final AbstractC32474Coo callback = new C30091BrT(this);
    public final AbstractC32474Coo callbackGiftBanned = new C30119Brv();
    public Runnable mShowAfterP0WidgetLoadRunnable = new ARunnableS41S0100000_5(this, 117);

    public static void com_bytedance_android_livesdk_chatroom_ui_AbsAudienceInteractionFragment_com_bytedance_android_livesdk_dialog_LiveModalDialog_show(DialogC77438UaI dialogC77438UaI) {
        if (new C03880Dg(2).LIZJ(300000, "com/bytedance/android/livesdk/dialog/LiveModalDialog", "show", dialogC77438UaI, new Object[0], "void", new C65300Pk0(false, "()V", "3844399120210263902")).LIZ) {
            return;
        }
        dialogC77438UaI.show();
    }

    public void actionPause() {
        LiveMode liveMode;
        this.isStreamPaused = true;
        AbstractC30130Bs6 abstractC30130Bs6 = this.mLiveStatusListener;
        if (abstractC30130Bs6 != null) {
            abstractC30130Bs6.LIZIZ(3);
        }
        if (this.mLivePauseToast.getVisibility() != 8) {
            return;
        }
        if (!((Boolean) this.mDataChannel.kv0(BDN.class)).booleanValue()) {
            IInteractService iInteractService = (IInteractService) CN1.LIZ(IInteractService.class);
            boolean z = !iInteractService.VY();
            if ((!iInteractService.getConnectionType().equals("audience") || (liveMode = this.mLiveMode) == LiveMode.LIVE_STUDIO || liveMode == LiveMode.THIRD_PARTY) && z) {
                UPJ.LJFF(30, C73943T0h.LIZ());
            }
        } else {
            if (isScreenPortrait()) {
                UPJ.LJFF(30, C73943T0h.LIZ());
            }
            if (!MultiHostPauseLiveAudienceUISetting.isEnable()) {
                C30868C9o.LIZJ(R.string.sv9);
            }
        }
        C73943T0h.LIZ().LIZIZ(new C28268B7o(36));
        JSONObject jSONObject = new JSONObject();
        C05630Jz.LIZ(0, "error_code", jSONObject);
        C05630Jz.LJI(jSONObject, "error_msg", "action_pause");
        C0K2.LJIIIIZZ("ttlive_control_message_status", 0, jSONObject);
    }

    public void actionResume() {
        this.isStreamPaused = false;
        AbstractC30130Bs6 abstractC30130Bs6 = this.mLiveStatusListener;
        if (abstractC30130Bs6 != null) {
            abstractC30130Bs6.LIZIZ(2);
        }
        if (this.mRoom.getMosaicStatus() != 0) {
            return;
        }
        JSONObject jSONObject = new JSONObject();
        C05630Jz.LIZ(0, "error_code", jSONObject);
        C05630Jz.LJI(jSONObject, "error_msg", "action_resume");
        C0K2.LJIIIIZZ("ttlive_control_message_status", 0, jSONObject);
        C73943T0h.LIZ().LIZIZ(new C28268B7o(31));
        UPJ.LJFF(37, C73943T0h.LIZ());
    }

    public void changeTextMessageViewHeight() {
    }

    @Override // com.bytedance.android.live.design.resource.theme.LiveThemeAwareFragment, X.InterfaceC12810er
    public /* bridge */ /* synthetic */ int getThemeOverlay(Context context) {
        return C48690J9a.LIZIZ(context);
    }

    @Override // com.bytedance.android.live.design.resource.theme.LiveThemeAwareFragment
    public /* bridge */ /* synthetic */ boolean isLight(Context context) {
        return C48690J9a.LIZJ(this, context);
    }

    public boolean isLocked() {
        return false;
    }

    public boolean isScreenCleared() {
        return false;
    }

    public abstract boolean isScreenPortrait();

    public abstract RecyclableWidgetManager onCreateWidgetManager();

    public abstract boolean onInteractionFling(MotionEvent motionEvent, MotionEvent motionEvent2, float f, float f2);

    private void addGiftToggle() {
        boolean z;
        boolean z2;
        Room room = this.mRoom;
        if (room != null && room.getRoomAuthStatus() != null && this.mRoom.getRoomAuthStatus().isEnableGift()) {
            z = true;
        } else {
            z = false;
        }
        if (((IWalletService) CN1.LIZ(IWalletService.class)).walletCenter() != null && ((WalletCenter) ((IWalletService) CN1.LIZ(IWalletService.class)).walletCenter()).LIZ() > 0) {
            z2 = true;
        } else {
            z2 = false;
        }
        boolean isGiftSuspended = ((IGiftService) CN1.LIZ(IGiftService.class)).isGiftSuspended(this.mDataChannel);
        EnumC31154CKo LIZIZ = C31153CKn.LIZIZ(false, z2, z);
        if (isGiftSuspended || LIZIZ == EnumC31154CKo.GREY) {
            ((IGiftService) CN1.LIZ(IGiftService.class)).toggleGiftBehavior(getContext(), this.mDataChannel, false);
            return;
        }
        if (LIZIZ == EnumC31154CKo.SHOW) {
            ((IGiftService) CN1.LIZ(IGiftService.class)).toggleGiftBehavior(getContext(), this.mDataChannel, true);
            return;
        }
        JSONObject jSONObject = new JSONObject();
        JSONObject jSONObject2 = new JSONObject();
        JSONObject jSONObject3 = new JSONObject();
        try {
            jSONObject.put("type", "gift_icon_not_show");
            jSONObject3.put("show_status_can_send_gift", z);
            jSONObject3.put("show_status_has_coin", z2);
        } catch (JSONException e) {
            C16880lQ.LLLLIIL(e);
        }
        C0K2.LJI("gift_core_monitor", jSONObject, jSONObject2, jSONObject3);
    }

    private void alogRoomInfo() {
        Room room = this.mRoom;
        if (room == null || room.getRoomAuthStatus() == null) {
            return;
        }
        C28733BPl LJIILIIL = C28733BPl.LJIILIIL();
        String f9e = this.mRoom.toString();
        LJIILIIL.getClass();
        C0NE.LIZ("interaction_widget_room_auth", f9e);
    }

    public void configProfileHelper() {
        ((IUserCardService) CN1.LIZ(IUserCardService.class)).uP(this, this.mDataChannel, isScreenPortrait(), this);
    }

    private void getOrCreateRankManager() {
        if (this.rankEntranceManager != null) {
            return;
        }
        if (!((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).lj() && !((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).Rb(Long.valueOf(this.mRoom.getId()))) {
            this.rankEntranceManager = ((IRankService) CN1.LIZ(IRankService.class)).Rf0(this, this.mDataChannel, new C30107Brj(this), this.layer2PriorityManager);
        } else {
            this.layer2PriorityManager.setFirstScreenDone(true);
        }
    }

    private void initPublicScreenConfiguration() {
        ((IGiftService) CN1.LIZ(IGiftService.class)).initPublicScreenConfiguration();
        ((IInteractService) CN1.LIZ(IInteractService.class)).initPublicScreenConfiguration();
        ((IQAService) CN1.LIZ(IQAService.class)).initPublicScreenConfiguration();
        ((IGameService) CN1.LIZ(IGameService.class)).initPublicScreenConfiguration();
        ((ISubscribeService) CN1.LIZ(ISubscribeService.class)).initPublicScreenConfiguration();
    }

    public /* synthetic */ Boolean lambda$continueAfterWidgetLoaded$12() {
        return Boolean.valueOf(this.isStreamPaused);
    }

    public static /* synthetic */ LiveRecyclableWidget lambda$endWidgetLoading$60() {
        return new EndWidgetV2();
    }

    public /* synthetic */ void lambda$loadIndependentBehaviors$42() {
        syncGiftResource(this.mRoom);
    }

    public /* synthetic */ void lambda$loadIndependentBehaviors$44() {
        syncGiftResourceGiftBanned(this.mRoom);
    }

    public static /* synthetic */ LiveRecyclableWidget lambda$loadInitWidgetsP0$31() {
        return new CloseWidget();
    }

    public /* synthetic */ void lambda$loadInitWidgetsP0$32() {
        this.mWidgetManager.load(R.id.a9s, ((IRankService) CN1.LIZ(IRankService.class)).kj(isScreenPortrait()), true, new Object[]{new C30147BsN(SystemClock.elapsedRealtime())});
    }

    public /* synthetic */ void lambda$loadInitWidgetsP0$33() {
        this.mWidgetManager.load(R.id.a9s, ((IRankService) CN1.LIZ(IRankService.class)).kj(isScreenPortrait()), true, new Object[]{new C30147BsN(SystemClock.elapsedRealtime())});
    }

    public /* synthetic */ LiveRecyclableWidget lambda$loadInitWidgetsP0$34() {
        return ((IHashTagService) CN1.LIZ(IHashTagService.class)).qq(this.layer2PriorityManager);
    }

    public void lambda$loadInitWidgetsP0$35() {
        if (this.mWidgetManager == null) {
            return;
        }
        if (!ToolbarLoadingTimingSetting.INSTANCE.isV3()) {
            loadToolbarWidget();
        }
        if (!((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).lj() && !((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).Rb(Long.valueOf(this.mRoom.getId()))) {
            if (!isScreenPortrait()) {
                DelayWidgetLoadOptSetting delayWidgetLoadOptSetting = DelayWidgetLoadOptSetting.INSTANCE;
                if (delayWidgetLoadOptSetting.getEnableDelay()) {
                    C10640bM.LIZIZ(B73.LIZ(), new ARunnableS11S0101000_7(0, this, 4), this, delayWidgetLoadOptSetting.getDelayTimeInMills());
                } else {
                    this.mWidgetManager.load(R.id.a9s, ((IRankService) CN1.LIZ(IRankService.class)).kj(isScreenPortrait()), true, new Object[]{new C30147BsN(SystemClock.elapsedRealtime())});
                }
            }
            if (((Boolean) this.widgetLoadConditions.LJII.getValue()).booleanValue()) {
                if (LiveRecycleWidgetV2Setting.INSTANCE.getValue()) {
                    RecyclableWidgetManager recyclableWidgetManager = this.mWidgetManager;
                    recyclableWidgetManager.load(R.id.e2q, recyclableWidgetManager.getRecyclableWidgetFromCacheOrNew(((IHashTagService) CN1.LIZ(IHashTagService.class)).jm0(), new Object[]{this.layer2PriorityManager}, new AObjectS50S0101000_5(0, this, 0)));
                } else {
                    this.mWidgetManager.load(R.id.e2q, ((IHashTagService) CN1.LIZ(IHashTagService.class)).qq(this.layer2PriorityManager));
                }
            }
        }
        loadGamePartnerShipInfo();
    }

    public /* synthetic */ LiveRecyclableWidget lambda$loadWidgetWithFirstFrameP2$52() {
        return ((IDecorationService) CN1.LIZ(IDecorationService.class)).SF(this.layer2PriorityManager);
    }

    public static /* synthetic */ LiveRecyclableWidget lambda$loadWidgetWithRoomP1$39() {
        return new UserPermissionCheckWidget();
    }

    public /* synthetic */ void lambda$onActivityCreated$18() {
        prepareChildWidgets(this.rootView);
    }

    public /* synthetic */ void lambda$onResume$25() {
        this.mDataChannel.qv0(((IDecorationService) CN1.LIZ(IDecorationService.class)).bj0(), this.mRoom.getDecorationList());
    }

    public /* synthetic */ void lambda$onResume$26() {
        this.mDataChannel.qv0(((IDecorationService) CN1.LIZ(IDecorationService.class)).pm0(), ListProtector.get(this.mRoom.getRoomStickerList(), 0));
    }

    public /* synthetic */ void lambda$preCreatePlayer$61() {
        this.mDataChannel.pv0(PreCreateLivePlayerEvent.class);
    }

    public void lambda$prepareChildWidgets$0() {
        C48459J0d<Boolean> c48459J0d = InterfaceC30442Bx8.k3;
        if (c48459J0d.LIZJ().booleanValue()) {
            c48459J0d.LIZ(Boolean.FALSE);
            EnterRoomConfig enterRoomConfig = this.mEnterRoomConfig;
            if (!LivePlayAbnormalReportSetting.INSTANCE.isEnable() || Build.VERSION.SDK_INT < 30) {
                return;
            }
            B5S.LIZJ = true;
            LinkedHashMap linkedHashMap = new LinkedHashMap();
            if (enterRoomConfig != null) {
                linkedHashMap.putAll(C113554cx.LJJLIIIIJ(new OSZ("enter_from_merge", String.valueOf(enterRoomConfig.mRoomsData.enterFromMerge)), new OSZ("enter_method", String.valueOf(enterRoomConfig.mRoomsData.enterMethod)), new OSZ("action_type", String.valueOf(enterRoomConfig.mRoomsData.actionType)), new OSZ("room_id", String.valueOf(enterRoomConfig.mRoomsData.roomId)), new OSZ("anchor_id", String.valueOf(enterRoomConfig.mRoomsData.userId))));
            }
            Context LIZLLL = C15380j0.LIZLLL();
            if (LIZLLL != null) {
                try {
                    Object LLILL = C16880lQ.LLILL(LIZLLL, "activity");
                    o.LJII(LLILL, "null cannot be cast to non-null type android.app.ActivityManager");
                    List<ApplicationExitInfo> historicalProcessExitReasons = ((ActivityManager) LLILL).getHistoricalProcessExitReasons(LIZLLL.getPackageName(), 0, 1);
                    o.LJIIIIZZ(historicalProcessExitReasons, "am.getHistoricalProcessEâ€¦ontext.packageName, 0, 1)");
                    ApplicationExitInfo applicationExitInfo = (ApplicationExitInfo) ORZ.LJLLLL(historicalProcessExitReasons);
                    if (applicationExitInfo != null) {
                        linkedHashMap.put("detail_error_code", String.valueOf(applicationExitInfo.getReason()));
                        Object LIZ = C36542EVu.LIZ(applicationExitInfo, new Object[0]);
                        StringBuilder LIZ2 = X1D.LIZ();
                        LIZ2.append("SubReason->");
                        LIZ2.append(LIZ);
                        LIZ2.append(" ',description' ");
                        LIZ2.append(applicationExitInfo.getDescription());
                        linkedHashMap.put("error_msg", X1D.LIZIZ(LIZ2));
                    }
                } catch (Throwable unused) {
                }
            }
            linkedHashMap.put("error_code", "403");
            linkedHashMap.put("error_action", "exit_room_container");
            BZI LIZ3 = C28787BRn.LIZ("livesdk_abnormal_live_play");
            LIZ3.LJJIFFI(linkedHashMap);
            LIZ3.LJJIIJZLJL();
        }
    }

    public void liveWatchOneMinLog() {
        Room room;
        if (C28835BTj.LJFF(this.mDataChannel) && (room = this.mRoom) != null && room.author() != null) {
            HashMap hashMap = new HashMap();
            hashMap.put("anchor_id", String.valueOf(this.mRoom.author().getId()));
            hashMap.put("room_id", String.valueOf(this.mRoom.getId()));
            hashMap.put("duration", String.valueOf(this.mRoomLogger.LIZLLL()));
            C28835BTj.LIZ("live_ad", "live_watch_onemin", null, hashMap);
        }
    }

    /* JADX WARN: Removed duplicated region for block: B:33:0x009e  */
    /* JADX WARN: Removed duplicated region for block: B:35:? A[RETURN, SYNTHETIC] */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private void loadGamePartnerShipInfo() {
        /*
            r11 = this;
            java.lang.Class<com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService> r0 = com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService.class
            X.0Mx r3 = X.CN1.LIZ(r0)
            com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService r3 = (com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService) r3
            X.CGh r0 = r3.eD()
            if (r0 == 0) goto L14
            r0.LIZ()
            r0.LIZJ()
        L14:
            com.bytedance.android.livesdkapi.depend.model.live.Room r0 = r11.mRoom
            boolean r0 = X.C78897Uxp.LJJIJLIJ(r0)
            if (r0 != 0) goto L1d
            return
        L1d:
            boolean r0 = X.C30922CBq.LIZIZ
            if (r0 == 0) goto L44
            com.bytedance.android.livesdkapi.depend.model.live.Room r0 = r11.mRoom
            if (r0 == 0) goto L44
            com.bytedance.android.livesdkapi.depend.model.live.PartnershipInfo r0 = r0.partnershipInfo
            if (r0 == 0) goto L44
            java.lang.StringBuilder r1 = X.X1D.LIZ()
            java.lang.String r0 = "isPartnershipRoom = "
            r1.append(r0)
            com.bytedance.android.livesdkapi.depend.model.live.Room r0 = r11.mRoom
            com.bytedance.android.livesdkapi.depend.model.live.PartnershipInfo r0 = r0.partnershipInfo
            java.lang.Boolean r0 = r0.partnershipRoom
            r1.append(r0)
            java.lang.String r1 = X.X1D.LIZIZ(r1)
            java.lang.String r0 = "AbsInteractionFragment"
            X.C0NB.LIZIZ(r0, r1)
        L44:
            android.content.Context r6 = r11.getContext()
            com.bytedance.android.livesdkapi.depend.model.live.Room r0 = r11.mRoom
            r3.Ei0(r0)
            com.bytedance.android.livesdk.livesetting.game.partnership.GameLivePartnershipApiOptSetting r0 = com.bytedance.android.livesdk.livesetting.game.partnership.GameLivePartnershipApiOptSetting.INSTANCE
            X.BxH r5 = r3.zi0()
            com.bytedance.android.livesdk.livesetting.game.partnership.PartnershipRefactoringSwitchAudienceRoom r0 = r0.getAudienceRoom()
            boolean r0 = r0.drops
            if (r0 != 0) goto Lc7
            com.bytedance.android.livesdkapi.depend.model.live.Room r0 = r11.mRoom
            com.bytedance.android.livesdkapi.depend.model.live.PartnershipInfo r0 = r0.partnershipInfo
            java.lang.String r7 = r0.promotingDropsId
            boolean r0 = android.text.TextUtils.isEmpty(r7)
            if (r0 != 0) goto L82
            java.lang.String r0 = "0"
            boolean r0 = r0.equals(r7)
            if (r0 != 0) goto L82
            if (r5 == 0) goto L82
            android.view.View r0 = r11.getView()
            if (r0 == 0) goto L82
            if (r6 == 0) goto L82
            com.bytedance.android.livesdkapi.depend.model.live.Room r8 = r11.mRoom
            com.bytedance.ies.sdk.datachannel.DataChannel r9 = r11.mDataChannel
            java.lang.String r10 = "enter"
            r5.LIZ(r6, r7, r8, r9, r10)
        L82:
            boolean r0 = r11.isScreenPortrait()
            if (r0 == 0) goto Lba
            boolean r0 = com.bytedance.android.livesdk.livesetting.other.ToolBarRefactor.enable()
            if (r0 == 0) goto Lac
            java.lang.Class<com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService> r0 = com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService.class
            X.0Mx r1 = X.CN1.LIZ(r0)
            com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService r1 = (com.bytedance.android.livesdk.comp.api.game.service.IGamePartnershipService) r1
            com.bytedance.ies.sdk.datachannel.DataChannel r0 = r11.mDataChannel
            r1.Uy(r6, r11, r0)
        L9b:
            r5 = 0
        L9c:
            if (r6 == 0) goto Lab
            com.bytedance.android.livesdkapi.depend.model.live.Room r4 = r11.mRoom
            com.bytedance.ies.sdk.datachannel.DataChannel r2 = r11.mDataChannel
            Y.AObjectS122S0200000_5 r1 = new Y.AObjectS122S0200000_5
            r0 = 1
            r1.<init>(r11, r5, r0)
            r3.Bc0(r6, r4, r2, r1)
        Lab:
            return
        Lac:
            java.lang.Class r2 = r3.mw()
            com.bytedance.ies.sdk.widgets.RecyclableWidgetManager r1 = r11.mWidgetManager
            r0 = 2131367539(0x7f0a1673, float:1.8355003E38)
            com.bytedance.ies.sdk.widgets.LiveRecyclableWidget r5 = r1.load(r0, r2)
            goto L9c
        Lba:
            X.BzV r2 = new X.BzV
            r2.<init>(r11)
            X.BtI r1 = X.EnumC30204BtI.AUDIENCE_LANDSCAPE_PARTNERSHIP
            com.bytedance.ies.sdk.datachannel.DataChannel r0 = r11.mDataChannel
            r1.load(r0, r2)
            goto L9b
        Lc7:
            if (r5 == 0) goto L82
            if (r6 == 0) goto L82
            com.bytedance.android.livesdkapi.depend.model.live.Room r1 = r11.mRoom
            com.bytedance.ies.sdk.datachannel.DataChannel r0 = r11.mDataChannel
            r5.LJI(r6, r1, r0)
            goto L82
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.AbsAudienceInteractionFragment.loadGamePartnerShipInfo():void");
    }

    /* JADX WARN: Multi-variable type inference failed */
    public void loadGift() {
        LiveWidget giftWidget = ((IGiftService) CN1.LIZ(IGiftService.class)).getGiftWidget(this.mEnterRoomConfig, this.mWidgetManager);
        if (giftWidget instanceof InterfaceC30132Bs8) {
            if (!isScreenPortrait()) {
                ((InterfaceC30132Bs8) giftWidget).LJJIIZI();
            }
            ((InterfaceC30132Bs8) giftWidget).LJLLLLLL(new XWV(this));
        }
        this.mWidgetManager.load(R.id.n4b, (Widget) giftWidget, true);
    }

    private void loadGoodyBagWidetAfterGetAuth() {
        this.mDataChannel.lv0(this, RevenueAuthSuccessEvent.class, new AObjectS42S0101000_5(0, this, 15));
    }

    public void loadLike() {
        InterfaceC29980Bpg hq0;
        RecyclableWidgetManager recyclableWidgetManager;
        if (this.mRoom != null && (hq0 = ((IBarrageService) CN1.LIZ(IBarrageService.class)).hq0(this.mRoom.getId())) != null && hq0.isEnabled()) {
            if (hq0.LIZIZ()) {
                LiveLikeDegradeSettings liveLikeDegradeSettings = LiveLikeDegradeSettings.INSTANCE;
                if (!liveLikeDegradeSettings.disableSelfLike(this.mDataChannel)) {
                    RecyclableWidgetManager recyclableWidgetManager2 = this.mWidgetManager;
                    isScreenPortrait();
                    recyclableWidgetManager2.load(R.id.jna, ((IBarrageService) CN1.LIZ(IBarrageService.class)).Rc0(hq0));
                    if (!liveLikeDegradeSettings.disableAvatarAnim(this.mDataChannel) && LiveSelfLinkedLikeBehaviorSetting.INSTANCE.isSelfLikeLinkedBreathAnimatorEnable()) {
                        this.mWidgetManager.load(R.id.frh, ((IBarrageService) CN1.LIZ(IBarrageService.class)).w40());
                    }
                }
            }
            if (hq0.LJIIIZ() && !LiveLikeDegradeSettings.INSTANCE.disableOtherLike(this.mDataChannel) && (recyclableWidgetManager = this.mWidgetManager) != null) {
                recyclableWidgetManager.load(R.id.he7, ((IBarrageService) CN1.LIZ(IBarrageService.class)).Oa(hq0));
            }
        }
    }

    private void loadPublicScreenWidget() {
        if (!TestDisableCommentAreaSetting.INSTANCE.getValue() && this.mWidgetManager != null) {
            this.mWidgetManager.load(R.id.gi_, ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).pq(isScreenPortrait()));
        }
    }

    private void loadTreasureWidgetAfterGetAuth() {
        this.mDataChannel.lv0(this, RevenueAuthSuccessEvent.class, new AObjectS42S0101000_5(0, this, 14));
    }

    private void logToastShow() {
        BZI LIZ = C28787BRn.LIZ("close_gift_toast_show");
        LIZ.LJIIJJI("live_room");
        LIZ.LJIIJ("live_room");
        LIZ.LJIIIZ("live");
        LIZ.LJIIL("show");
        LIZ.LJIILLIIL(this.mDataChannel);
        LIZ.LJJIIJZLJL();
    }

    private void performLoadLike() {
        DelayWidgetLoadOptSetting delayWidgetLoadOptSetting = DelayWidgetLoadOptSetting.INSTANCE;
        if (delayWidgetLoadOptSetting.getEnableDelay()) {
            C10640bM.LIZIZ(B73.LIZ(), new ARunnableS9S0101000_5(0, this, 10), this, delayWidgetLoadOptSetting.getDelayTimeLikeInMills());
        } else if (LiveHotDegradeSetting.INSTANCE.delayLikeWidget()) {
            C10640bM.LIZIZ(B73.LIZ(), new ARunnableS15S0101000_11(0, this, 1), this, 3000L);
        } else {
            loadLike();
        }
    }

    private void reportInteractionLoadDuration() {
        EnterRoomConfig enterRoomConfig = this.mEnterRoomConfig;
        if (enterRoomConfig == null || this.hasReportLoadDuration || enterRoomConfig.mRoomsData.timeStamps.enterRoomStarTime <= 0) {
            return;
        }
        this.hasReportLoadDuration = true;
        if (!LiveLogMonitorSampleSetting.INSTANCE.isReport("livesdk_interaction_load_duration", 0.1d)) {
            return;
        }
        long currentTimeMillis = System.currentTimeMillis() - this.mEnterRoomConfig.mRoomsData.timeStamps.enterRoomStarTime;
        HashMap hashMap = new HashMap();
        hashMap.put("duration", String.valueOf(currentTimeMillis));
        LivePerformanceManager LIZ = B4U.LIZ();
        LiveMode valueOf = LiveMode.valueOf(this.mEnterRoomConfig.mStreamData.streamType);
        LIZ.getClass();
        hashMap.put("room_type", LivePerformanceManager.LJIILLIIL(valueOf));
        hashMap.put("is_anchor", CardStruct.IStatusCode.DEFAULT);
        BZI LIZ2 = C28787BRn.LIZ("livesdk_interaction_load_duration");
        LIZ2.LJJIFFI(hashMap);
        if (!BuriedFieldReductionSetting.INSTANCE.isBuriedField(LIZ2.LJIILL())) {
            LIZ2.LJIILLIIL(this.mDataChannel);
            LIZ2.LJJIIJZLJL();
        } else {
            LIZ2.LJJIJ();
            LIZ2.LJI();
            LIZ2.LJJIIZI();
        }
    }

    /* JADX WARN: Type inference failed for: r1v0, types: [X.Bk2, O] */
    private void setMicRoomLinkMicTypeData() {
        OfficialChannelInfo officialChannelInfo = this.mRoom.officialChannelInfo;
        if (officialChannelInfo != null && MultiGuestAdaptMicRoomSwitchSetting.INSTANCE.isEnable()) {
            ((C32537Cpp) this.mDataChannel.gv0(C29627Bjz.class)).LIZ = new C29630Bk2(officialChannelInfo.linkmicType);
        }
    }

    private boolean shouldLoadP0() {
        if (LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.mDataChannel) && ((!TextUtils.isEmpty(this.mEnterRoomConfig.mRoomsData.preLoadRoomInfo) || (this.mRoom != null && TextUtils.equals(this.mEnterRoomConfig.mRoomsData.actionType, "draw") && !TextUtils.equals(this.mEnterRoomConfig.mRoomsData.enterFromMerge, "live_merge") && !TextUtils.equals(this.mEnterRoomConfig.mRoomsData.enterMethod, "live_cover"))) && isScreenPortrait())) {
            return true;
        }
        return false;
    }

    public void applyArguments() {
        EnterRoomConfig enterRoomConfig = this.mEnterRoomConfig;
        if (enterRoomConfig != null) {
            this.mEnterLiveSource = enterRoomConfig.mRoomsData.enterLiveSource;
        }
    }

    /* JADX WARN: Type inference failed for: r13v0, types: [X.Bri] */
    public void continueAfterWidgetLoaded() {
        Room room;
        RoomAuthStatus roomAuthStatus;
        int i;
        ((IGiftService) CN1.LIZ(IGiftService.class)).preloadRoomEffects();
        View view = getView();
        Runnable runnable = this.mOnViewModulePreparedAction;
        if (runnable != null && view != null) {
            view.post(runnable);
            this.mOnViewModulePreparedAction = null;
        }
        if (this.shareCountManager == null) {
            this.shareCountManager = ((IShareService) CN1.LIZ(IShareService.class)).wp0();
            Room room2 = this.mRoom;
            if (room2 != null && room2.getStats() != null) {
                i = this.mRoom.getStats().getShareCount();
            } else {
                i = 0;
            }
            if (this.mRoom != null) {
                ((C30093BrV) this.shareCountManager).LIZ(this.mDataChannel, ((IMessageService) CN1.LIZ(IMessageService.class)).get(this.mRoom.getId()), i);
            }
        }
        int i2 = 1;
        if (this.mRoom != null) {
            IMessageManager iMessageManager = ((IMessageService) CN1.LIZ(IMessageService.class)).get(this.mRoom.getId());
            if (iMessageManager != null) {
                C29125Bbt c29125Bbt = new C29125Bbt();
                this.listener = c29125Bbt;
                iMessageManager.addEventListener(c29125Bbt);
                this.mDataChannel.ov0(this, FirstFrameChannelEvent.class, new C82555Wad(i2, this));
                iMessageManager.startMessage();
            }
            B45 messageTimeTracker = ((IMessageService) CN1.LIZ(IMessageService.class)).getMessageTimeTracker();
            if (messageTimeTracker != null) {
                messageTimeTracker.LIZ("live_message_start");
            }
        }
        C20910rv.LIZIZ = SystemClock.elapsedRealtime();
        C20790rj.LIZ.LIZIZ();
        this.mGestureDetector = new C30101Brd(getContext(), new C30100Brc(this, this.mDataChannel, view, new AObjectS49S0101000_4(0, this, 0), new AObjectS42S0101000_5(1, this, 3), new InterfaceC88474Ynu() { // from class: X.Bri
            @Override // X.InterfaceC88474Ynu
            public final Object invoke(Object obj, Object obj2, Object obj3, Object obj4) {
                boolean onInteractionFling;
                onInteractionFling = AbsAudienceInteractionFragment.this.onInteractionFling((MotionEvent) obj, (MotionEvent) obj2, ((Float) obj3).floatValue(), ((Float) obj4).floatValue());
                return Boolean.valueOf(onInteractionFling);
            }
        }, new AObjectS42S0101000_5(1, this, 6)));
        if (this.mEnterRoomConfig != null && (room = this.mRoom) != null && !room.isStar()) {
            Room room3 = this.mRoom;
            if ((room3.isThirdParty || room3.isScreenshot) && (roomAuthStatus = room3.mRoomAuthStatus) != null && roomAuthStatus.isEnableLandscape()) {
                this.mZoomGestureDetector = new ScaleGestureDetector(getContext(), new C28424BDo(this.mDataChannel, isScreenPortrait(), new C64894PdS(0, this)));
            }
        }
        this.mGestureDetectLayout.LJJJLL(new IDTListenerS115S0100000_5(this, 7));
        this.mInteractionMessageHelper = ((IMessageService) CN1.LIZ(IMessageService.class)).configInteractionMessageHelper(this, this.mDataChannel, this.mLiveStatusListener, this.mLivePauseToast, null, new AObjectS41S0101000_2(0, this, 0), new AObjectS56S0101000_13(0, this, 0));
        BY8 by8 = new BY8(this.mRoom, this.mDataChannel);
        this.audienceInteractionMessagePresenter = by8;
        by8.attachView(this);
        C31528CYy c31528CYy = new C31528CYy(this.mDataChannel);
        this.modificationMessagePresenter = c31528CYy;
        c31528CYy.attachView(this);
        C29388Bg8 c29388Bg8 = new C29388Bg8(this.mDataChannel);
        this.mUserStatsPresenter = c29388Bg8;
        c29388Bg8.attachView(this);
        CKB.INSTANCE.start(new WeakReference<>(this));
        C12800eq.LIZLLL(EnumC12790ep.ShowBInteractionFirstWidget);
        Room room4 = this.mRoom;
        if (room4 != null && room4.getStatus() == 3) {
            long id = this.mRoom.getId();
            ControlMessage controlMessage = new ControlMessage();
            CommonMessageData commonMessageData = new CommonMessageData();
            commonMessageData.roomId = id;
            commonMessageData.messageId = -1L;
            commonMessageData.showMsg = true;
            controlMessage.baseMessage = commonMessageData;
            controlMessage.action = 1;
            this.enterRoomPauseSei = false;
            IMessageManager iMessageManager2 = ((IMessageService) CN1.LIZ(IMessageService.class)).get(this.mRoom.getId());
            if (iMessageManager2 != null) {
                iMessageManager2.insertMessage(controlMessage, true);
            }
        }
        queryUserIfLogin("baseAudience_queryUser");
        DataChannel dataChannel = this.mDataChannel;
        C30092BrU c30092BrU = new C30092BrU(dataChannel);
        this.mControlMessagePresenter = c30092BrU;
        c30092BrU.LJLIL = this;
        IMessageManager iMessageManager3 = (IMessageManager) dataChannel.kv0(C29927Bop.class);
        c30092BrU.LJLILLLLZI = iMessageManager3;
        if (iMessageManager3 != null) {
            iMessageManager3.addMessageListener(EnumC31509CYf.CONTROL.getIntType(), c30092BrU);
        }
        C30148BsO.LIZ = LiveOptShareGetThumbSetting.INSTANCE.getValue();
    }

    public void endWidgetLoading() {
        Widget endWidget;
        if (this.mWidgetManager != null) {
            if (LiveRecycleWidgetV3Setting.INSTANCE.getValue()) {
                endWidget = this.mWidgetManager.getRecyclableWidgetFromCacheOrNew(EndWidgetV2.class, null, new AObjectS21S0001000_5(0, 3));
            } else {
                endWidget = new EndWidget();
            }
            this.mWidgetManager.load(R.id.cww, endWidget);
        }
    }

    public void hideFloatFragment() {
        this.mDataChannel.pv0(HideInteractionEvent.class);
        if (mo49getActivity() != null) {
            Fragment LJJJIL = mo49getActivity().getSupportFragmentManager().LJJJIL(((IBrowserService) CN1.LIZ(IBrowserService.class)).fQ());
            if (LJJJIL instanceof DialogFragment) {
                ((DialogFragment) LJJJIL).dismissAllowingStateLoss();
            }
        }
        this.mDataChannel.pv0(LiveEndDismissDialogEvent.class);
    }

    public void loadAfterRoomEnter() {
        this.mHandler.postDelayed(this.mShowAfterP0WidgetLoadRunnable, 10L);
    }

    /* JADX WARN: Type inference failed for: r4v5, types: [java.util.HashMap, O] */
    public void loadInitWidgetsP0() {
        View findViewById;
        Long l = (Long) this.mDataChannel.kv0(C28394BCk.class);
        if (l != null) {
            HashMap hashMap = (HashMap) this.mDataChannel.kv0(C28426BDq.class);
            HashMap hashMap2 = hashMap;
            if (hashMap == null) {
                ?? hashMap3 = new HashMap();
                ((C32537Cpp) this.mDataChannel.gv0(C28426BDq.class)).LIZ = hashMap3;
                hashMap2 = hashMap3;
            }
            hashMap2.put("load_enter_room_duration", String.valueOf(System.currentTimeMillis() - l.longValue()));
            hashMap2.put("use_component_api", String.valueOf(0L));
            hashMap2.put("is_top_widgets_preloaded", CardStruct.IStatusCode.DEFAULT);
            hashMap2.put("is_bottom_widgets_preloaded", CardStruct.IStatusCode.DEFAULT);
        }
        if (this.mWidgetManager != null && ((Boolean) this.widgetLoadConditions.LJIIIIZZ.getValue()).booleanValue() && ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).c4()) {
            if (ToolBarRefactor.enable()) {
                ((ISlotService) CN1.LIZ(ISlotService.class)).loadToolbarIconSlotBehavior(getContext(), this, this.mDataChannel);
            } else {
                this.mWidgetManager.load(R.id.aq_, (Class) ((ISlotService) CN1.LIZ(ISlotService.class)).getBottomLeftSlotWidget(), true);
            }
        }
        if (isScreenPortrait()) {
            if (this.mWidgetManager != null && C60903NvH.LJJIII(this.mRoom) && ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).C9()) {
                this.mWidgetManager.load(R.id.dn0, ((ISlotService) CN1.LIZ(ISlotService.class)).getFrameL2SlotWidget());
            }
            if (this.mWidgetManager != null && C60903NvH.LJJIII(this.mRoom) && ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).C9()) {
                this.mWidgetManager.load(R.id.k58, ((ISlotService) CN1.LIZ(ISlotService.class)).getFrameSlotWidget());
            }
            if (this.mWidgetManager != null && C60903NvH.LJJIII(this.mRoom) && ((IHostCommerce) CN1.LIZ(IHostCommerce.class)).C9()) {
                this.mWidgetManager.load(R.id.ar1, ((ISlotService) CN1.LIZ(ISlotService.class)).getFrameL3SlotWidget());
            }
        }
        ((IBarrageService) CN1.LIZ(IBarrageService.class)).x90(this, this.mDataChannel, this.mGestureDetectLayout);
        if (isScreenPortrait()) {
            if (LiveRecycleWidgetV2Setting.INSTANCE.getValue()) {
                this.mWidgetManager.load(R.id.bg2, this.mWidgetManager.getRecyclableWidgetFromCacheOrNew(CloseWidget.class, null, new AObjectS22S0001000_6(0, 0)));
            } else {
                this.mWidgetManager.load(R.id.bg2, new CloseWidget());
            }
        }
        onLoadAnchorInfo();
        if (isScreenPortrait() && ((Boolean) this.widgetLoadConditions.LIZLLL.getValue()).booleanValue()) {
            DelayWidgetLoadOptSetting delayWidgetLoadOptSetting = DelayWidgetLoadOptSetting.INSTANCE;
            if (delayWidgetLoadOptSetting.getEnableDelay()) {
                C10640bM.LIZIZ(B73.LIZ(), new ARunnableS18S0101000_14(2, this, 21), this, delayWidgetLoadOptSetting.getDelayTimeInMills());
            } else {
                this.mWidgetManager.load(R.id.a9s, ((IRankService) CN1.LIZ(IRankService.class)).kj(isScreenPortrait()), true, new Object[]{new C30147BsN(SystemClock.elapsedRealtime())});
            }
        }
        IMicRoomService iMicRoomService = (IMicRoomService) CN1.LIZ(IMicRoomService.class);
        if (iMicRoomService != null && iMicRoomService.rk()) {
            this.mWidgetManager.load(R.id.gis, iMicRoomService.pT());
        }
        ToolbarLoadingTimingSetting toolbarLoadingTimingSetting = ToolbarLoadingTimingSetting.INSTANCE;
        if (toolbarLoadingTimingSetting.isV3()) {
            loadToolbarWidget();
            loadIndependentBehaviors();
        }
        this.mWidgetManager.load(R.id.bkq, ((ICommentService) CN1.LIZ(ICommentService.class)).XC(), true ^ toolbarLoadingTimingSetting.isV1());
        if (this.mRoom.getRoomAuthStatus() == null || this.mRoom.getRoomAuthStatus().isMessageEnable()) {
            this.mDataChannel.rv0(CommentOrMessageData.class, Boolean.TRUE);
        }
        if (!toolbarLoadingTimingSetting.isV3()) {
            loadIndependentBehaviors();
        }
        B73.LIZIZ(new ARunnableS18S0101000_14(2, this, 22), this.mDataChannel);
        EnumC30204BtI.AUDIENCE_INTERACTION_FEATURES.hide(this.mDataChannel);
        if (((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).lj()) {
            this.mWidgetManager.load(R.id.ia5, ((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).ok());
            this.menuWidget = this.mWidgetManager.load(R.id.i_z, ((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).kA());
        }
        if (((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).Rb(Long.valueOf(this.mRoom.getId()))) {
            this.mWidgetManager.load(R.id.c0n, new CumulativeWatchAudienceWidget());
        }
        C30076BrE c30076BrE = this.mLazyLoadWidgetManager;
        Class<? extends LiveRecyclableWidget> AG = ((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).AG();
        if (AG != null) {
            c30076BrE.getClass();
            if (C58521Mxx.LIZ(C16880lQ.LJLLJ(AG))) {
                lambda$loadInitWidgetsP0$37(new C30073BrB(c30076BrE, R.id.i_x, AG));
            } else {
                c30076BrE.LIZ.load(R.id.i_x, AG);
            }
        } else {
            c30076BrE.LIZ.load(R.id.i_x, AG);
        }
        this.mWidgetManager.load(((IUnityAnimationService) CN1.LIZ(IUnityAnimationService.class)).V80());
        if (!isScreenPortrait() && TtliveGameLandscapeDesignOptimizeSetting.INSTANCE.shouldOptimize()) {
            DataChannel dataChannel = this.mDataChannel;
            if (dataChannel != null && Boolean.TRUE.equals(dataChannel.kv0(IsFromPortraitData.class)) && (findViewById = this.rootView.findViewById(R.id.ffj)) != null) {
                findViewById.getViewTreeObserver().addOnPreDrawListener(new IDDListenerS392S0100000_5(findViewById, 3));
            }
            loadPublicScreenWidget();
        }
    }

    public void loadTreasureBoxWidgetAndRedEnvelopeWidget() {
        boolean z;
        Widget sE;
        Widget LI;
        IGiftService iGiftService = (IGiftService) CN1.LIZ(IGiftService.class);
        if (iGiftService != null && (iGiftService.enableRedEnvelope() || iGiftService.enablePlatformPortal())) {
            z = true;
        } else {
            z = false;
        }
        if (z && this.treasureBoxWidgetNumber == 0 && this.mWidgetManager != null) {
            this.treasureBoxWidgetNumber = 1;
            if (LiveRecycleWidgetV2RevenueSetting.INSTANCE.getValue()) {
                RecyclableWidgetManager recyclableWidgetManager = this.mWidgetManager;
                recyclableWidgetManager.load(recyclableWidgetManager.getRecyclableWidgetFromCacheOrNew(iGiftService.getRedEnvelopeWidgetClass(), null, new AObjectS52S0101000_7(0, iGiftService, 2)));
            } else {
                this.mWidgetManager.load(iGiftService.getRedEnvelopeWidget());
            }
        }
        ITreasureBoxService iTreasureBoxService = (ITreasureBoxService) CN1.LIZ(ITreasureBoxService.class);
        boolean tg = iTreasureBoxService.tg();
        if (tg && this.activityTreasureBoxWidgetNumber == 0 && this.mWidgetManager != null) {
            if (LiveRecycleWidgetV2RevenueSetting.INSTANCE.getValue()) {
                LI = this.mWidgetManager.getRecyclableWidgetFromCacheOrNew(iTreasureBoxService.qr0(), null, new AObjectS134S0100000_5(iTreasureBoxService, 1));
            } else {
                LI = iTreasureBoxService.LI();
            }
            if (LI != null) {
                this.activityTreasureBoxWidgetNumber++;
                this.mWidgetManager.load(LI);
            }
        }
        if (this.mWidgetManager != null && this.portalWidgetNumber == 0) {
            if (LiveRecycleWidgetV2RevenueSetting.INSTANCE.getValue()) {
                sE = this.mWidgetManager.getRecyclableWidgetFromCacheOrNew(iTreasureBoxService.Xf0(), null, new C84979XWt(0, iTreasureBoxService));
            } else {
                sE = iTreasureBoxService.sE();
            }
            if (sE != null) {
                this.portalWidgetNumber++;
            }
            this.mWidgetManager.load(R.id.lkh, sE);
        }
        if (GetTreasureBoxListOpt.INSTANCE.getValue()) {
            if (z || tg) {
                ((ITreasureBoxService) CN1.LIZ(ITreasureBoxService.class)).Zl0(this.mDataChannel, this.mRoom.getIdStr());
            }
        }
    }

    public void loadWidgetWithFirstFrameP2() {
        LiveWidget SF;
        Room room = this.mRoom;
        if (room == null) {
            return;
        }
        if (!room.isOfficial()) {
            IMicRoomService iMicRoomService = (IMicRoomService) CN1.LIZ(IMicRoomService.class);
            if (iMicRoomService != null && iMicRoomService.jT(this.mRoom)) {
                this.mWidgetManager.load(((IMicRoomService) CN1.LIZ(IMicRoomService.class)).a20());
            } else {
                this.mLazyLoadWidgetManager.LIZIZ(new C30116Brs(this), ((IMicRoomService) CN1.LIZ(IMicRoomService.class)).G90());
            }
        }
        C31811Ce7.LIZLLL("ttlive_comment", "CommentWidget is load.");
        DelayWidgetLoadOptSetting delayWidgetLoadOptSetting = DelayWidgetLoadOptSetting.INSTANCE;
        if (delayWidgetLoadOptSetting.getEnableDelay()) {
            C10640bM.LIZIZ(B73.LIZ(), new ARunnableS9S0101000_5(1, this, 6), this, delayWidgetLoadOptSetting.getDelayTimeGiftInMills());
        } else {
            B73.LIZIZ(new ARunnableS12S0101000_8(0, this, 5), this.mDataChannel);
        }
        final IBannerService iBannerService = (IBannerService) CN1.LIZ(IBannerService.class);
        if (iBannerService.yj0(this.mRoom.getId())) {
            B73.LIZIZ(new ARunnableS9S0201000_6(0, this, iBannerService, 1), this.mDataChannel);
        }
        iBannerService.Vn(this.mRoom.getId(), new C0IZ() { // from class: X.Brt
            @Override // X.C0IZ
            public final void LIZ(boolean z) {
                AbsAudienceInteractionFragment.this.lambda$loadWidgetWithFirstFrameP2$49(iBannerService, z);
            }
        });
        if (!((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).Rb(Long.valueOf(this.mRoom.getId()))) {
            C30076BrE c30076BrE = this.mLazyLoadWidgetManager;
            Class<? extends LiveRecyclableWidget> br = ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).br();
            if (br != null) {
                c30076BrE.getClass();
                if (C58521Mxx.LIZ(C16880lQ.LJLLJ(br))) {
                    lambda$loadWidgetWithFirstFrameP2$51(new C30073BrB(c30076BrE, R.id.dx6, br));
                } else {
                    c30076BrE.LIZ.load(R.id.dx6, br);
                }
            } else {
                c30076BrE.LIZ.load(R.id.dx6, br);
            }
        }
        if (isScreenPortrait()) {
            if (!((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).lj()) {
                if (LiveRecycleWidgetV2Setting.INSTANCE.getValue()) {
                    SF = this.mWidgetManager.getRecyclableWidgetFromCacheOrNew(((IDecorationService) CN1.LIZ(IDecorationService.class)).zo0(), new Object[]{this.layer2PriorityManager}, new AObjectS52S0101000_7(0, this, 1));
                } else {
                    SF = ((IDecorationService) CN1.LIZ(IDecorationService.class)).SF(this.layer2PriorityManager);
                }
                this.mLazyLoadWidgetManager.LIZJ(false, new LDB(0, this), R.id.j6m, SF);
            }
            if (this.mWidgetManager != null && C60903NvH.LJJIII(this.mRoom) && !((IHostCommerce) CN1.LIZ(IHostCommerce.class)).C9()) {
                this.mWidgetManager.load(R.id.ar1, ((ISlotService) CN1.LIZ(ISlotService.class)).getFrameL3SlotWidget());
            }
        }
        if (!SurveyStyleSetting.INSTANCE.isFullScreenStyle()) {
            this.mWidgetManager.load(R.id.kuv, ((ISurveyService) CN1.LIZ(ISurveyService.class)).vh0());
            this.mWidgetManager.load(((ISurveyService) CN1.LIZ(ISurveyService.class)).rc0());
        }
        C30076BrE c30076BrE2 = this.mLazyLoadWidgetManager;
        c30076BrE2.getClass();
        if (C58521Mxx.LIZ(C16880lQ.LJLLJ(MessageStationWidget.class))) {
            lambda$loadWidgetWithFirstFrameP2$57(new C30077BrF(c30076BrE2, MessageStationWidget.class));
        } else {
            c30076BrE2.LIZ.load(MessageStationWidget.class);
        }
        this.mWidgetManager.load(MessageStationWidget.class);
        getOrCreateRankManager();
        if (this.mDataChannel != null && this.starCommentCenter == null && ((IStarCommentService) CN1.LIZ(IStarCommentService.class)).FJ(this.mRoom) && ((LiveGameStarCommentSetting.INSTANCE.enable() && this.mRoom.getStreamType() == LiveMode.SCREEN_RECORD) || (this.mRoom.getStreamType() == LiveMode.VIDEO && LiveStarCommentProtectSetting.INSTANCE.getSettingValue()))) {
            this.mDataChannel.ov0(this, MainScreenPinnedWidgetLoadedChannel.class, new AObjectS42S0101000_5(0, this, 13));
        } else {
            DataChannel dataChannel = this.mDataChannel;
            if (dataChannel != null) {
                dataChannel.rv0(StarCommentEntranceVisibleEvent.class, Boolean.FALSE);
            }
            if (getContext() != null) {
                ((IBrowserService) CN1.LIZ(IBrowserService.class)).qk0(getContext(), 0, "star_comment_entrance_visible");
            }
        }
        loadCustomPollBehavior();
    }

    /* JADX WARN: Type inference failed for: r1v9, types: [java.lang.Long, O] */
    public void loadWidgetWithRoomP1() {
        Widget userPermissionCheckWidget;
        Room room = (Room) this.mDataChannel.kv0(RoomChannel.class);
        this.mRoom = room;
        if (room == null) {
            return;
        }
        LivePerformanceManager LIZ = B4U.LIZ();
        long id = this.mRoom.getId();
        this.mRoom.getOwnerUserId();
        LIZ.LLII = id;
        ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).LLZZLLIL(this.mRoom, this.mDataChannel, this);
        ((IBannerService) CN1.LIZ(IBannerService.class)).bE(this.mRoom, this.mDataChannel);
        if (LiveServiceManagerOptSetting.enable()) {
            initPublicScreenConfiguration();
        }
        ((IStarCommentService) CN1.LIZ(IStarCommentService.class)).initPublicScreenConfiguration();
        ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).LLZZLLIL(this.mRoom, this.mDataChannel, this);
        ((ISubscribeService) CN1.LIZ(ISubscribeService.class)).pc0(this.mRoom, this.mDataChannel, this);
        ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).Lk();
        C30627C0h.LIZIZ(this.mRoom.getId());
        if (LiveRecycleWidgetV2Setting.INSTANCE.getValue()) {
            userPermissionCheckWidget = this.mWidgetManager.getRecyclableWidgetFromCacheOrNew(UserPermissionCheckWidget.class, null, new AObjectS22S0001000_6(0, 2));
        } else {
            userPermissionCheckWidget = new UserPermissionCheckWidget();
        }
        this.mWidgetManager.load(userPermissionCheckWidget);
        if (getContext() != null) {
            EnumC30204BtI.AUDIENCE_SLOT.load(this.mDataChannel, new C31692CcC(getContext(), this));
        }
        C31117CJd.LIZ(this.mRoom, this.mDataChannel);
        ((C32537Cpp) this.mDataChannel.gv0(BCN.class)).LIZ = Long.valueOf(this.mRoom.getId());
        BJP.LIZJ("");
        BJP.LIZIZ("");
        this.mRoom.getId();
        Room room2 = this.mRoom;
        if (room2 != null && room2.getMosaicStatus() == 1) {
            C30868C9o.LIZJ(R.string.sv_);
        }
        if (C1DH.LJJIIJZLJL(this.mDataChannel) && LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.mDataChannel)) {
            EnumC30204BtI.QUESTION.setEnableClick(this.mDataChannel, true);
        }
        boolean isScreenPortrait = isScreenPortrait();
        if (this.mWidgetManager != null && ((Boolean) this.widgetLoadConditions.LJIIIIZZ.getValue()).booleanValue() && !((IHostCommerce) CN1.LIZ(IHostCommerce.class)).c4()) {
            if (ToolBarRefactor.enable()) {
                ((ISlotService) CN1.LIZ(ISlotService.class)).loadToolbarIconSlotBehavior(getContext(), this, this.mDataChannel);
            } else {
                this.mWidgetManager.load(R.id.aq_, ((ISlotService) CN1.LIZ(ISlotService.class)).getBottomLeftSlotWidget());
            }
        }
        Class<? extends LiveRecyclableWidget> Pm = ((IInteractService) CN1.LIZ(IInteractService.class)).Pm();
        if (isScreenPortrait && Pm != null && !C58521Mxx.LIZ(C16880lQ.LJLLJ(Pm))) {
            this.mWidgetManager.load(R.id.aq9, Pm);
        }
        if (isScreenPortrait() || !TtliveGameLandscapeDesignOptimizeSetting.INSTANCE.shouldOptimize()) {
            loadPublicScreenWidget();
        }
        performLoadLike();
    }

    public boolean menuWidgetIsShowing() {
        LiveRecyclableWidget liveRecyclableWidget = this.menuWidget;
        if (liveRecyclableWidget != null) {
            return liveRecyclableWidget.isShowing();
        }
        return false;
    }

    @Override // X.InterfaceC27469AqH
    public boolean onBackPressed() {
        IHostCreativeTool iHostCreativeTool = (IHostCreativeTool) CN1.LIZ(IHostCreativeTool.class);
        if (iHostCreativeTool != null && iHostCreativeTool.isShowStickerView()) {
            iHostCreativeTool.hideStickerView();
        } else if (((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).lj() && Boolean.TRUE.equals(Boolean.valueOf(((C30744C4u) this.mDataChannel.kv0(ProgrammedLiveMenuVisibilityChannel.class)).LIZ))) {
            this.mDataChannel.rv0(ProgrammedLiveMenuVisibilityChannel.class, new C30744C4u(false, EnumC30108Brk.OTHERS_SCENE));
        } else {
            if (((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).hU(getContext(), Long.valueOf(this.mRoom.getId()), new AObjectS22S0000000_5(4))) {
                return true;
            }
            UPJ.LJFF(8, C73943T0h.LIZ());
        }
        return true;
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public void onDestroy() {
        B5D b5d;
        Room room;
        C39532FfM c39532FfM;
        InterfaceC30143BsJ interfaceC30143BsJ = this.maskViewCallback;
        if (interfaceC30143BsJ != null && (c39532FfM = ((C28162B3m) interfaceC30143BsJ).LIZ.i) != null) {
            c39532FfM.LJ();
        }
        ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).Lk();
        if (this.mCustomPollCallback != null && (room = this.mRoom) != null) {
            C30627C0h.LJIJ(room.getId(), this.mCustomPollCallback);
        }
        this.mLiveStatusListener = null;
        this.mHandler.removeCallbacksAndMessages(null);
        C29919Boh LIZ = C29917Bof.LIZ();
        LIZ.LIZ.clear();
        LIZ.LIZJ.removeCallbacksAndMessages(null);
        LIZ.LIZLLL = null;
        CKB.INSTANCE.stop();
        if (this.mRoom != null) {
            ((IBarrageService) CN1.LIZ(IBarrageService.class)).zM(this.mRoom.getId());
        }
        DataChannel dataChannel = this.mDataChannel;
        dataChannel.getClass();
        dataChannel.jv0(this);
        Room room2 = this.mRoom;
        if (room2 != null && (b5d = this.mRankOptOutPresenter) != null) {
            b5d.LIZ(room2.getId());
        }
        ((IShortTouchService) CN1.LIZ(IShortTouchService.class)).mu0();
        ((IToolbarService) CN1.LIZ(IToolbarService.class)).N0(this.mDataChannel);
        super.onDestroy();
        isScreenPortrait();
        C30317Bv7.LIZIZ(this.mWidgetManager);
        C30326BvG.LIZ.removeMessages(this.mDataChannel);
        if (WatchMemoryLeakOpt.INSTANCE.settingValue()) {
            ((C32537Cpp) this.mDataChannel.gv0(C29738Blm.class)).LIZ = null;
        }
    }

    public void onLoadAnchorInfo() {
        if (((Boolean) this.widgetLoadConditions.LJ.getValue()).booleanValue()) {
            this.mWidgetManager.load(R.id.mz0, ((IUserInfoWidgetService) CN1.LIZ(IUserInfoWidgetService.class)).QX(), !LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.mDataChannel), new Object[]{new C29726Bla(SystemClock.elapsedRealtime())});
        } else {
            if (!((Boolean) this.widgetLoadConditions.LJFF.getValue()).booleanValue()) {
                return;
            }
            this.mWidgetManager.load(R.id.ia7, ((IProgrammedLiveService) CN1.LIZ(IProgrammedLiveService.class)).Eq0(), !LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.mDataChannel), new Object[]{new C29726Bla(SystemClock.elapsedRealtime())});
        }
    }

    public void preCreatePlayer() {
        int value = LivePreCreateNextRoomPlayer.INSTANCE.getValue();
        if (value >= 0) {
            this.mHandler.postDelayed(new ARunnableS18S0101000_14(0, this, 0), value);
        }
    }

    private boolean canLandscapeLongPress() {
        if (isScreenPortrait()) {
            return true;
        }
        return GameLiveEnableLongPress.INSTANCE.enable();
    }

    public static /* synthetic */ C76800UCe lambda$onBackPressed$30() {
        UPJ.LJFF(8, C73943T0h.LIZ());
        return C76800UCe.LIZ;
    }

    public void lambda$onInteractionLongPress$23() {
        DataChannel dataChannel;
        if (mo49getActivity() != null && (dataChannel = this.mDataChannel) != null && dataChannel.kv0(C29494Bhq.class) != null) {
            if (BOT.LIZLLL(mo49getActivity())) {
                BOT.LIZ = "long_press_panel";
                BOT.LIZIZ = "feed";
            } else {
                BOT.LIZ = "long_press_horizontal_panel";
                BOT.LIZIZ = "horizontal_screen";
            }
            LiveNonPersonalizedDialog liveNonPersonalizedDialog = new LiveNonPersonalizedDialog();
            Bundle bundle = new Bundle();
            bundle.putBoolean("is_in_sheet", true);
            liveNonPersonalizedDialog.setArguments(bundle);
            liveNonPersonalizedDialog.show((FragmentManager) this.mDataChannel.kv0(C29494Bhq.class), "LiveNonPersonalizedDialog");
            DataChannel dataChannel2 = this.mDataChannel;
            BZI LIZ = C28787BRn.LIZ("livesdk_manage_feeds_click");
            LIZ.LJIJJ(BOT.LIZ, "source");
            LIZ.LJIILLIIL(dataChannel2);
            LIZ.LJJIIJZLJL();
        }
    }

    private void loadCustomPollBehavior() {
        if (LiveCustomPollMigrateShortTouchSetting.enableMigrate()) {
            ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).Lk();
            C30627C0h c30627C0h = C30627C0h.LJLIL;
            this.mCustomPollCallback = new C30056Bqu(this);
            C30627C0h.LJIILLIIL(this.mRoom.getId(), this.mCustomPollCallback);
            this.mDataChannel.ov0(this, RoomUserChannel.class, new AObjectS39S0201000_5(this, c30627C0h, 0));
        }
    }

    private void loadIndependentBehaviors() {
        if (getContext() == null) {
            return;
        }
        if (!C29232Bdc.LJIIIZ(this.mDataChannel) && ((!C1DH.LJJI(this.mDataChannel) && C1DH.LJJIIJZLJL(this.mDataChannel)) || (C1DH.LJJI(this.mDataChannel) && C1DH.LJIIZILJ(this.mDataChannel)))) {
            EnumC30204BtI enumC30204BtI = EnumC30204BtI.QUESTION;
            enumC30204BtI.load(this.mDataChannel, ((IQAService) CN1.LIZ(IQAService.class)).Kt0(getContext()));
            if (LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.mDataChannel)) {
                enumC30204BtI.setEnableClick(this.mDataChannel, false);
            }
        }
        if (isScreenPortrait()) {
            if (((IShareService) CN1.LIZ(IShareService.class)).Qn0(this.mRoom)) {
                EnumC30204BtI.SHARE.load(this.mDataChannel, ((IShareService) CN1.LIZ(IShareService.class)).bW(mo49getActivity(), getContext(), this.mLiveMode, this));
            }
            ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).m20(this.mDataChannel);
        } else {
            this.mDataChannel.ov0(this, CommentOrMessageData.class, new AObjectS42S0101000_5(1, this, 45));
        }
        addGiftToggle();
        this.mDataChannel.lv0(this, BanTalkEvent.class, new AObjectS42S0101000_5(1, this, 46));
        this.mDataChannel.lv0(this, OpenGiftVerifyEvent.class, new AObjectS42S0101000_5(3, this, 48));
        this.mDataChannel.lv0(this, LiveGiftSuspensionEvent.class, new AObjectS42S0101000_5(2, this, 21));
    }

    /* JADX WARN: Code restructure failed: missing block: B:31:0x009c, code lost:
    
        if (r8 == null) goto L83;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private void loadToolbarWidget() {
        /*
            Method dump skipped, instructions count: 318
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.bytedance.android.livesdk.chatroom.ui.AbsAudienceInteractionFragment.loadToolbarWidget():void");
    }

    /* renamed from: showPipGuideDialog */
    public void lambda$onResume$24() {
        ActivityC45651qj mo49getActivity = mo49getActivity();
        if (mo49getActivity == null || mo49getActivity.isFinishing()) {
            return;
        }
        ((IHostConfig) CN1.LIZ(IHostConfig.class)).qS().getClass();
        C77437UaH c77437UaH = new C77437UaH(mo49getActivity());
        c77437UaH.LIZJ = C15380j0.LJIILJJIL(R.string.nno);
        c77437UaH.LJI = C15380j0.LJIILJJIL(R.string.nnm);
        c77437UaH.LJFF(new C6FU(0, mo49getActivity), C15380j0.LJIILJJIL(R.string.nnp), false);
        c77437UaH.LIZLLL(new IDCListenerS78S0000000_5(0), C15380j0.LJIILJJIL(R.string.nnn), false);
        DialogC77438UaI LIZ = c77437UaH.LIZ();
        LIZ.setOnCancelListener(new DialogInterface.OnCancelListener() { // from class: X.Brr
            @Override // android.content.DialogInterface.OnCancelListener
            public final void onCancel(DialogInterface dialogInterface) {
                AbsAudienceInteractionFragment.lambda$showPipGuideDialog$29(dialogInterface);
            }
        });
        com_bytedance_android_livesdk_chatroom_ui_AbsAudienceInteractionFragment_com_bytedance_android_livesdk_dialog_LiveModalDialog_show(LIZ);
        InterfaceC30442Bx8.LLJJJJJIL.LIZ(Boolean.TRUE);
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public void onDestroyView() {
        IMessageManager iMessageManager;
        B73.LIZ().removeCallbacksAndMessages(this);
        BY8 by8 = this.audienceInteractionMessagePresenter;
        if (by8 != null) {
            by8.detachView();
        }
        C31528CYy c31528CYy = this.modificationMessagePresenter;
        if (c31528CYy != null) {
            c31528CYy.detachView();
        }
        C29388Bg8 c29388Bg8 = this.mUserStatsPresenter;
        if (c29388Bg8 != null) {
            c29388Bg8.detachView();
        }
        InterfaceC30146BsM interfaceC30146BsM = this.mInteractionMessageHelper;
        if (interfaceC30146BsM != null) {
            interfaceC30146BsM.onDestroy();
        }
        InterfaceC30153BsT interfaceC30153BsT = this.shareCountManager;
        if (interfaceC30153BsT != null) {
            C30093BrV c30093BrV = (C30093BrV) interfaceC30153BsT;
            IMessageManager iMessageManager2 = c30093BrV.LJLILLLLZI;
            if (iMessageManager2 != null) {
                iMessageManager2.removeMessageListener(c30093BrV);
            }
            c30093BrV.LJLILLLLZI = null;
            c30093BrV.LJLIL = null;
            this.shareCountManager = null;
        }
        DataChannel dataChannel = this.mDataChannel;
        if (LiveClientTriggerConfig.INSTANCE.enable()) {
            ((ILiveTriggerService) C24120x6.LIZ.getValue()).bD(this, dataChannel);
        }
        if (this.mRoom != null && (iMessageManager = ((IMessageService) CN1.LIZ(IMessageService.class)).get(this.mRoom.getId())) != null) {
            if (LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(this.mDataChannel)) {
                AbstractC73638SvC.LJIJ(1).LJJIIJ(T16.LIZ()).LJJIFFI(new AfS36S0101000_5(2, iMessageManager, 69));
            } else {
                iMessageManager.stopMessage(new C30176Bsq());
            }
            iMessageManager.removeEventListener(this.listener);
        }
        this.listener = null;
        CKB.INSTANCE.stop();
        this.compositeSubscription.LIZLLL();
        if (!EnableRecyclePublicScreenWidgetSetting.INSTANCE.getValue()) {
            LiveWidgetProviderProxy.getInstance().clearWidgetCache(((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).pq(isScreenPortrait()));
        }
        C30092BrU c30092BrU = this.mControlMessagePresenter;
        if (c30092BrU != null) {
            IMessageManager iMessageManager3 = c30092BrU.LJLILLLLZI;
            if (iMessageManager3 != null) {
                iMessageManager3.removeMessageListener(c30092BrU);
            }
            c30092BrU.LJLIL = null;
        }
        InterfaceC92693kP interfaceC92693kP = this.mGiftPrefetchDisposable;
        if (interfaceC92693kP != null) {
            interfaceC92693kP.dispose();
        }
        this.mWidgetCreateTimeUtil.send();
        DataChannelGlobal dataChannelGlobal = DataChannelGlobal.LJLJJI;
        dataChannelGlobal.getClass();
        dataChannelGlobal.jv0(this);
        this.activityTreasureBoxWidgetNumber = 0;
        this.treasureBoxWidgetNumber = 0;
        this.portalWidgetNumber = 0;
        this.goodyBagWidgetNumber = 0;
        super.onDestroyView();
        this.mGestureDetectLayout.LJJLI();
        this.mOnViewModulePreparedAction = null;
        ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).LLFFF(this.mRoom, this.mDataChannel);
        ((IBannerService) CN1.LIZ(IBannerService.class)).LLFFF(this.mRoom, this.mDataChannel);
        ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).LLFFF(this.mRoom, this.mDataChannel);
        ((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).LLFFF(this.mRoom, this.mDataChannel);
        ((ISubscribeService) CN1.LIZ(ISubscribeService.class)).dq(this.mDataChannel);
        ((IEffectService) CN1.LIZ(IEffectService.class)).getLiveStickerLogManager();
        C32041No.LJIL();
        ((IEffectService) CN1.LIZ(IEffectService.class)).getLiveStickerLogManager();
        C32041No.LJIIIZ(false);
        ((IGiftService) CN1.LIZ(IGiftService.class)).removeEffectPreloadCallback();
        C30686C2o.LJLILLLLZI.clear();
        DialogInterface dialogInterface = this.mLongPressDialog;
        if (dialogInterface != null) {
            dialogInterface.dismiss();
        }
        C30090BrS c30090BrS = this.downgradeTrigger;
        if (c30090BrS != null) {
            c30090BrS.LJFF = true;
            ScalableDowngradeSetting.INSTANCE.setDisableLog$livebase_release(false);
            C15610jN.LIZLLL(c30090BrS.LJIIJ);
            C15610jN.LIZLLL(c30090BrS.LJIIIIZZ);
        }
    }

    public C76800UCe onInteractionLongPress() {
        boolean z;
        if (mo49getActivity() != null && canLandscapeLongPress()) {
            DialogInterface dialogInterface = this.mLongPressDialog;
            if (dialogInterface != null) {
                dialogInterface.dismiss();
            }
            int requestedOrientation = mo49getActivity().getRequestedOrientation();
            Room room = this.mRoom;
            String str = null;
            C29929Bor LIZLLL = C29075Bb5.LIZLLL(room, this.mDataChannel, C29075Bb5.LIZIZ(room.getOwner()), "live_room_long_press", null);
            boolean z2 = true;
            LIZLLL.LJJIII = true;
            LIZLLL.LJJIIZ = BOT.LIZ();
            LIZLLL.LJJII = "long_press";
            LIZLLL.LJJIIJ = ((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).M(BJM.LJFF(), BJM.LJIIIIZZ(), C28835BTj.LIZLLL(this.mDataChannel));
            if (C28835BTj.LJII(this.mDataChannel) != null) {
                str = C28835BTj.LJII(this.mDataChannel).aid;
            }
            final int value = LiveDislikeVersion.INSTANCE.getValue();
            LIZLLL.LIZIZ("dislike_version", String.valueOf(value));
            LIZLLL.LJJIJIL = ((IUserManageService) CN1.LIZ(IUserManageService.class)).Ab0();
            LIZLLL.LJJIJIIJI = str;
            LIZLLL.LJJIJL = C28835BTj.LIZLLL(this.mDataChannel);
            LIZLLL.LJJIJLIJ = C28835BTj.LJII(this.mDataChannel);
            LIZLLL.LJJJJ = new InterfaceC62555Ogp() { // from class: X.Brw
                @Override // X.InterfaceC62555Ogp
                public final void LIZ(boolean z3, boolean z4) {
                    AbsAudienceInteractionFragment.this.lambda$onInteractionLongPress$21(value, z3, z4);
                }
            };
            LIZLLL.LJJJJI = new InterfaceC31607Cap() { // from class: X.Brx
                @Override // X.InterfaceC31607Cap
                public final void LIZ(int i) {
                    AbsAudienceInteractionFragment.this.lambda$onInteractionLongPress$22(value, i);
                }
            };
            LIZLLL.LJJJJIZL = new InterfaceC29961BpN() { // from class: X.Bry
                @Override // X.InterfaceC29961BpN
                public final void LIZ() {
                    AbsAudienceInteractionFragment.this.lambda$onInteractionLongPress$23();
                }
            };
            Room room2 = this.mRoom;
            if (room2.liveSubOnly == 1) {
                z = true;
            } else {
                z = false;
            }
            LIZLLL.LJJIIJZLJL = z;
            LIZLLL.LJIJI = room2.getOwner().getSecUid();
            if (requestedOrientation != 1) {
                z2 = false;
            }
            LIZLLL.LJJIL = z2;
            C29930Bos c29930Bos = new C29930Bos(LIZLLL);
            this.mLongPressDialog = ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).Je0(mo49getActivity(), false, this.mRoom, c29930Bos, new C28834BTi(this), new C29890BoE(this, c29930Bos));
        }
        return C76800UCe.LIZ;
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public void onPause() {
        super.onPause();
        C30090BrS c30090BrS = this.downgradeTrigger;
        if (c30090BrS != null) {
            c30090BrS.LJ = -1L;
        }
        CG4 cg4 = this.metricCollector;
        if (cg4 != null) {
            cg4.stop();
        }
    }

    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public void onResume() {
        DataChannel dataChannel;
        Room room;
        super.onResume();
        reportInteractionLoadDuration();
        C30090BrS c30090BrS = this.downgradeTrigger;
        if (c30090BrS != null) {
            c30090BrS.LJ = SystemClock.elapsedRealtime();
        }
        C30184Bsy.LJ(getContext());
        BKC LIZ = C28202B5a.LIZ();
        LIZ.getClass();
        if (!InterfaceC30442Bx8.LLJJJJJIL.LIZJ().booleanValue() && LIZ.LJFF && !InterfaceC30442Bx8.LLJJJJ.LIZJ().booleanValue() && C30184Bsy.LIZJ() && (dataChannel = this.mDataChannel) != null && ((Boolean) dataChannel.kv0(BCP.class)).booleanValue() && (room = this.mRoom) != null && room.getOwner() != null && this.mRoom.getOwner().getSecret() != 1 && !((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).Rb(Long.valueOf(this.mRoom.getId())) && !((Boolean) this.mDataChannel.kv0(FullScreenSurveyShowing.class)).booleanValue()) {
            this.mHandler.post(new ARunnableS12S0101000_8(0, this, 3));
        }
        if (C30184Bsy.LIZLLL()) {
            this.mHandler.post(new ARunnableS15S0101000_11(1, this, 8));
            if (!C79004UzY.LJJIFFI(this.mRoom.getRoomStickerList())) {
                this.mHandler.post(new ARunnableS12S0101000_8(0, this, 4));
            }
        }
    }

    public boolean hasPreLoadInteractionLayer() {
        return this.mHasPreLoadInteractionLayer;
    }

    private void doLoadBanner(IBannerService iBannerService) {
        if (isScreenPortrait() && this.mTopRightBannerWidget == null) {
            this.mTopRightBannerWidget = this.mWidgetManager.load(R.id.lfv, ((IBannerService) CN1.LIZ(IBannerService.class)).YS(false), true, new Object[]{new C30147BsN(SystemClock.elapsedRealtime())});
        }
        iBannerService.wS(this, this.mRoom.getId(), false);
    }

    private void handleCopyrightViolation(RemindMessage remindMessage) {
        if (this.copyrightViolationHelper == null) {
            this.copyrightViolationHelper = new CopyrightViolationHelper(this, new ARunnableS41S0100000_5(this, 118));
        }
        this.copyrightViolationHelper.LIZ(getContext(), remindMessage, this.mRoom, this.compositeSubscription);
    }

    private void handleGuideMessage(GuideMessage guideMessage) {
        String str;
        String str2;
        CommonMessageData commonMessageData;
        Room room = this.mRoom;
        if (room != null && room.isOfficial()) {
            return;
        }
        ((IHostConfig) CN1.LIZ(IHostConfig.class)).qS().getClass();
        if (guideMessage.guideType == 2 && isScreenPortrait()) {
            long j = guideMessage.displayStyle;
            if (j == 2) {
                this.mFollowGuideWidget = (FollowGuideAbsWidget) this.mWidgetManager.load(R.id.dkc, FollowGuidePinCardWidget.class, false);
            } else if (j == 3) {
                this.mFollowGuideWidget = (FollowGuideAbsWidget) this.mWidgetManager.load(R.id.dkb, FollowGuideBottomCardWidget.class, false);
            } else {
                this.mFollowGuideWidget = (FollowGuideAbsWidget) this.mWidgetManager.load(FollowGuideDialogWidget.class);
            }
            FollowGuideAbsWidget followGuideAbsWidget = this.mFollowGuideWidget;
            if (followGuideAbsWidget == null || guideMessage.displayStyle != followGuideAbsWidget.LJZI()) {
                return;
            }
            followGuideAbsWidget.LJLJJI = guideMessage;
            Long l = null;
            followGuideAbsWidget.LJLJJL = null;
            followGuideAbsWidget.LJLJJLL = true;
            BZI LIZ = C28787BRn.LIZ("livesdk_follow_popup_receive");
            GuideMessage guideMessage2 = followGuideAbsWidget.LJLJJI;
            if (guideMessage2 != null && (commonMessageData = guideMessage2.baseMessage) != null) {
                str = commonMessageData.logId;
            } else {
                str = null;
            }
            LIZ.LJIJJ(str, "notification_request_id");
            GuideMessage guideMessage3 = followGuideAbsWidget.LJLJJI;
            if (guideMessage3 != null) {
                str2 = guideMessage3.scene;
            } else {
                str2 = null;
            }
            LIZ.LJIJJ(str2, "notification_type");
            GuideMessage guideMessage4 = followGuideAbsWidget.LJLJJI;
            if (guideMessage4 != null) {
                l = Long.valueOf(guideMessage4.displayStyle);
            }
            LIZ.LJIJJ(l, "style");
            LIZ.LJIILLIIL(followGuideAbsWidget.dataChannel);
            LIZ.LJJIIJZLJL();
            followGuideAbsWidget.LJZL();
        }
    }

    private void handleToastMessage(OperateToastMessage operateToastMessage) {
        String str;
        if (operateToastMessage != null && operateToastMessage.baseMessage != null && operateToastMessage.supportDisplayText()) {
            C29827BnD.LIZJ(operateToastMessage);
            Text text = operateToastMessage.baseMessage.displayText;
            if (text == null) {
                return;
            }
            String str2 = text.defaultPattern;
            String str3 = text.key;
            if (!TextUtils.isEmpty(str3)) {
                str = C86881Y7x.LIZIZ().LIZ(str3);
            } else {
                str = null;
            }
            if (!TextUtils.isEmpty(str)) {
                str2 = str;
            }
            Spannable LJI = CXJ.LJI(str2, text, null);
            if (operateToastMessage.delayDuration > 0) {
                new Handler(C16880lQ.LLJJJJ()).postDelayed(new ARunnableS24S0200000_5(LJI, operateToastMessage, 21), operateToastMessage.delayDuration);
                return;
            }
            C30868C9o.LJ(operateToastMessage.displayDuration, C15380j0.LIZLLL(), LJI.toString());
            return;
        }
        C29827BnD.LIZ(operateToastMessage, "characterParsingError");
    }

    public /* synthetic */ C76800UCe lambda$continueAfterWidgetLoaded$11(RemindMessage remindMessage) {
        handleCopyrightViolation(remindMessage);
        return null;
    }

    /* JADX WARN: Type inference failed for: r0v18, types: [X.BOF] */
    public C76800UCe lambda$continueAfterWidgetLoaded$9(Boolean bool) {
        C20910rv.LJIIJJI = EnumC20870rr.FIRST_FRAME;
        C20910rv.LIZIZ();
        CG4 fb = ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).fb(this.mDataChannel);
        this.metricCollector = fb;
        if (fb != null) {
            C1H c1h = C1H.LIZ;
            C1H.LIZIZ = new CG5(fb);
            fb.LIZJ(c1h);
            this.metricCollector.start();
        }
        ((IDebugService) CN1.LIZ(IDebugService.class)).x50(this.mDataChannel);
        if (this.downgradeTrigger != null && bool.booleanValue()) {
            C30090BrS c30090BrS = this.downgradeTrigger;
            c30090BrS.LJIIIZ = this.metricCollector;
            if (!c30090BrS.LJFF && !c30090BrS.LJI) {
                c30090BrS.LJI = true;
                if (!c30090BrS.LJII) {
                    float f = C31032CFw.LIZ.LIZLLL;
                    StringBuilder LIZ = X1D.LIZ();
                    LIZ.append("batteryTemperature: ");
                    LIZ.append(f);
                    LIZ.append(", lastRoomFps: ");
                    LIZ.append(C30090BrS.LJIIJJI);
                    AbstractC66014PvW.LIZ("PerfDowngradeTrigger", X1D.LIZIZ(LIZ));
                    ScalableDowngradeSetting scalableDowngradeSetting = ScalableDowngradeSetting.INSTANCE;
                    if (f <= scalableDowngradeSetting.hotTemperature()) {
                        int levelSeriousFpsEnd = scalableDowngradeSetting.levelSeriousFpsEnd();
                        int i = C30090BrS.LJIIJJI;
                        if (i < 0 || i > levelSeriousFpsEnd) {
                            InterfaceC88471Ynr<EnumC30098Bra, EnumC30098Bra, C76800UCe> interfaceC88471Ynr = c30090BrS.LIZIZ;
                            EnumC30098Bra enumC30098Bra = EnumC30098Bra.LEVEL_NORMAL;
                            interfaceC88471Ynr.invoke(enumC30098Bra, enumC30098Bra);
                            c30090BrS.LJII = true;
                        }
                    }
                    c30090BrS.LIZJ = EnumC30098Bra.LEVEL_HIGH;
                    StringBuilder LIZ2 = X1D.LIZ();
                    LIZ2.append("level: Init to ");
                    LIZ2.append(c30090BrS.LIZJ);
                    String LIZIZ = X1D.LIZIZ(LIZ2);
                    if (C30922CBq.LIZIZ) {
                        AbstractC66014PvW.LIZ("PerfDowngradeTrigger", LIZIZ);
                    }
                    scalableDowngradeSetting.setDisableLog$livebase_release(true);
                    BZI LIZ3 = C28787BRn.LIZ("livesdk_scalable_downgrade_change");
                    LIZ3.LJIILLIIL(c30090BrS.LIZ);
                    EnumC30098Bra enumC30098Bra2 = EnumC30098Bra.LEVEL_NORMAL;
                    LIZ3.LJIJJ(Integer.valueOf(enumC30098Bra2.ordinal()), "from_level");
                    LIZ3.LJIJJ(Integer.valueOf(c30090BrS.LIZJ.ordinal()), "to_level");
                    LIZ3.LJIJJ(Integer.valueOf(c30090BrS.LIZJ.ordinal()), "member_count");
                    LIZ3.LJIJJ(Integer.valueOf(C30090BrS.LJIIJJI), "fps");
                    LIZ3.LJIJJ(0, "msg_qps");
                    LIZ3.LJIJJ(0, "last_level_duration");
                    LIZ3.LJIL("battery_temperature", Float.valueOf(f));
                    LIZ3.LJJIIJZLJL();
                    c30090BrS.LIZIZ.invoke(enumC30098Bra2, c30090BrS.LIZJ);
                    c30090BrS.LJII = true;
                }
                C15610jN.LIZJ(c30090BrS.LJIIIIZZ, 5000L);
            }
        }
        ((IEffectService) CN1.LIZ(IEffectService.class)).preloadLinkMicEffectSmallModel();
        C28592BKa.LIZJ(2);
        DrawerLoadOpt value = LiveDrawerLoadOptSetting.INSTANCE.getValue();
        if (value != null) {
            final boolean z = value.isPreLoadingForuData;
            final boolean z2 = value.isPreLoadingForuUI;
            final boolean z3 = value.isPreLoadingGameData;
            final boolean z4 = value.isPreLoadingGameUI;
            if (z || z2 || z3 || z4) {
                if (B4J.LIZLLL == null) {
                    B4J.LIZLLL = new Runnable() { // from class: X.BOF
                        @Override // java.lang.Runnable
                        public final void run() {
                            C73943T0h.LIZ().LIZIZ(new BOR(z, z2, z3, z4));
                        }
                    };
                }
                long j = (long) (value.delayDataDuration * 1000.0d);
                BOF bof = B4J.LIZLLL;
                if (bof != null) {
                    C15610jN.LIZLLL(bof);
                    C15610jN.LIZJ(B4J.LIZLLL, j);
                    return null;
                }
                return null;
            }
            return null;
        }
        return null;
    }

    public /* synthetic */ C76800UCe lambda$loadGoodyBagWidetAfterGetAuth$64(Boolean bool) {
        IGoodyBagService iGoodyBagService;
        if (bool.booleanValue() && (iGoodyBagService = (IGoodyBagService) CN1.LIZ(IGoodyBagService.class)) != null && iGoodyBagService.V60(this.mDataChannel) && this.goodyBagWidgetNumber == 0 && this.mWidgetManager != null) {
            this.goodyBagWidgetNumber = 1;
            C0NB.LIZIZ("tianweirui", "widgetLoadAudience");
            if (LiveRecycleWidgetV2RevenueSetting.INSTANCE.getValue()) {
                RecyclableWidgetManager recyclableWidgetManager = this.mWidgetManager;
                recyclableWidgetManager.load(recyclableWidgetManager.getRecyclableWidgetFromCacheOrNew(iGoodyBagService.SG(), null, new AObjectS56S0101000_13(0, iGoodyBagService, 1)));
            } else {
                this.mWidgetManager.load(iGoodyBagService.qh0());
            }
            iGoodyBagService.Tm0(this.mDataChannel, this.mRoom.getIdStr());
        }
        return null;
    }

    public /* synthetic */ C76800UCe lambda$loadIndependentBehaviors$40(Boolean bool) {
        if (bool.booleanValue()) {
            EnumC30204BtI.LANDSCAPE_MESSAGE.load(this.mDataChannel, new BNJ(this.mWidgetManager));
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$loadIndependentBehaviors$41(C28854BUc c28854BUc) {
        updateQuestionButton((User) this.mDataChannel.kv0(RoomUserChannel.class), c28854BUc);
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$loadIndependentBehaviors$43(C76800UCe c76800UCe) {
        if (!LiveFastGiftIconHideSetting.INSTANCE.getValue()) {
            EnumC30204BtI.DUMMY_FAST_GIFT.unload(this.mDataChannel);
            C30326BvG.LIZLLL(new ARunnableS12S0101000_8(0, this, 2), this.mDataChannel);
        }
        EnumC30204BtI.DUMMY_GIFT.unload(this.mDataChannel);
        ((IGiftService) CN1.LIZ(IGiftService.class)).loadBehavior(getContext(), this.mDataChannel, EnumC30204BtI.GIFT.ordinal());
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$loadIndependentBehaviors$45(Boolean bool) {
        addGiftToggle();
        if (!LiveFastGiftIconHideSetting.INSTANCE.getValue()) {
            C30326BvG.LIZLLL(new ARunnableS12S0101000_8(0, this, 1), this.mDataChannel);
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ void lambda$loadInitWidgetsP0$37(final InterfaceC29879Bo3 interfaceC29879Bo3) {
        this.messageManager.addMessageListener(EnumC31509CYf.FOLLOW_CARD_MESSAGE.getIntType(), new OnMessageListener() { // from class: X.Brp
            @Override // com.ss.ugc.live.sdk.message.interfaces.OnMessageListener
            public final void onMessage(IMessage iMessage) {
                InterfaceC29879Bo3.this.invoke(iMessage);
            }
        });
    }

    public /* synthetic */ C76800UCe lambda$loadTreasureWidgetAfterGetAuth$62(Boolean bool) {
        if (bool.booleanValue()) {
            loadTreasureBoxWidgetAndRedEnvelopeWidget();
            return null;
        }
        return null;
    }

    public /* synthetic */ void lambda$loadWidgetWithFirstFrameP2$47(final InterfaceC29879Bo3 interfaceC29879Bo3) {
        this.messageManager.addMessageListener(EnumC31509CYf.OFFICIAL_CHANNEL_USER_MESSAGE.getIntType(), new OnMessageListener() { // from class: X.Bro
            @Override // com.ss.ugc.live.sdk.message.interfaces.OnMessageListener
            public final void onMessage(IMessage iMessage) {
                InterfaceC29879Bo3.this.invoke(iMessage);
            }
        });
    }

    public /* synthetic */ void lambda$loadWidgetWithFirstFrameP2$51(InterfaceC29879Bo3 interfaceC29879Bo3) {
        this.mDataChannel.lv0(this, RoomNotifyEvent.class, new C66579QBb(0, interfaceC29879Bo3));
    }

    public /* synthetic */ void lambda$loadWidgetWithFirstFrameP2$55(final InterfaceC29879Bo3 interfaceC29879Bo3) {
        this.mDataChannel.lv0(this, DonationStickerAnchorEvent.class, new AObjectS45S0101000_13(1, interfaceC29879Bo3, 5));
        this.messageManager.addMessageListener(EnumC31509CYf.DONATION_INFO.getIntType(), new OnMessageListener() { // from class: X.Brn
            @Override // com.ss.ugc.live.sdk.message.interfaces.OnMessageListener
            public final void onMessage(IMessage iMessage) {
                InterfaceC29879Bo3.this.invoke(iMessage);
            }
        });
    }

    public /* synthetic */ void lambda$loadWidgetWithFirstFrameP2$57(InterfaceC29879Bo3 interfaceC29879Bo3) {
        this.messageManager.addMessageListener(EnumC31509CYf.HASHTAG.getIntType(), new C30061Bqz(interfaceC29879Bo3, 0));
    }

    public /* synthetic */ C76800UCe lambda$loadWidgetWithFirstFrameP2$58(Boolean bool) {
        if (this.starCommentCenter == null) {
            this.starCommentCenter = ((IStarCommentService) CN1.LIZ(IStarCommentService.class)).CT(this, this.mDataChannel);
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onActivityCreated$13(C30142BsI c30142BsI) {
        continueAfterWidgetLoaded();
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onActivityCreated$14(C28429BDt c28429BDt) {
        onVideoOrientationChange(c28429BDt);
        if (!C28329B9x.LIZIZ(getContext())) {
            ((IHostWatch) CN1.LIZ(IHostWatch.class)).updateSearchScrollStatus();
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onActivityCreated$15(C76800UCe c76800UCe) {
        FragmentManager fragmentManager = (FragmentManager) this.mDataChannel.kv0(C29494Bhq.class);
        if (fragmentManager != null) {
            ((IAdminSettingService) CN1.LIZ(IAdminSettingService.class)).Kd0(false).show(fragmentManager, "LiveAdminSettingDialog");
            EnumC30204BtI.SHARE.hideRedDot(this.mDataChannel);
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onActivityCreated$16(Boolean bool) {
        if (!isScreenPortrait() && !bool.booleanValue()) {
            View findViewById = this.rootView.findViewById(R.id.bkq);
            createPortrait2LandscapeAnimation(findViewById, this.rootView.findViewById(R.id.gi_), this.rootView.findViewById(R.id.ffj), findViewById.getWidth() / 2, CCJ.LIZ(C15380j0.LIZLLL())).start();
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onActivityCreated$17(Boolean bool) {
        if (isScreenPortrait() && !bool.booleanValue()) {
            createLandscape2PortraitAnimation(this.rootView.findViewById(R.id.bkq), this.rootView.findViewById(R.id.gi_)).start();
        }
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onViewCreated$2(Boolean bool) {
        logToastShow();
        return C76800UCe.LIZ;
    }

    public C76800UCe lambda$onViewCreated$3(Boolean bool) {
        C30089BrR c30089BrR = this.mFollowGuideCollector;
        if (!bool.booleanValue()) {
            c30089BrR.LIZ(3);
        } else {
            c30089BrR.getClass();
        }
        return C76800UCe.LIZ;
    }

    public C76800UCe lambda$onViewCreated$4(Boolean bool) {
        C30089BrR c30089BrR = this.mFollowGuideCollector;
        if (bool.booleanValue()) {
            c30089BrR.LIZIZ = true;
            c30089BrR.LIZJ = false;
        } else if (c30089BrR.LIZIZ && !c30089BrR.LIZJ) {
            c30089BrR.LIZ(2);
        }
        BZM LIZLLL = B4J.LIZLLL(B4J.LIZ(mo49getActivity()));
        if (LIZLLL != null) {
            LIZLLL.setKeyboardOpen(bool.booleanValue());
        }
        return C76800UCe.LIZ;
    }

    public C76800UCe lambda$onViewCreated$5(C76800UCe c76800UCe) {
        this.mFollowGuideCollector.LIZJ = true;
        return C76800UCe.LIZ;
    }

    public C76800UCe lambda$onViewCreated$6(Boolean bool) {
        C30089BrR c30089BrR = this.mFollowGuideCollector;
        if (bool.booleanValue()) {
            c30089BrR.LIZLLL = true;
            c30089BrR.LJ = false;
        } else if (c30089BrR.LIZLLL && !c30089BrR.LJ) {
            c30089BrR.LIZ(1);
        }
        return C76800UCe.LIZ;
    }

    public C76800UCe lambda$onViewCreated$7(C15950jv c15950jv) {
        this.mFollowGuideCollector.LJ = true;
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onViewCreated$8(Boolean bool) {
        if (bool.booleanValue()) {
            if (!this.isStreamPaused) {
                actionPause();
            }
        } else {
            actionResume();
        }
        this.enterRoomPauseSei = true;
        return C76800UCe.LIZ;
    }

    public static void lambda$showPipGuideDialog$29(DialogInterface dialogInterface) {
        InterfaceC30442Bx8.LLJJJJ.LIZ(Boolean.FALSE);
        C78920UyC.LJI("livesdk_mini_window_pop_up_click", "not_allowed", "click_icon");
    }

    /* renamed from: loadBanners */
    public void lambda$loadWidgetWithFirstFrameP2$48(IBannerService iBannerService) {
        if (!LiveBannerDegradeSettings.INSTANCE.enableBanner() && !LiveBannerDegradePhoneTransparent.INSTANCE.getValue()) {
            return;
        }
        C30090BrS c30090BrS = this.downgradeTrigger;
        if (c30090BrS != null && c30090BrS.LIZJ != EnumC30098Bra.LEVEL_NORMAL) {
            this.mDataChannel.lv0(this, LowDevicePerfScalableChannel.class, new AObjectS122S0200000_5(this, iBannerService, 0));
        } else {
            doLoadBanner(iBannerService);
        }
    }

    public Boolean onDoubleTap(MotionEvent motionEvent) {
        this.mLastDoubleTapTime = System.currentTimeMillis();
        return Boolean.TRUE;
    }

    private void onVideoOrientationChange(C28429BDt c28429BDt) {
        if (!isViewValid() || getView() == null || !isScreenPortrait()) {
            return;
        }
        changeTextMessageViewHeight();
    }

    private void queryUserIfLogin(String str) {
        ((IUserManageService) CN1.LIZ(IUserManageService.class)).UZ(this, this.mDataChannel, this.compositeSubscription).LIZ(str);
    }

    private void syncGiftResource(Room room) {
        ((IGiftService) CN1.LIZ(IGiftService.class)).syncGiftList(this.callback, room.getId(), 2, false);
    }

    private void syncGiftResourceGiftBanned(Room room) {
        ((IGiftService) CN1.LIZ(IGiftService.class)).syncGiftList(this.callbackGiftBanned, room.getId(), 2, false);
    }

    public Boolean enableChangeOrientation(int i) {
        boolean z = true;
        if (i == 1) {
            z = false;
        }
        return Boolean.valueOf(z);
    }

    @Override // com.bytedance.common.utility.collection.WeakHandler.IHandler
    public void handleMsg(Message message) {
        if (!isViewValid()) {
            return;
        }
        Object obj = message.obj;
        if (obj instanceof C29401Dk) {
            this.mDataChannel.qv0(QueryUserFailEvent.class, obj);
        } else {
            if (!(obj instanceof Exception)) {
                return;
            }
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("unknown exception ");
            LIZ.append(((Throwable) obj).toString());
            C0NB.LIZIZ("AbsInteractionFragment", X1D.LIZIZ(LIZ));
        }
    }

    /* JADX WARN: Type inference failed for: r1v10, types: [com.bytedance.ies.sdk.widgets.RecyclableWidgetManager, O] */
    @Override // androidx.fragment.app.Fragment
    public void onActivityCreated(Bundle bundle) {
        super.onActivityCreated(bundle);
        if (LiveJitBlockSetting.INSTANCE.isEnable()) {
            ((IHostPerformanceOpt) CN1.LIZ(IHostPerformanceOpt.class)).k4(2000L);
        }
        View view = getView();
        if (view == null) {
            return;
        }
        this.messageManager = (IMessageManager) this.mDataChannel.kv0(C29927Bop.class);
        ((IWatchLiveService) CN1.LIZ(IWatchLiveService.class)).LLZZLLIL(this.mRoom, this.mDataChannel, this);
        ((IToolbarService) CN1.LIZ(IToolbarService.class)).Gv(getContext(), this, this.mDataChannel);
        this.rootView = view;
        DataChannel dataChannel = this.mDataChannel;
        dataChannel.mv0(WidgetLoadedEvent.class, this, new AObjectS42S0101000_5(3, this, 49));
        dataChannel.ov0(this, VideoOrientationChangeChannel.class, new AObjectS42S0101000_5(1, this, 50));
        DataChannelGlobal.LJLJJI.ov0(ModeratorSettingShowEvent.class, this, new AObjectS45S0101000_13(1, this, 12));
        this.mDataChannel.qv0(DutyGiftChangedEvent.class, Boolean.FALSE);
        C28733BPl.LJIILIIL().getClass();
        C0NE.LIZ("ttlive_room", "prepare load widget, first anyway");
        this.mWidgetManager = onCreateWidgetManager();
        if (C259710f.LIZ.LJIILJJIL) {
            this.mWidgetManager.setFactory2(new C30878C9y());
        }
        this.mLazyLoadWidgetManager = new C30076BrE(this.mWidgetManager);
        this.widgetLoadConditions = new C29907BoV(this.mRoom, this.mDataChannel, this);
        ((C32537Cpp) this.mDataChannel.gv0(C29738Blm.class)).LIZ = this.mWidgetManager;
        C30317Bv7.LJI(!isScreenPortrait() ? 1 : 0, this.mWidgetManager);
        C30317Bv7.LIZ(!isScreenPortrait() ? 1 : 0, this.mWidgetManager);
        this.mWidgetManager.addRecyclableWidgetEventListener(new C86934Y9y(this.mDataChannel));
        B76.LIZ = this.mEnterRoomConfig;
        if (isScreenPortrait()) {
            C28282B8c c28282B8c = new C28282B8c(this.mDataChannel);
            this.displayWidgetManager = c28282B8c;
            if (c28282B8c.LIZIZ()) {
                ArrayList arrayList = new ArrayList();
                arrayList.add(C16880lQ.LJLLJ(((IUserInfoWidgetService) CN1.LIZ(IUserInfoWidgetService.class)).QX()));
                arrayList.add(C16880lQ.LJLLJ(CloseWidget.class));
                arrayList.add(C16880lQ.LJLLJ(((IRankService) CN1.LIZ(IRankService.class)).kj(isScreenPortrait())));
                arrayList.add(C16880lQ.LJLLJ(LiveDrawerEntranceWidget.class));
                C28282B8c c28282B8c2 = this.displayWidgetManager;
                c28282B8c2.getClass();
                ((ArrayList) c28282B8c2.LIZJ).addAll(arrayList);
                this.mWidgetManager.addRecyclableWidgetEventListener(new C86933Y9x(this.displayWidgetManager));
            }
        }
        this.mWidgetManager.mWidgetCreateTimeListener = this.mWidgetCreateTimeUtil;
        this.mDataChannel.rv0(AudienceShowOrientationBeginTime.class, Long.valueOf(System.currentTimeMillis()));
        if (TtliveGameLandscapeDesignOptimizeSetting.INSTANCE.shouldOptimize()) {
            this.mDataChannel.lv0(this, IsFromPortraitData.class, new AObjectS42S0101000_5(1, this, 51));
            this.mDataChannel.lv0(this, IsFromLandscapeData.class, new AObjectS42S0101000_5(2, this, 53));
        }
        ((IShortTouchService) CN1.LIZ(IShortTouchService.class)).Ug0(this.mDataChannel);
        if (!shouldLoadP0() || this.mIsRebuildByConfigChange) {
            AbstractC30139BsF abstractC30139BsF = this.mWidgetLoadProcessor;
            DataChannel dataChannel2 = this.mDataChannel;
            C30125Bs1 c30125Bs1 = new C30125Bs1(this);
            abstractC30139BsF.getClass();
            C30326BvG c30326BvG = C30326BvG.LIZ;
            c30326BvG.post(new ARunnableS41S0100000_5(abstractC30139BsF, 17), dataChannel2);
            c30326BvG.post(new ARunnableS41S0100000_5(abstractC30139BsF, 18), dataChannel2);
            c30326BvG.post(new ARunnableS41S0100000_5(abstractC30139BsF, 19), dataChannel2);
            c30326BvG.post(new ARunnableS24S0200000_5(abstractC30139BsF, c30125Bs1, 7), dataChannel2);
            ActivityC45651qj mo49getActivity = mo49getActivity();
            if (ScalableDowngradeSetting.isEnabled() && mo49getActivity != null) {
                this.mRoom.getId();
                C30090BrS c30090BrS = new C30090BrS(this.mDataChannel, new AObjectS140S0100000_5(this, 0));
                this.downgradeTrigger = c30090BrS;
                EnumC30098Bra enumC30098Bra = c30090BrS.LIZJ;
                EnumC30098Bra enumC30098Bra2 = EnumC30098Bra.LEVEL_NORMAL;
                if (enumC30098Bra != enumC30098Bra2) {
                    this.mDataChannel.rv0(LowDevicePerfScalableChannel.class, new C30134BsA(enumC30098Bra2, enumC30098Bra));
                    StringBuilder LIZ = X1D.LIZ();
                    LIZ.append("Downgrade changed: ");
                    LIZ.append(enumC30098Bra2.name());
                    LIZ.append(" -> ");
                    LIZ.append(enumC30098Bra.name());
                    C87277YNd.LJJJJJ(X1D.LIZIZ(LIZ));
                }
            }
        }
        if (C28835BTj.LIZLLL(this.mDataChannel)) {
            ((InterfaceC29856Bng) AbstractC73672Svk.LJJIJIL(this).LJIIL(60000L, TimeUnit.MILLISECONDS).LJII(new C62705OjF()).LIZJ(C73933Szx.LIZLLL(this))).LIZJ(new AfS17S0001000_5(0, 3), BTJ.LIZ);
        }
        DataChannel dataChannel3 = this.mDataChannel;
        if (LiveClientTriggerConfig.INSTANCE.enable()) {
            ((ILiveTriggerService) C24120x6.LIZ.getValue()).y3(this, dataChannel3);
        }
    }

    @Override // X.InterfaceC30135BsB
    public void onControlMessage(ControlMessage controlMessage) {
        if (!isViewValid()) {
            return;
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("action = ");
        LIZ.append(controlMessage.action);
        LIZ.append(", roomid = ");
        LIZ.append(this.mRoom.getId());
        C0NB.LJIIIZ("onControlMessage", X1D.LIZIZ(LIZ));
        if (this.mDataChannel.kv0(BCX.class) == LiveMode.SCREEN_RECORD) {
            this.mDataChannel.kv0(BD7.class);
        }
        int i = controlMessage.action;
        if (3 == i) {
            C0GA.LIZLLL(this.mDataChannel, false);
            C73943T0h.LIZ().LIZIZ(new C28268B7o(7, 10010));
            return;
        }
        if (4 == i) {
            EnterRoomConfig enterRoomConfig = this.mEnterRoomConfig;
            B5T reason = B5T.ROOM_FORBIDDEN;
            o.LJIIIZ(reason, "reason");
            B5S.LIZ(enterRoomConfig, reason, "slide_next_room");
            C0GA.LIZLLL(this.mDataChannel, false);
            C28268B7o c28268B7o = new C28268B7o(7);
            c28268B7o.LIZJ = controlMessage;
            C73943T0h.LIZ().LIZIZ(c28268B7o);
            if (!C38354F3m.LJ(controlMessage.tips)) {
                C30868C9o.LJI(controlMessage.tips);
            }
            JSONObject jSONObject = new JSONObject();
            C05630Jz.LIZ(0, "error_code", jSONObject);
            C05630Jz.LJI(jSONObject, "error_msg", controlMessage.tips);
            C0K2.LJIIIIZZ("ttlive_anchor_close_room", 0, jSONObject);
            return;
        }
        if (1 == i) {
            actionPause();
        } else {
            if (2 != i) {
                return;
            }
            actionResume();
        }
    }

    /* JADX WARN: Type inference failed for: r1v9, types: [X.BMs, O] */
    @Override // com.bytedance.android.livesdk.ui.BaseFragment, com.bytedance.android.live.design.resource.theme.LiveThemeAwareFragment, androidx.fragment.app.Fragment
    public void onCreate(Bundle bundle) {
        String str;
        B5D b5d;
        Room room;
        super.onCreate(null);
        if (!RoomSlowFunctionOptSetting.roomBuildOpt()) {
            this.stateMachine = new YVM(this.mWidgetLoadProcessor);
        }
        if (LiveTreasureBoxContainerOptimizeSetting.INSTANCE.getValue()) {
            loadTreasureWidgetAfterGetAuth();
        }
        loadGoodyBagWidetAfterGetAuth();
        if (isScreenPortrait()) {
            str = "portrait";
        } else {
            str = "landscape";
        }
        C28246B6s LIZIZ = BJN.LIZIZ();
        if (LIZIZ != null && (room = LIZIZ.LIZIZ) != null) {
            room.setRoomOrientation(str);
        }
        C74740TUy.LIZLLL().LJI(0);
        if (this.mLiveMode == null) {
            this.mLiveMode = LiveMode.VIDEO;
        }
        applyArguments();
        DataChannel dataChannel = this.mDataChannel;
        if (dataChannel != null) {
            dataChannel.rv0(EnterLiveSourceChannel.class, this.mEnterLiveSource);
            ((C30744C4u) this.mDataChannel.kv0(ProgrammedLiveMenuVisibilityChannel.class)).LIZ = false;
            ((C29594BjS) this.mDataChannel.kv0(ProgrammedLiveFollowCardVisibilityChannel.class)).LJLIL = true;
            ((C32537Cpp) this.mDataChannel.gv0(C28659BMp.class)).LIZ = new C28662BMs();
        }
        C30725C4b.LIZJ(getContext());
        if (mo49getActivity() != null && !mo49getActivity().isFinishing()) {
            C28571BJf fp0 = ((IRankService) CN1.LIZ(IRankService.class)).fp0();
            this.mRankOptOutPresenter = fp0;
            if (fp0 != null) {
                fp0.LIZIZ((FragmentManager) this.mDataChannel.kv0(C29494Bhq.class));
                Room room2 = this.mRoom;
                if (room2 != null && (b5d = this.mRankOptOutPresenter) != null) {
                    b5d.LIZJ(room2.getId());
                }
            }
        }
        this.mWatchStartTime = System.currentTimeMillis();
    }

    @Override // androidx.fragment.app.Fragment
    public void onMultiWindowModeChanged(boolean z) {
        super.onMultiWindowModeChanged(z);
        DataChannel dataChannel = this.mDataChannel;
        if (dataChannel != null) {
            dataChannel.rv0(MultiWindowModeChannel.class, Boolean.valueOf(z));
        }
    }

    @Override // X.InterfaceC30133Bs9
    public void onPlatformMessage(BaseMessage baseMessage) {
        if (baseMessage == null) {
            CKB.INSTANCE.onMessageFinish();
            return;
        }
        if (baseMessage instanceof GuideMessage) {
            handleGuideMessage((GuideMessage) baseMessage);
            CKB.INSTANCE.onMessageFinish();
        } else if (baseMessage instanceof RoomNotifyMessage) {
            this.mDataChannel.qv0(RoomNotifyEvent.class, baseMessage);
        } else if (baseMessage instanceof OperateToastMessage) {
            handleToastMessage((OperateToastMessage) baseMessage);
            CKB.INSTANCE.onMessageFinish();
        } else {
            CKB.INSTANCE.onMessageFinish();
        }
    }

    public boolean onSingleTapConfirmed(MotionEvent motionEvent) {
        DataChannel dataChannel;
        if (Math.abs(System.currentTimeMillis() - this.mLastDoubleTapTime) > 1000 && (dataChannel = this.mDataChannel) != null) {
            dataChannel.qv0(BaseSingleTapEvent.class, motionEvent);
        }
        return false;
    }

    public void postOnViewModulePrepared(Runnable runnable) {
        if (runnable == null) {
            return;
        }
        this.mOnViewModulePreparedAction = runnable;
    }

    public void prepareChildWidgets(View view) {
        if (LivePlayAbnormalReportSetting.INSTANCE.isEnable()) {
            C38995FSd.LIZIZ().submit(new ARunnableS6S0101000_2(0, this, 0));
        }
    }

    public void setMaskViewCallback(InterfaceC30143BsJ interfaceC30143BsJ) {
        this.maskViewCallback = interfaceC30143BsJ;
    }

    /* JADX WARN: Type inference failed for: r1v0, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r1v1, types: [java.lang.Boolean, O] */
    /* JADX WARN: Type inference failed for: r1v3, types: [java.lang.Boolean, O] */
    public void setPresetData(DataChannel dataChannel) {
        boolean z = true;
        ((C32537Cpp) dataChannel.gv0(C30114Brq.class)).LIZ = Boolean.valueOf(!isScreenPortrait());
        ((C32537Cpp) dataChannel.gv0(BCW.class)).LIZ = Boolean.valueOf(isScreenPortrait());
        Boolean bool = Boolean.FALSE;
        dataChannel.rv0(CommentOrMessageData.class, bool);
        dataChannel.rv0(UserIsAnchorChannel.class, bool);
        if (!isScreenPortrait() || !ToolBarButtonWithTextExperiment.hasText()) {
            z = false;
        }
        ((C32537Cpp) dataChannel.gv0(BNK.class)).LIZ = Boolean.valueOf(z);
    }

    public void setRoomLogger(BJ9 bj9) {
        this.mRoomLogger = bj9;
    }

    /* JADX WARN: Type inference failed for: r1v4, types: [java.lang.Object, O] */
    private void checkNeedShowGamePartnershipEntrance(LiveRecyclableWidget liveRecyclableWidget, C30605Bzl c30605Bzl) {
        String str;
        if (this.mDataChannel == null) {
            return;
        }
        for (int i = 0; i < c30605Bzl.LIZIZ.size(); i++) {
            if (((BriefGameTask) ListProtector.get(c30605Bzl.LIZIZ, i)).task.anchorShowStatus == 0) {
                ((C32537Cpp) this.mDataChannel.gv0(C30591BzX.class)).LIZ = ListProtector.get(c30605Bzl.LIZIZ, i);
                ((C32537Cpp) this.mDataChannel.gv0(C30118Bru.class)).LIZ = "enter_room";
                if (isScreenPortrait()) {
                    if (ToolBarRefactor.enable()) {
                        ((IToolbarService) CN1.LIZ(IToolbarService.class)).T00(this.mDataChannel).LIZLLL(EnumC30241Btt.AUDIENCE_PARTNERSHIP).hv0(true, true);
                    } else {
                        liveRecyclableWidget.show();
                    }
                } else {
                    EnumC30204BtI.AUDIENCE_LANDSCAPE_PARTNERSHIP.show(this.mDataChannel);
                }
                boolean equals = Boolean.TRUE.equals(this.mDataChannel.kv0(C30128Bs4.class));
                if (GameLivePartnershipApiOptSetting.INSTANCE.getAudienceRoom().partnershipEntrance) {
                    str = c30605Bzl.LJFF;
                } else {
                    str = this.mRoom.partnershipInfo.promotingTaskId;
                }
                if (!equals && !TextUtils.isEmpty(str)) {
                    this.mDataChannel.rv0(PartnershipAudiencePromotingTaskChannel.class, new C30124Bs0(str));
                    return;
                }
                return;
            }
        }
        if (isScreenPortrait()) {
            if (ToolBarRefactor.enable()) {
                C30102Bre.LIZ(EnumC30241Btt.AUDIENCE_PARTNERSHIP, this).LJLJL.setValue(new C30268BuK(false, true));
                return;
            } else {
                liveRecyclableWidget.hide();
                return;
            }
        }
        EnumC30204BtI.AUDIENCE_LANDSCAPE_PARTNERSHIP.hide(this.mDataChannel);
    }

    private ValueAnimator createLandscape2PortraitAnimation(View view, View view2) {
        ValueAnimator ofFloat = ValueAnimator.ofFloat(0.0f, 1.0f);
        ofFloat.setDuration(200L);
        ofFloat.setInterpolator(new AccelerateInterpolator());
        ofFloat.addUpdateListener(new AUListenerS96S0200000_4(view, view2, 2));
        return ofFloat;
    }

    public /* synthetic */ boolean lambda$continueAfterWidgetLoaded$10(View view, MotionEvent motionEvent) {
        ScaleGestureDetector scaleGestureDetector;
        if (!this.mGestureDetector.onTouchEvent(motionEvent) && (scaleGestureDetector = this.mZoomGestureDetector) != null) {
            scaleGestureDetector.onTouchEvent(motionEvent);
            return false;
        }
        return false;
    }

    public /* synthetic */ C76800UCe lambda$loadBanners$59(IBannerService iBannerService, C30134BsA c30134BsA) {
        if (isScreenPortrait() && this.mTopRightBannerWidget == null && c30134BsA.LIZIZ == EnumC30098Bra.LEVEL_NORMAL) {
            doLoadBanner(iBannerService);
            return null;
        }
        return null;
    }

    public /* synthetic */ C76800UCe lambda$loadGamePartnerShipInfo$38(LiveRecyclableWidget liveRecyclableWidget, C30605Bzl c30605Bzl) {
        checkNeedShowGamePartnershipEntrance(liveRecyclableWidget, c30605Bzl);
        return null;
    }

    public /* synthetic */ void lambda$loadWidgetWithFirstFrameP2$49(IBannerService iBannerService, boolean z) {
        if (iBannerService.yj0(this.mRoom.getId())) {
            lambda$loadWidgetWithFirstFrameP2$48(iBannerService);
        } else {
            this.mWidgetManager.unload(this.mTopRightBannerWidget);
            this.mTopRightBannerWidget = null;
        }
    }

    public static /* synthetic */ C76800UCe lambda$loadWidgetWithFirstFrameP2$50(InterfaceC29879Bo3 interfaceC29879Bo3, RoomNotifyMessage roomNotifyMessage) {
        interfaceC29879Bo3.invoke(roomNotifyMessage);
        return C76800UCe.LIZ;
    }

    public static /* synthetic */ C76800UCe lambda$loadWidgetWithFirstFrameP2$53(InterfaceC29879Bo3 interfaceC29879Bo3, C28954BXy c28954BXy) {
        interfaceC29879Bo3.invoke(c28954BXy);
        return C76800UCe.LIZ;
    }

    public /* synthetic */ C76800UCe lambda$onActivityCreated$19(EnumC30098Bra enumC30098Bra, EnumC30098Bra enumC30098Bra2) {
        this.mDataChannel.rv0(LowDevicePerfScalableChannel.class, new C30134BsA(enumC30098Bra, enumC30098Bra2));
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("Downgrade changed: ");
        LIZ.append(enumC30098Bra.name());
        LIZ.append(" -> ");
        LIZ.append(enumC30098Bra2.name());
        C87277YNd.LJJJJJ(X1D.LIZIZ(LIZ));
        return null;
    }

    public static /* synthetic */ void lambda$onDestroyView$20(IMessageManager iMessageManager, Integer num) {
        iMessageManager.stopMessage(new C30176Bsq());
    }

    public void lambda$onInteractionLongPress$22(int i, int i2) {
        Long l;
        Room room = this.mRoom;
        String LJFF = BJM.LJFF();
        String LJIIIIZZ = BJM.LJIIIIZZ();
        String LIZLLL = BJM.LIZLLL();
        BT1 requestPage = BT1.LONG_PRESS;
        o.LJIIIZ(requestPage, "requestPage");
        if (room == null) {
            return;
        }
        C73943T0h.LIZ().LIZIZ(new B4R(room.getId()));
        if (i == 3) {
            C30868C9o.LIZJ(R.string.mg9);
        } else {
            C30868C9o.LIZJ(R.string.o0w);
        }
        User owner = room.getOwner();
        if (owner != null) {
            l = Long.valueOf(owner.getId());
        } else {
            l = null;
        }
        Long valueOf = Long.valueOf(room.getId());
        String requestId = room.getRequestId();
        BZI LIZ = C28787BRn.LIZ("dislike_sec_submit");
        LIZ.LJIJJ(Integer.valueOf(i2), "reason_id");
        LIZ.LJIJJ(valueOf, "room_id");
        LIZ.LJIJJ(l, "anchor_id");
        LIZ.LJIJJ(LJIIIIZZ, "enter_method");
        LIZ.LJIJJ(LJFF, "enter_from_merge");
        C06490Nh.LIZLLL(LIZ, LIZLLL, "action_type", requestId, "request_id");
        if (i == 2) {
            return;
        }
        C28824BSy.LIZ(room, LJFF, LJIIIIZZ, requestPage, "live_detail");
    }

    public C76800UCe lambda$onViewCreated$1(String str, C76800UCe c76800UCe) {
        ((IPublicScreenService) CN1.LIZ(IPublicScreenService.class)).Ji(this.mRoom.getId(), C31309CQn.LJIJ(this.mRoom.getId(), str), null);
        C77800Ug8.LJ("livesdk_manage_feeds_icon_show", this.mDataChannel);
        return C76800UCe.LIZ;
    }

    public static void lambda$showPipGuideDialog$28(DialogInterface dialogInterface, int i) {
        InterfaceC30442Bx8.LLJJJJ.LIZ(Boolean.FALSE);
        BZI LIZ = C28787BRn.LIZ("livesdk_mini_window_pop_up_click");
        LIZ.LJIJJ("not_allowed", "click_icon");
        LIZ.LJJIIJZLJL();
        dialogInterface.dismiss();
    }

    private void updateQuestionButton(User user, C28854BUc c28854BUc) {
        float f;
        View view = EnumC30204BtI.QUESTION.getView(this.mDataChannel);
        if (view != null && isViewValid()) {
            if ((user != null && user.getUserAttr() != null && user.getUserAttr().isAdmin) || !c28854BUc.LJLIL || this.mRoom.questionVersion != 2) {
                f = 1.0f;
            } else {
                f = 0.5f;
            }
            view.setAlpha(f);
        }
    }

    /* JADX WARN: Type inference failed for: r2v12, types: [X.TYo, O] */
    /* JADX WARN: Type inference failed for: r2v4, types: [com.bytedance.android.livesdk.model.FlareInfo, O] */
    @Override // com.bytedance.android.livesdk.ui.BaseFragment, androidx.fragment.app.Fragment
    public void onViewCreated(View view, Bundle bundle) {
        C39532FfM c39532FfM;
        View view2;
        int i;
        super.onViewCreated(view, bundle);
        boolean z = false;
        if (this.mEnterRoomConfig.mRoomsData.personalizedChanged && BOT.LIZ()) {
            this.mEnterRoomConfig.mRoomsData.personalizedChanged = false;
            if (BOT.LIZJ()) {
                this.mDataChannel.lv0(this, PublicScreenLoadedEvent.class, new AObjectS54S1100000_5(this, ((IHostPersonalized) CN1.LIZ(IHostPersonalized.class)).qY(3), 1));
                i = 0;
            } else {
                i = 1;
            }
            C30868C9o.LJFF(getContext(), ((IHostPersonalized) CN1.LIZ(IHostPersonalized.class)).qY(i));
            C77800Ug8.LJ("livesdk_manage_feeds_information_banner_show", this.mDataChannel);
        }
        boolean equals = Boolean.TRUE.equals(this.mDataChannel.kv0(BCU.class));
        C28698BOc c28698BOc = new C28698BOc();
        DataChannel dataChannel = this.mDataChannel;
        Room room = this.mRoom;
        o.LJIIIZ(room, "room");
        if (BOT.LIZ()) {
            Boolean value = ((IHostPersonalized) CN1.LIZ(IHostPersonalized.class)).ag0().getValue();
            if (value != null) {
                z = value.booleanValue();
            }
            c28698BOc.LIZ = z;
            ((IHostPersonalized) CN1.LIZ(IHostPersonalized.class)).ag0().observe(this, new C28697BOb(c28698BOc, equals, room, dataChannel));
        }
        if (C28329B9x.LIZIZ(getContext())) {
            view.setFitsSystemWindows(true);
        }
        this.mGestureDetectLayout = (InterfaceC30182Bsw) view.findViewById(R.id.hif);
        this.mLivePauseToast = (TextView) view.findViewById(R.id.fxl);
        C30326BvG.LIZLLL(new ARunnableS11S0101000_7(1, this, 13), this.mDataChannel);
        this.mMiddleGroundShareHelper = new BWT(this, this.mDataChannel);
        ((IBrowserService) CN1.LIZ(IBrowserService.class)).dr(this, this.mDataChannel, isScreenPortrait(), this);
        this.mInputEventHelper = new C30157BsX(this, this.mDataChannel);
        this.mFollowGuideCollector = new C30089BrR(this.mRoom);
        ((C32041No) ((IEffectService) CN1.LIZ(IEffectService.class)).getLiveStickerLogManager()).LJII(this, this.mDataChannel);
        DataChannel dataChannel2 = this.mDataChannel;
        EnterRoomConfig.RoomsData roomsData = this.mEnterRoomConfig.mRoomsData;
        ((C32537Cpp) dataChannel2.gv0(BM7.class)).LIZ = new FlareInfo(roomsData.isShowFlare, roomsData.flareTaskId);
        DataChannel dataChannel3 = this.mDataChannel;
        dataChannel3.lv0(this, LogGiftCloseToastShowEvent.class, new AObjectS42S0101000_5(1, this, 34));
        dataChannel3.lv0(this, UserProfileShowingChannel.class, new AObjectS45S0101000_13(1, this, 10));
        dataChannel3.lv0(this, KeyboardStatusChannel.class, new AObjectS42S0101000_5(1, this, 12));
        dataChannel3.lv0(this, CommentSendEvent.class, new AObjectS42S0101000_5(2, this, 47));
        dataChannel3.lv0(this, GiftDialogVisibilityChannel.class, new AObjectS45S0101000_13(1, this, 11));
        dataChannel3.lv0(this, SendGiftSuccessEvent.class, new AObjectS42S0101000_5(1, this, 33));
        dataChannel3.lv0(this, BroadcastGamePauseOrResumeChannel.class, new AObjectS42S0101000_5(3, this, 35));
        ?? RG = ((IRoomFunctionService) CN1.LIZ(IRoomFunctionService.class)).RG(ViewModelProviders.of(this));
        DataChannel dataChannel4 = this.mDataChannel;
        if (dataChannel4 != null && RG != 0) {
            ((C32537Cpp) dataChannel4.gv0(C74969TbZ.class)).LIZ = RG;
        }
        InterfaceC30143BsJ interfaceC30143BsJ = this.maskViewCallback;
        if (interfaceC30143BsJ != null && (c39532FfM = ((C28162B3m) interfaceC30143BsJ).LIZ.i) != null) {
            if (!BadPhonesWatchLiveCommonUIOptSetting.INSTANCE.getRemoveTopShadow() && (view2 = (View) c39532FfM.LIZ) != null) {
                view2.setVisibility(8);
            }
            View view3 = (View) c39532FfM.LIZIZ;
            if (view3 == null) {
                return;
            }
            view3.setVisibility(8);
        }
    }

    public void setEnterRoomConfig(EnterRoomConfig enterRoomConfig, boolean z) {
        this.mEnterRoomConfig = enterRoomConfig;
        this.mIsRebuildByConfigChange = z;
    }

    public /* synthetic */ void lambda$onInteractionLongPress$21(int i, boolean z, boolean z2) {
        C28823BSx.LIZ(this.mRoom, BJM.LJFF(), BJM.LJIIIIZZ(), BT1.LONG_PRESS, "live_detail", z, i, z2);
    }

    public static void lambda$showPipGuideDialog$27(Activity activity, DialogInterface dialogInterface, int i) {
        InterfaceC30442Bx8.LLJJJJ.LIZ(Boolean.TRUE);
        if (!C30184Bsy.LIZLLL()) {
            if (Build.VERSION.SDK_INT >= 28) {
                C40210FqI.LJII(activity, "android.settings.PICTURE_IN_PICTURE_SETTINGS");
            } else {
                C40210FqI.LJI(activity);
            }
        }
        BZI LIZ = C28787BRn.LIZ("livesdk_mini_window_pop_up_click");
        LIZ.LJIJJ("allow", "click_icon");
        LIZ.LJJIIJZLJL();
        dialogInterface.dismiss();
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r1v2, types: [java.lang.Long, O] */
    /* JADX WARN: Type inference failed for: r1v3, types: [com.ss.ugc.live.sdk.message.interfaces.IMessageManager, O] */
    public void setData(DataChannel dataChannel, LiveMode liveMode, AbstractC30130Bs6 abstractC30130Bs6) {
        O o;
        this.mDataChannel = dataChannel;
        C30446BxC c30446BxC = C30446BxC.LIZ;
        EnumC30414Bwg enumC30414Bwg = EnumC30414Bwg.EVENT_PAGE_WATCH_LIVE;
        c30446BxC.getClass();
        C30446BxC.LJ(this, enumC30414Bwg, dataChannel);
        this.mRoom = (Room) this.mDataChannel.kv0(RoomChannel.class);
        this.mLiveMode = liveMode;
        if (LivePreloadInteractionLayerSetting.INSTANCE.isEnablePreload(dataChannel) && isScreenPortrait() && C15380j0.LIZLLL() != null) {
            if (LiveMessageWsReuseSetting.webSocketReuse) {
                IMessageManager reuse = ((IMessageService) CN1.LIZ(IMessageService.class)).getReuse();
                if (reuse == null) {
                    o = ((IMessageService) CN1.LIZ(IMessageService.class)).messageManagerProvider(this.mRoom.getId(), false, getContext(), true);
                } else {
                    ((IMessageService) CN1.LIZ(IMessageService.class)).updateRoomInfo(this.mRoom.getId(), getContext());
                    o = reuse;
                }
                if (this.mDataChannel.kv0(C29927Bop.class) == null) {
                    ((C32537Cpp) this.mDataChannel.gv0(C29927Bop.class)).LIZ = o;
                }
            } else if (((IMessageService) CN1.LIZ(IMessageService.class)).get(this.mRoom.getId()) == null) {
                ((C32537Cpp) this.mDataChannel.gv0(C29927Bop.class)).LIZ = ((IMessageService) CN1.LIZ(IMessageService.class)).messageManagerProvider(this.mRoom.getId(), false, C15380j0.LIZLLL());
                ((IMessageService) CN1.LIZ(IMessageService.class)).get(this.mRoom.getId());
            }
        }
        DataChannel dataChannel2 = this.mDataChannel;
        ((C32537Cpp) dataChannel2.gv0(BCN.class)).LIZ = Long.valueOf(this.mRoom.getId());
        ((C32537Cpp) dataChannel2.gv0(BCX.class)).LIZ = liveMode;
        setMicRoomLinkMicTypeData();
        setPresetData(this.mDataChannel);
        alogRoomInfo();
        applyArguments();
        if (this.mEnterLiveSource == null) {
            this.mEnterLiveSource = "";
        }
        this.mLiveStatusListener = abstractC30130Bs6;
        C30184Bsy.LIZ = false;
    }

    public boolean interceptCloseRoom(Runnable runnable, boolean z, boolean z2, C28268B7o c28268B7o) {
        Iterator<InterfaceC30131Bs7> it = this.closeRoomInterceptorList.iterator();
        while (it.hasNext()) {
            if (it.next().LJJLIIIJLJLI(runnable, z, z2, c28268B7o)) {
                return true;
            }
        }
        return false;
    }

    private ValueAnimator createPortrait2LandscapeAnimation(View view, View view2, View view3, int i, boolean z) {
        ValueAnimator ofInt = ValueAnimator.ofInt(i, 0);
        ofInt.setDuration(200L);
        ofInt.setInterpolator(new AccelerateInterpolator());
        ViewGroup.MarginLayoutParams marginLayoutParams = (ViewGroup.MarginLayoutParams) view3.getLayoutParams();
        if (z) {
            ofInt.addUpdateListener(new AUListenerS46S0400000_4(view, view2, marginLayoutParams, view3, 0));
        } else {
            ofInt.addUpdateListener(new AUListenerS46S0400000_4(view, view2, marginLayoutParams, view3, 1));
        }
        return ofInt;
    }
}
