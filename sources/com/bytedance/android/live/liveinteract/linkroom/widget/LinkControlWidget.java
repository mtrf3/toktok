package com.bytedance.android.live.liveinteract.linkroom.widget;

import X.AbstractC75942TrG;
import X.AnonymousClass172;
import X.B4U;
import X.B57;
import X.B5G;
import X.B83;
import X.BCX;
import X.BPP;
import X.BZI;
import X.C00F;
import X.C03660Ck;
import X.C03880Dg;
import X.C05170If;
import X.C05630Jz;
import X.C0K2;
import X.C0NB;
import X.C0NE;
import X.C0RN;
import X.C15380j0;
import X.C15510jD;
import X.C15610jN;
import X.C15890jp;
import X.C16880lQ;
import X.C19N;
import X.C19U;
import X.C221108m2;
import X.C25620zW;
import X.C28268B7o;
import X.C28272B7s;
import X.C28413BDd;
import X.C28414BDe;
import X.C28509BGv;
import X.C28643BLz;
import X.C28733BPl;
import X.C28787BRn;
import X.C29044Baa;
import X.C29129Bbx;
import X.C29232Bdc;
import X.C29306Beo;
import X.C29374Bfu;
import X.C29494Bhq;
import X.C29616Bjo;
import X.C29628Bk0;
import X.C29629Bk1;
import X.C30591Hz;
import X.C30770C5u;
import X.C30868C9o;
import X.C30922CBq;
import X.C31012CFc;
import X.C31457CWf;
import X.C31612Cau;
import X.C31811Ce7;
import X.C31978Cgo;
import X.C32014ChO;
import X.C32537Cpp;
import X.C38354F3m;
import X.C44375HbH;
import X.C44432HcC;
import X.C44878HjO;
import X.C45243HpH;
import X.C47071t1;
import X.C47261Igj;
import X.C48451Izv;
import X.C48459J0d;
import X.C51029K0z;
import X.C58414MwE;
import X.C58418MwI;
import X.C58420MwK;
import X.C59994Ngc;
import X.C61878OQg;
import X.C62822Ol8;
import X.C65300Pk0;
import X.C72969SkP;
import X.C73411SrX;
import X.C73969T1h;
import X.C74614TQc;
import X.C74697TTh;
import X.C74726TUk;
import X.C74736TUu;
import X.C74738TUw;
import X.C74740TUy;
import X.C74744TVc;
import X.C74751TVj;
import X.C74776TWi;
import X.C74777TWj;
import X.C74789TWv;
import X.C74791TWx;
import X.C74792TWy;
import X.C74793TWz;
import X.C74801TXh;
import X.C74803TXj;
import X.C74824TYe;
import X.C74825TYf;
import X.C74830TYk;
import X.C74838TYs;
import X.C74840TYu;
import X.C74945TbB;
import X.C75017TcL;
import X.C75027TcV;
import X.C75150TeU;
import X.C75154TeY;
import X.C75457TjR;
import X.C75460TjU;
import X.C75464TjY;
import X.C75466Tja;
import X.C75467Tjb;
import X.C75470Tje;
import X.C75473Tjh;
import X.C75474Tji;
import X.C75475Tjj;
import X.C75480Tjo;
import X.C75489Tjx;
import X.C75492Tk0;
import X.C75503TkB;
import X.C75505TkD;
import X.C75515TkN;
import X.C75525TkX;
import X.C75536Tki;
import X.C75559Tl5;
import X.C75589TlZ;
import X.C75621Tm5;
import X.C75642TmQ;
import X.C75648TmW;
import X.C75650TmY;
import X.C75678Tn0;
import X.C75842Tpe;
import X.C75852Tpo;
import X.C75853Tpp;
import X.C75893TqT;
import X.C76128TuG;
import X.C76680U7o;
import X.C76800UCe;
import X.C77125UOr;
import X.C78857UxB;
import X.C78862UxG;
import X.C7MY;
import X.C8E;
import X.CFX;
import X.CL8;
import X.CN1;
import X.EnumC2322299m;
import X.EnumC29835BnL;
import X.EnumC30204BtI;
import X.EnumC38440F6u;
import X.EnumC74778TWk;
import X.EnumC74827TYh;
import X.EnumC74990Tbu;
import X.EnumC75182Tf0;
import X.EnumC75445TjF;
import X.EnumC75465TjZ;
import X.EnumC75468Tjc;
import X.EnumC75614Tly;
import X.EnumC75636TmK;
import X.EnumC75674Tmw;
import X.EnumC75692TnE;
import X.EnumC75775ToZ;
import X.EnumC76178Tv4;
import X.EnumC76391TyV;
import X.FT5;
import X.InterfaceC30237Btp;
import X.InterfaceC30442Bx8;
import X.InterfaceC32212Cka;
import X.InterfaceC65349Pkn;
import X.InterfaceC65784Pro;
import X.InterfaceC74805TXl;
import X.InterfaceC75472Tjg;
import X.InterfaceC75478Tjm;
import X.InterfaceC75487Tjv;
import X.InterfaceC75495Tk3;
import X.InterfaceC75523TkV;
import X.InterfaceC75558Tl4;
import X.InterfaceC75855Tpr;
import X.ORZ;
import X.Q7L;
import X.QZP;
import X.T16;
import X.TS1;
import X.TS8;
import X.TUX;
import X.TVY;
import X.TX1;
import X.TX2;
import X.TYQ;
import X.U44;
import X.U4A;
import X.U4C;
import X.UCI;
import X.ViewOnClickListenerC75461TjV;
import X.ViewOnClickListenerC76430Tz8;
import X.X1D;
import Y.ACListenerS22S0210000_13;
import Y.ACListenerS38S0300000_13;
import Y.ACListenerS47S0200000_13;
import Y.AObjectS10S0001000_5;
import Y.AObjectS14S0001000_13;
import Y.AObjectS42S0101000_5;
import Y.AObjectS43S0101000_7;
import Y.AObjectS45S0101000_13;
import Y.AObjectS47S0101000_2;
import Y.AObjectS56S0101000_13;
import Y.ARunnableS11S0101000_7;
import Y.ARunnableS11S0110000_5;
import Y.ARunnableS12S0101000_8;
import Y.ARunnableS17S0101000_13;
import Y.ARunnableS4S1101000_13;
import Y.AfS62S0200000_13;
import Y.IDcS172S0100000_13;
import android.os.SystemClock;
import android.text.TextUtils;
import android.view.View;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentManager;
import androidx.lifecycle.Lifecycle;
import androidx.lifecycle.LifecycleOwner;
import com.bytedance.android.live.base.model.ImageModel;
import com.bytedance.android.live.base.model.user.User;
import com.bytedance.android.live.broadcast.api.IBroadcastService;
import com.bytedance.android.live.browser.IBrowserService;
import com.bytedance.android.live.design.app.LiveDialog;
import com.bytedance.android.live.interaction.drawguess.DrawGuessInGameSessionChannel;
import com.bytedance.android.live.liveinteract.InteractServiceDel;
import com.bytedance.android.live.liveinteract.api.BaseLinkControlWidget;
import com.bytedance.android.live.liveinteract.api.CoHostLiveWidget;
import com.bytedance.android.live.liveinteract.api.IInteractService;
import com.bytedance.android.live.liveinteract.api.LinkAnchorOpenOrClickUserCardEvent;
import com.bytedance.android.live.liveinteract.api.LinkBattleBeInvitedEvent;
import com.bytedance.android.live.liveinteract.api.LinkCoHostInviteEntranceShowEvent;
import com.bytedance.android.live.liveinteract.api.LinkConnectionTypeChangedEvent;
import com.bytedance.android.live.liveinteract.api.LinkCrossRoomMatchSuccessEvent;
import com.bytedance.android.live.liveinteract.api.LinkCrossRoomStateChangeEvent;
import com.bytedance.android.live.liveinteract.api.LinkMicAnchorWidget;
import com.bytedance.android.live.liveinteract.api.LinkMultiCoHostInviteViolationDialogEvent;
import com.bytedance.android.live.liveinteract.api.LinkRandomLinkMicCancelEvent;
import com.bytedance.android.live.liveinteract.api.LinkerStateChannel;
import com.bytedance.android.live.liveinteract.api.MultiCoHostFeedbackDialogOpenEvent;
import com.bytedance.android.live.liveinteract.api.MultiCoHostFeedbackSubmitEvent;
import com.bytedance.android.live.liveinteract.api.MultiGuestStartFromCoHostValue;
import com.bytedance.android.live.liveinteract.api.MultiGuestV3GuestDismissReviewDialogEvent;
import com.bytedance.android.live.liveinteract.api.MultiGuestV3GuestShowReviewDialogEvent;
import com.bytedance.android.live.liveinteract.api.OpenMultiLivePanelEvent;
import com.bytedance.android.live.liveinteract.api.RequestSettingSuccessEvent;
import com.bytedance.android.live.liveinteract.api.TopicPairEvent;
import com.bytedance.android.live.liveinteract.api.dataholder.LinkCrossRoomDataHolder;
import com.bytedance.android.live.liveinteract.api.event.CoHostApplyDialogShowEvent;
import com.bytedance.android.live.liveinteract.api.event.MultiCoHostInvitePanelEvent;
import com.bytedance.android.live.liveinteract.api.event.OpenCoHostListPanelEvent;
import com.bytedance.android.live.liveinteract.linkroom.business.contract.InteractDialogFragmentBaseContract$AbsView;
import com.bytedance.android.live.liveinteract.linkroom.dataholder.LinkControlDataHolder;
import com.bytedance.android.live.liveinteract.linkroom.widget.LinkControlWidget;
import com.bytedance.android.live.liveinteract.match.business.event.BattleDisappearDebugEvent;
import com.bytedance.android.live.liveinteract.match.business.event.BattleReMatchStateChannel;
import com.bytedance.android.live.liveinteract.match.business.event.BattleStateChannel;
import com.bytedance.android.live.liveinteract.multiguestv3.HadInitLinkMicChannel;
import com.bytedance.android.live.liveinteract.multiguestv3.main.anchor.model.AnchorOpenCameraEvent;
import com.bytedance.android.live.liveinteract.multiguestv3.main.common.MultiGuestDataHolder;
import com.bytedance.android.live.liveinteract.multiguestv3.main.common.channel.MultiGuestCreateChannelAdaptMicRoom;
import com.bytedance.android.live.liveinteract.multihost.biz.dialog.LinkDialog;
import com.bytedance.android.live.liveinteract.multihost.biz.event.CoHostCmdDismissLinkDialogEvent;
import com.bytedance.android.live.liveinteract.multihost.biz.event.CoHostInviteCountDownUpdateChannel;
import com.bytedance.android.live.liveinteract.multihost.biz.event.CoHostResumeEvent;
import com.bytedance.android.live.liveinteract.multihost.biz.link.MultiCoHostWidget;
import com.bytedance.android.live.liveinteract.multihost.biz.link.contract.MultiCoHostInviteListContract$AbsView;
import com.bytedance.android.live.liveinteract.multihost.biz.link.fragment.MultiCoHostBeInvitedFragment;
import com.bytedance.android.live.liveinteract.multihost.biz.quickpairing.RandomLinkMicManager;
import com.bytedance.android.live.liveinteract.multihost.biz.topicroundtable.ui.dialog.TopicPairPreviewDialog;
import com.bytedance.android.live.liveinteract.multihost.core.model.MHPermitJoinBizContent;
import com.bytedance.android.live.liveinteract.multihost.event.CoHostOnboardPermitChannel;
import com.bytedance.android.live.liveinteract.multihost.event.MultiCoHostFullChannel;
import com.bytedance.android.live.liveinteract.multihost.event.MultiGuestEndEvent;
import com.bytedance.android.live.liveinteract.multihost.event.MultiLivePermitChannel;
import com.bytedance.android.live.liveinteract.multilive.model.MultiGuestPermissionInfo;
import com.bytedance.android.live.liveinteract.multilive.model.MultiGuestReserveReqParams;
import com.bytedance.android.live.liveinteract.multilive.model.RoomHostMultiGuestPermissionInfo;
import com.bytedance.android.live.liveinteract.multimatch.widget.MatchBaseWidget;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.AudienceTurnOnLinkEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.CoHostBeInvitedDialogShow;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.CoHostInProgressChanged;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.LinkMicIconMutex;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.LinkStateChannel;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.LoadMultiGuestReservationWidgetEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestAnchorInProgressEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestApplyNumChangedEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestAudienceNumChangedEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestCancelReservationMsgReceivedEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestOpenWaitingDialog;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestReservationMsgReceivedEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestResetIconRedDotNumInReservationEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.MultiGuestShowReservationBubbleEvent;
import com.bytedance.android.live.liveinteract.platform.common.datachannel.RequestFrequencyEndEvent;
import com.bytedance.android.live.liveinteract.platform.common.monitor.DeepLinkEnterMultiLiveRoomDataHandler;
import com.bytedance.android.live.liveinteract.platform.common.monitor.MultiGuestSeiAbnormalDetector;
import com.bytedance.android.live.liveinteract.platform.common.utils.LinkMicAppBundleUtil;
import com.bytedance.android.live.liveinteract.platform.core.LinkerManager;
import com.bytedance.android.live.liveinteract.platform.core.message.LinkMessageCenter;
import com.bytedance.android.live.microom.IMicRoomService;
import com.bytedance.android.live.room.FollowAnchorStateChangeEvent;
import com.bytedance.android.live.room.MicRoomDisableInteractionEvent;
import com.bytedance.android.live.room.OneTapGoLiveEvent;
import com.bytedance.android.live.room.SeiCacheChannel;
import com.bytedance.android.livesdk.chatroom.api.LinkApi;
import com.bytedance.android.livesdk.chatroom.model.multilive.MultiLiveAnchorPanelSettings;
import com.bytedance.android.livesdk.comp.api.game.linkmic.IGameLinkMicService;
import com.bytedance.android.livesdk.comp.api.linkcore.IAutoTestCohostService;
import com.bytedance.android.livesdk.dataChannel.AdminPermissionUpdateChannel;
import com.bytedance.android.livesdk.dataChannel.AudienceInteractionDialogLinkHostClickEvent;
import com.bytedance.android.livesdk.dataChannel.BroadcastEnableSubOnlyLiveEvent;
import com.bytedance.android.livesdk.dataChannel.BufferingEvent;
import com.bytedance.android.livesdk.dataChannel.LinkAudienceTurnOnGuideEvent;
import com.bytedance.android.livesdk.dataChannel.LoadUserAttrSuccess;
import com.bytedance.android.livesdk.dataChannel.OpenCoHostEvent;
import com.bytedance.android.livesdk.dataChannel.PIPStatusData;
import com.bytedance.android.livesdk.dataChannel.RoomChannel;
import com.bytedance.android.livesdk.dataChannel.UserIsAnchorChannel;
import com.bytedance.android.livesdk.livesetting.broadcast.LiveSdkGuestOneVnSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkMicEnableNoticeVoice;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkMicMultiGuestV3AndroidModeratorTechSwitchSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkMicMultiGuestV3UseTimeFixSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkmicAudienceMultiGuestReservationSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkmicLayoutTrackerEnableSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LinkmicSdkMultiGuestIconVisibilityFixSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LiveCohostEnableMatchResumeSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LiveLinkmicEnableAudienceDisconnectConclusionPanelEnabledSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LiveSdkHeartBeatReportOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.LiveSdkMultiGuestLeakOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MtCoHostFullLinkMonitorSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestOptAnchorConnectOverReportSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestPlayerFreezeSwitchSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestUseLinkmicAloggerSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiGuestV3RoomLoadingOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.MultiHostPauseLiveAudienceUISetting;
import com.bytedance.android.livesdk.livesetting.linkmic.TTliveOneTapGoliveEntranceSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.cohost.CoHostOpenInvitePanelBugFixSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.cohost.EnableCoHostDetailedDisableReasonSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.cohost.LiveCohostMultiApplyConflictDialogDismissFixSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.cohost.MultiCohostRoomLoadingOptSetting;
import com.bytedance.android.livesdk.livesetting.linkmic.multilive.MultiGuestV3AnimSetting;
import com.bytedance.android.livesdk.livesetting.performance.UnusedLogOfflineSetting;
import com.bytedance.android.livesdk.model.linksetting.MultiLiveUserApplySettings;
import com.bytedance.android.livesdk.model.linksetting.MultiLiveUserSettings;
import com.bytedance.android.livesdk.model.message.CohostReserveMessage;
import com.bytedance.android.livesdk.model.message.LinkMessage;
import com.bytedance.android.livesdk.model.message.LinkMicAnchorGuideMessage;
import com.bytedance.android.livesdk.model.message.OptPairInfo;
import com.bytedance.android.livesdk.model.message.ReplyContent;
import com.bytedance.android.livesdk.model.message.ReserveContent;
import com.bytedance.android.livesdk.model.message.ReserveInfo;
import com.bytedance.android.livesdk.model.message.linker.invite_message.LinkerInviteContent;
import com.bytedance.android.livesdk.utils.LiveAppBundleUtils;
import com.bytedance.android.livesdkapi.depend.model.live.LiveMode;
import com.bytedance.android.livesdkapi.depend.model.live.Room;
import com.bytedance.android.livesdkapi.depend.model.live.StreamUrl;
import com.bytedance.android.livesdkapi.host.IHostAppContext;
import com.bytedance.android.livesdkapi.session.EnterRoomConfig;
import com.bytedance.android.livesdkapi.session.EnterRoomLinkSession;
import com.bytedance.ies.sdk.datachannel.DataChannel;
import com.bytedance.ies.sdk.datachannel.DataChannelGlobal;
import com.bytedance.ies.sdk.widgets.LiveWidget;
import com.bytedance.mt.protector.impl.collections.ListProtector;
import com.bytedance.mt.protector.impl.string2number.CastLongProtector;
import com.ss.android.ugc.aweme.feed.model.CardStruct;
import com.ss.ttvideoengine.TTVideoEngine;
import com.zhiliaoapp.musically.R;
import defpackage.b1;
import defpackage.g0;
import java.io.IOException;
import java.lang.reflect.Field;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.concurrent.ConcurrentHashMap;
import kotlin.jvm.internal.AqS179S0100000_13;
import kotlin.jvm.internal.AqS195S0100000_13;
import kotlin.jvm.internal.o;
import org.json.JSONObject;

/* loaded from: classes14.dex */
public class LinkControlWidget extends BaseLinkControlWidget implements InterfaceC75495Tk3, InterfaceC75523TkV {
    public static final Long LLFII = -1L;
    public LinkMicAnchorWidget LJLILLLLZI;
    public LinkMicAnchorWidget LJLJI;
    public InterfaceC75472Tjg LJLJJI;
    public InterfaceC75472Tjg LJLJJL;
    public CoHostLiveWidget LJLJJLL;
    public InterfaceC75487Tjv LJLJL;
    public C75492Tk0 LJLJLJ;
    public Room LJLJLLL;
    public LiveMode LJLL;
    public boolean LJLLI;
    public InterfaceC32212Cka LJLLILLLL;
    public boolean LJLLJ;
    public int LJLLL;
    public final C75154TeY LJLLLL = new C75154TeY(this, this);
    public boolean LJLLLLLL = false;
    public boolean LJLZ = false;
    public boolean LJZ = false;
    public C48451Izv LJZI;
    public final AObjectS47S0101000_2 LJZL;
    public LiveDialog LL;
    public final C62822Ol8 LLD;
    public EnumC75636TmK LLF;
    public EnumC76178Tv4 LLFF;
    public EnumC76178Tv4 LLFFF;

    @InterfaceC75558Tl4(name = "LINK_MESSAGE_CENTER")
    public LinkMessageCenter mLinkMsgCenter;

    @InterfaceC75558Tl4(name = "LINKER_MANAGER")
    public LinkerManager mLinkerManager;

    @Override // com.bytedance.android.widget.Widget
    public final int getLayoutId() {
        return R.layout.dki;
    }

    @Override // com.bytedance.ies.sdk.widgets.LiveWidget, com.bytedance.android.widget.Widget
    public final void onDestroy() {
        long j;
        long j2;
        User owner;
        this.LJLLILLLL = null;
        LinkMessageCenter linkMessageCenter = this.mLinkMsgCenter;
        if (linkMessageCenter != null) {
            linkMessageCenter.LIZJ();
        }
        C75492Tk0 c75492Tk0 = this.LJLJLJ;
        if (c75492Tk0 != null) {
            c75492Tk0.detachView();
        }
        LJZL();
        DataChannel dataChannel = this.dataChannel;
        dataChannel.getClass();
        dataChannel.jv0(this);
        DataChannelGlobal dataChannelGlobal = DataChannelGlobal.LJLJJI;
        dataChannelGlobal.getClass();
        dataChannelGlobal.jv0(this);
        C74838TYs.LJ().LIZLLL = null;
        C74824TYe.LJIILJJIL = null;
        if (!this.LJLLI) {
            C74824TYe.LJJLJ("live_over", null);
        } else if (MultiGuestOptAnchorConnectOverReportSetting.INSTANCE.isEnable()) {
            C74830TYk.LJ(C59994Ngc.LIZJ(), this.dataChannel);
        }
        super.onDestroy();
        if (!LLFF()) {
            C75559Tl5.LIZIZ.LIZJ().clear();
        }
        C75852Tpo.LIZIZ();
        if (!this.LJLLI) {
            Room room = this.LJLJLLL;
            if (C75027TcV.LIZ()) {
                MultiGuestReserveReqParams multiGuestReserveReqParams = new MultiGuestReserveReqParams();
                multiGuestReserveReqParams.scene = 2;
                multiGuestReserveReqParams.appId = ((IHostAppContext) CN1.LIZ(IHostAppContext.class)).appId();
                multiGuestReserveReqParams.liveId = ((IHostAppContext) CN1.LIZ(IHostAppContext.class)).liveId();
                multiGuestReserveReqParams.fromUserId = ((C29374Bfu) B83.LIZ().LIZIZ()).getCurrentUserId();
                if (room != null && (owner = room.getOwner()) != null) {
                    j = owner.getId();
                } else {
                    j = 0;
                }
                multiGuestReserveReqParams.toUserId = j;
                if (room != null) {
                    j2 = room.getId();
                } else {
                    j2 = 0;
                }
                multiGuestReserveReqParams.roomId = j2;
                multiGuestReserveReqParams.type = 2;
                C75027TcV.LIZJ = U4A.LIZIZ(multiGuestReserveReqParams, new UCI());
            }
            C75027TcV.LIZ = 1;
            C75027TcV.LIZLLL = 0L;
        }
        C31811Ce7.LIZLLL("live_ab", "release sei");
        try {
            U4C.LIZIZ = false;
            U4C.LIZ.evictAll();
        } catch (Throwable th) {
            C0K2.LIZ("release error", th);
        }
        C76680U7o.LIZIZ();
        C73411SrX c73411SrX = C74726TUk.LIZ;
        if (c73411SrX != null) {
            c73411SrX.dispose();
        }
        C74726TUk.LIZ = null;
        C74726TUk.LIZIZ = -1L;
        if (((IGameLinkMicService) CN1.LIZ(IGameLinkMicService.class)).Sw(this.LJLJLLL)) {
            LLIIJLIL("onDestroy");
        }
        C48451Izv c48451Izv = this.LJZI;
        if (c48451Izv != null) {
            c48451Izv.release();
        }
        C75489Tjx c75489Tjx = C75489Tjx.LIZ;
        C75489Tjx.LJ.compareAndSet(false, true);
        C0NB.LIZIZ("LinkMicStallHelper", "onStallEnd");
        if (C75489Tjx.LIZJ) {
            C75489Tjx.LIZIZ = true;
            C75489Tjx.LIZ();
        }
        DataChannel dataChannel2 = C75489Tjx.LJI;
        if (dataChannel2 != null) {
            dataChannel2.jv0(c75489Tjx);
        }
        C75489Tjx.LJI = null;
        if (LinkMicMultiGuestV3AndroidModeratorTechSwitchSetting.INSTANCE.getValue()) {
            C74697TTh.LIZ = null;
            C74789TWv c74789TWv = C74789TWv.LIZ;
            C28733BPl.LJIILIIL().getClass();
            C0NE.LJII("MultiGuestAsGuestModeratorHelper", "clear");
            C74789TWv.LIZJ.clear();
            DataChannel dataChannel3 = C74789TWv.LIZIZ;
            if (dataChannel3 != null) {
                dataChannel3.jv0(c74789TWv);
            }
            C74789TWv.LIZIZ = null;
            C74789TWv.LIZLLL = false;
        }
        LiveDialog liveDialog = this.LL;
        if (liveDialog != null && liveDialog.isShowing()) {
            this.LL.dismiss();
        }
        if (LiveLinkmicEnableAudienceDisconnectConclusionPanelEnabledSetting.INSTANCE.isEnabled()) {
            this.dataChannel.qv0(MultiGuestV3GuestDismissReviewDialogEvent.class, C76800UCe.LIZ);
        }
        if (LiveSdkMultiGuestLeakOptSetting.INSTANCE.isEnable()) {
            C74838TYs.LJ().LJ = null;
            C74838TYs.LJ().LJFF = null;
            C74824TYe.LIZIZ = null;
        }
        if (LiveSdkHeartBeatReportOptSetting.INSTANCE.isEnable()) {
            B4U.LIZ().LLJILJIL = null;
        }
    }

    @Override // com.bytedance.android.live.liveinteract.api.BaseLinkControlWidget, com.bytedance.ies.sdk.widgets.LiveWidget, com.bytedance.android.widget.Widget, androidx.lifecycle.LifecycleEventObserver
    public final void onStateChanged(LifecycleOwner lifecycleOwner, Lifecycle.Event event) {
        super.onStateChanged(lifecycleOwner, event);
    }

    public static void LJZL() {
        C75852Tpo.LIZ("LinkDialog");
    }

    @Override // X.InterfaceC75495Tk3
    public final void C8() {
        C74776TWi.LIZJ(this.dataChannel);
    }

    @Override // com.bytedance.android.live.liveinteract.api.BaseLinkControlWidget
    public final void LJLZ() {
        InterfaceC30237Btp interfaceC30237Btp = this.LJLLLL.LIZIZ.LJLJLLL;
        ARunnableS12S0101000_8 aRunnableS12S0101000_8 = new ARunnableS12S0101000_8(0, this, 26);
        EnumC75468Tjc type = EnumC75468Tjc.MULTIGUEST;
        o.LJIIIZ(type, "type");
        C75515TkN.LIZ(interfaceC30237Btp, aRunnableS12S0101000_8, type, true);
    }

    @Override // com.bytedance.android.live.liveinteract.api.BaseLinkControlWidget
    public final void LJZ() {
        if (MtCoHostFullLinkMonitorSetting.INSTANCE.isEnable() && C8E.LIZLLL().LLII().isInProgress()) {
            C8E.LIZLLL().LJJJJLL();
        }
        C75642TmQ.LJIIZILJ = true;
        C75893TqT.LIZIZ = new HashMap();
        C75650TmY.LIZ(false);
    }

    public final boolean LJZI() {
        EnumC38440F6u enumC38440F6u = EnumC38440F6u.LINK_MIC;
        if (!LiveAppBundleUtils.isPluginAvailable(enumC38440F6u)) {
            LiveAppBundleUtils.ensurePluginAvailable(enumC38440F6u);
            C30868C9o.LIZJ(R.string.nnu);
            return false;
        }
        if (this.LJLLLLLL) {
            C30868C9o.LIZJ(R.string.ly3);
            return false;
        }
        Room room = this.LJLJLLL;
        if (room == null || room.getMosaicStatus() != 1) {
            return true;
        }
        C30868C9o.LIZJ(R.string.sve);
        return false;
    }

    public final JSONObject LL() {
        String str;
        String str2;
        JSONObject jSONObject = new JSONObject();
        LinkCrossRoomDataHolder LIZIZ = B5G.LIZIZ();
        if (LIZIZ.LJIIL) {
            str = "inviter";
        } else {
            str = "invitee";
        }
        C05630Jz.LJI(jSONObject, "role_type", str);
        if (LIZIZ.LJIIIZ) {
            str2 = "random";
        } else {
            str2 = "normal";
        }
        C05630Jz.LJI(jSONObject, "from", str2);
        return jSONObject;
    }

    public final boolean LLF() {
        if (this.LJLLI) {
            if (this.LJLJI != null) {
                return true;
            }
            return false;
        }
        if (this.LJLJJL != null) {
            return true;
        }
        return false;
    }

    public final boolean LLFF() {
        Integer num;
        C31978Cgo c31978Cgo = (C31978Cgo) DataChannelGlobal.LJLJJI.mv0(C29129Bbx.class);
        if (c31978Cgo == null || (num = c31978Cgo.LIZIZ) == null || num.intValue() != 1 || !TTliveOneTapGoliveEntranceSetting.INSTANCE.getValue()) {
            return false;
        }
        return true;
    }

    public final void LLFFF() {
        if (this.LJLLI) {
            this.LJLJI = (LinkMicAnchorWidget) this.LJLLILLLL.LIZIZ(7, false);
            C75150TeU c75150TeU = this.LJLLLL.LIZIZ;
            c75150TeU.LJLJLJ = true;
            c75150TeU.F();
            this.LJLLLL.LIZ(0, 0);
        } else {
            this.LJLJJL = (InterfaceC75472Tjg) this.LJLLILLLL.LIZIZ(8, false);
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("load reservationWidget ");
        C19U.LIZJ(LIZ, this.LJLLI, LIZ, "ReservationLinkControlWidget");
    }

    public final String LLFZ() {
        if (!MultiGuestUseLinkmicAloggerSetting.INSTANCE.isEnable()) {
            return "LinkControlWidget";
        }
        StackTraceElement LJ = C32014ChO.LJ();
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append(U44.BIZ.getValue());
        LIZ.append("_");
        LIZ.append("LinkControlWidget");
        LIZ.append("_");
        LIZ.append(LJ.getLineNumber());
        return X1D.LIZIZ(LIZ);
    }

    public final boolean LLIIJI() {
        Object kv0;
        JSONObject jSONObject = new JSONObject();
        C75648TmW c75648TmW = B5G.LIZIZ().LJJJ;
        if (c75648TmW == null) {
            c75648TmW = new C75648TmW("others");
            B5G.LIZIZ().LJJJ = c75648TmW;
        }
        C05630Jz.LJI(jSONObject, "from", c75648TmW.LIZ);
        C05630Jz.LJI(jSONObject, "room_id", this.LJLJLLL.getIdStr());
        C05630Jz.LJI(jSONObject, "record_id", this.LJLJLLL.getIdStr());
        C05630Jz.LJFF(jSONObject, "user_id", this.LJLJLLL.getOwnerUserId());
        C58418MwI.LIZLLL.LJIIJ(jSONObject);
        if (!CoHostOpenInvitePanelBugFixSetting.isEnable() && !((IInteractService) CN1.LIZ(IInteractService.class)).UX() && !((IInteractService) CN1.LIZ(IInteractService.class)).ta0()) {
            C30868C9o.LIZJ(R.string.kh8);
            return false;
        }
        this.LJLJLJ.getClass();
        B5G.LIZIZ().LJ();
        if (C75852Tpo.LIZLLL() || (kv0 = this.dataChannel.kv0(C29616Bjo.class)) == EnumC75674Tmw.NONE) {
            return false;
        }
        if (kv0 == EnumC75674Tmw.SUPPORT_MULTI) {
            DataChannel dataChannel = this.dataChannel;
            LinkDialog linkDialog = new LinkDialog(this);
            EnumC76391TyV enumC76391TyV = EnumC76391TyV.INVITE_MULTI_CO_HOST_USER_LIST_FRAGMENT;
            C75475Tjj c75475Tjj = new C75475Tjj();
            c75475Tjj.LIZIZ = false;
            c75475Tjj.LIZJ = null;
            linkDialog.Al(enumC76391TyV, c75475Tjj);
            C75842Tpe.LIZ(dataChannel, linkDialog, "LinkDialog");
            return true;
        }
        return true;
    }

    /* JADX WARN: Type inference failed for: r1v3, types: [java.lang.Integer, O] */
    public final void LLIIZ() {
        int i;
        if (this.dataChannel == null || !LiveAppBundleUtils.isPluginAvailable(EnumC38440F6u.LINK_MIC)) {
            return;
        }
        LinkerManager linkerManager = this.mLinkerManager;
        boolean z = linkerManager.LIZ;
        boolean z2 = linkerManager.LIZIZ;
        int i2 = 0;
        if (z) {
            if (z2) {
                i = 3;
            } else {
                i = 1;
            }
        } else if (z2) {
            i = 2;
        } else {
            i = 0;
        }
        if (!Objects.equals(this.dataChannel.kv0(CoHostOnboardPermitChannel.class), Boolean.FALSE)) {
            i2 = i;
        }
        ((C32537Cpp) this.dataChannel.gv0(C28414BDe.class)).LIZ = Integer.valueOf(i2);
        QZP.LIZJ("newestStatus = ", i2, "updateLinkMicEnableStatus");
    }

    @Override // com.bytedance.ies.sdk.widgets.LiveWidget, com.bytedance.android.widget.Widget
    public final void onCreate() {
        EnterRoomLinkSession enterRoomLinkSession;
        EnterRoomConfig enterRoomConfig;
        MultiLiveUserSettings multiLiveUserSettings;
        MultiLiveUserApplySettings multiLiveUserApplySettings;
        RoomHostMultiGuestPermissionInfo roomHostMultiGuestPermissionInfo;
        MultiGuestPermissionInfo multiGuestPermissionInfo;
        super.onCreate();
        if (this.dataChannel == null) {
            return;
        }
        LLIIJLIL("onCreate");
        C75559Tl5 c75559Tl5 = C75559Tl5.LIZIZ;
        c75559Tl5.LJI(new LinkControlDataHolder(), "LINK_CONTROL_DATA_HOLDER");
        if (LinkMicMultiGuestV3AndroidModeratorTechSwitchSetting.INSTANCE.getValue()) {
            DataChannel dataChannel = this.dataChannel;
            C74697TTh.LIZ = dataChannel;
            C74789TWv c74789TWv = C74789TWv.LIZ;
            C28733BPl.LJIILIIL().getClass();
            C0NE.LJII("MultiGuestAsGuestModeratorHelper", "init");
            C74789TWv.LIZIZ = dataChannel;
            C74789TWv.LIZLLL = C74789TWv.LIZIZ();
            if (dataChannel != null) {
                dataChannel.mv0(AdminPermissionUpdateChannel.class, c74789TWv, C74791TWx.LJLIL);
                dataChannel.mv0(RequestSettingSuccessEvent.class, c74789TWv, C74792TWy.LJLIL);
                dataChannel.mv0(LoadUserAttrSuccess.class, c74789TWv, C74793TWz.LJLIL);
            }
        }
        this.LJLLLLLL = ((IMicRoomService) CN1.LIZ(IMicRoomService.class)).rk();
        this.LJLJLLL = (Room) this.dataChannel.kv0(RoomChannel.class);
        this.LJLLI = ((Boolean) this.dataChannel.kv0(UserIsAnchorChannel.class)).booleanValue();
        this.LJLL = (LiveMode) this.dataChannel.kv0(BCX.class);
        int i = 0;
        C76128TuG.LIZ(this.dataChannel, true, false);
        if (this.LJLLI && !C29232Bdc.LJIILIIL(this.LJLJLLL)) {
            EnumC30204BtI.COHOST.load(this.dataChannel, this.LJLLLL.LIZ, false);
        }
        EnumC30204BtI.MULTIGUEST.load(this.dataChannel, this.LJLLLL.LIZIZ, false);
        this.LJLLLL.LJFF(8, 17);
        LinkMessageCenter linkMessageCenter = new LinkMessageCenter(this.dataChannel);
        this.mLinkMsgCenter = linkMessageCenter;
        linkMessageCenter.LIZIZ();
        c75559Tl5.LJI(new LinkerManager(), null);
        c75559Tl5.LJI(this.mLinkMsgCenter, null);
        c75559Tl5.LIZLLL(this);
        C75492Tk0 c75492Tk0 = new C75492Tk0(this.LJLJLLL, this.LJLLI, this.LJLL);
        this.LJLJLJ = c75492Tk0;
        c75492Tk0.attachView(this);
        DataChannel dataChannel2 = this.dataChannel;
        dataChannel2.lv0(this, AudienceTurnOnLinkEvent.class, new AObjectS42S0101000_5(0, this, 34));
        dataChannel2.mv0(LinkCrossRoomStateChangeEvent.class, this, new AObjectS42S0101000_5(0, this, 39));
        dataChannel2.lv0(this, OpenCoHostEvent.class, new AObjectS42S0101000_5(0, this, 51));
        dataChannel2.lv0(this, LinkAudienceTurnOnGuideEvent.class, new AObjectS42S0101000_5(0, this, 36));
        dataChannel2.lv0(this, LinkBattleBeInvitedEvent.class, new AObjectS45S0101000_13(0, this, 3));
        dataChannel2.lv0(this, MultiGuestAnchorInProgressEvent.class, new AObjectS45S0101000_13(0, this, 4));
        dataChannel2.lv0(this, CoHostInProgressChanged.class, new AObjectS45S0101000_13(0, this, 7));
        dataChannel2.lv0(this, MultiGuestCreateChannelAdaptMicRoom.class, new AObjectS42S0101000_5(0, this, 40));
        dataChannel2.lv0(this, LinkConnectionTypeChangedEvent.class, new AObjectS45S0101000_13(0, this, 9));
        dataChannel2.lv0(this, CoHostCmdDismissLinkDialogEvent.class, new AObjectS42S0101000_5(0, this, 44));
        dataChannel2.lv0(this, LinkMicIconMutex.class, new AObjectS45S0101000_13(0, this, 10));
        dataChannel2.lv0(this, MultiCoHostFullChannel.class, new AObjectS14S0001000_13(0, 2));
        dataChannel2.lv0(this, AnchorOpenCameraEvent.class, new AObjectS42S0101000_5(0, this, 47));
        dataChannel2.lv0(this, RequestFrequencyEndEvent.class, new AObjectS45S0101000_13(0, this, 11));
        dataChannel2.lv0(this, MultiGuestApplyNumChangedEvent.class, new AObjectS42S0101000_5(0, this, 33));
        dataChannel2.lv0(this, MultiGuestReservationMsgReceivedEvent.class, new AObjectS42S0101000_5(0, this, 35));
        dataChannel2.lv0(this, MultiGuestResetIconRedDotNumInReservationEvent.class, new AObjectS43S0101000_7(0, this, 3));
        dataChannel2.lv0(this, MultiGuestCancelReservationMsgReceivedEvent.class, new AObjectS42S0101000_5(0, this, 37));
        dataChannel2.lv0(this, MultiGuestShowReservationBubbleEvent.class, new AObjectS45S0101000_13(0, this, 6));
        dataChannel2.lv0(this, FollowAnchorStateChangeEvent.class, new C31457CWf(i, this));
        dataChannel2.lv0(this, LinkAnchorOpenOrClickUserCardEvent.class, new AObjectS42S0101000_5(0, this, 42));
        dataChannel2.lv0(this, LinkMultiCoHostInviteViolationDialogEvent.class, new AObjectS42S0101000_5(0, this, 43));
        dataChannel2.lv0(this, LinkCoHostInviteEntranceShowEvent.class, new AObjectS14S0001000_13(0, 1));
        dataChannel2.lv0(this, CoHostOnboardPermitChannel.class, new AObjectS42S0101000_5(0, this, 45));
        dataChannel2.lv0(this, MultiLivePermitChannel.class, new AObjectS42S0101000_5(0, this, 46));
        dataChannel2.lv0(this, MultiCoHostFeedbackDialogOpenEvent.class, new AObjectS42S0101000_5(0, this, 48));
        dataChannel2.lv0(this, MultiCoHostFeedbackSubmitEvent.class, new AObjectS10S0001000_5(0, 5));
        dataChannel2.lv0(this, LoadMultiGuestReservationWidgetEvent.class, new AObjectS42S0101000_5(0, this, 49));
        dataChannel2.lv0(this, MultiGuestEndEvent.class, new AObjectS42S0101000_5(0, this, 50));
        dataChannel2.lv0(this, TopicPairEvent.class, new AObjectS45S0101000_13(0, this, 12));
        dataChannel2.lv0(this, CoHostResumeEvent.class, new AObjectS42S0101000_5(0, this, 53));
        dataChannel2.lv0(this, MultiGuestV3GuestShowReviewDialogEvent.class, new AObjectS42S0101000_5(0, this, 54));
        dataChannel2.lv0(this, MultiGuestV3GuestDismissReviewDialogEvent.class, new AObjectS42S0101000_5(0, this, 56));
        dataChannel2.lv0(this, BattleDisappearDebugEvent.class, new AObjectS42S0101000_5(0, this, 57));
        dataChannel2.lv0(this, OpenMultiLivePanelEvent.class, new AObjectS42S0101000_5(0, this, 58));
        DataChannelGlobal dataChannelGlobal = DataChannelGlobal.LJLJJI;
        dataChannelGlobal.ov0(MultiGuestOpenWaitingDialog.class, this, new AObjectS42S0101000_5(0, this, 60));
        dataChannelGlobal.ov0(OneTapGoLiveEvent.class, this, new AObjectS42S0101000_5(0, this, 61));
        dataChannelGlobal.ov0(MultiCoHostInvitePanelEvent.class, this, new AObjectS42S0101000_5(0, this, 31));
        dataChannelGlobal.ov0(OpenCoHostListPanelEvent.class, this, new AObjectS43S0101000_7(0, this, 2));
        C74744TVc c74744TVc = new C74744TVc();
        boolean z = this.LJLLI;
        boolean z2 = this.LJLLLLLL;
        int i2 = this.LJLLL;
        C75154TeY mInteractionBehavior = this.LJLLLL;
        DataChannel dataChannel3 = this.dataChannel;
        o.LJIIIZ(mInteractionBehavior, "mInteractionBehavior");
        TX2 tx2 = (TX2) c75559Tl5.LIZIZ("LINK_MIC_APP_BUNDLE_UTIL");
        if (tx2 == null) {
            tx2 = new LinkMicAppBundleUtil(z);
            c75559Tl5.LJI(tx2, null);
        }
        C58414MwE.LIZLLL.LJIIIZ("load_plugin", null);
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("start load linkmic plugin silently. ");
        LIZ.append(c74744TVc);
        TVY.LIZIZ(X1D.LIZIZ(LIZ));
        LiveAppBundleUtils.ensurePluginAvailable$default(EnumC38440F6u.LINK_MIC, new TX1(z, System.currentTimeMillis(), tx2, c74744TVc, mInteractionBehavior, i2, z2, dataChannel3), false, 4, null);
        LiveAppBundleUtils.ensurePluginAvailable$default(EnumC38440F6u.QUIC, null, false, 6, null);
        LiveAppBundleUtils.ensurePluginAvailable$default(EnumC38440F6u.RTS, null, false, 6, null);
        DataChannel dataChannel4 = this.dataChannel;
        if (dataChannel4 != null) {
            dataChannel4.lv0(this, MicRoomDisableInteractionEvent.class, new AObjectS42S0101000_5(0, this, 55));
        }
        DataChannel dataChannel5 = this.dataChannel;
        if (dataChannel5 != null) {
            dataChannel5.lv0(this, BroadcastEnableSubOnlyLiveEvent.class, new AObjectS42S0101000_5(0, this, 41));
        }
        DataChannel dataChannel6 = this.dataChannel;
        if (dataChannel6 != null) {
            dataChannel6.lv0(this, LinkRandomLinkMicCancelEvent.class, new AObjectS42S0101000_5(0, this, 32));
        }
        DataChannel dataChannel7 = this.dataChannel;
        dataChannel7.lv0(this, LinkerStateChannel.class, new AObjectS45S0101000_13(0, this, 5));
        dataChannel7.lv0(this, BattleStateChannel.class, new AObjectS42S0101000_5(0, this, 38));
        dataChannel7.lv0(this, BattleReMatchStateChannel.class, new AObjectS45S0101000_13(0, this, 8));
        C74838TYs.LJ().LIZLLL = new C31612Cau(this);
        C74838TYs.LJ().LJ = new C74840TYu(this);
        C74838TYs.LJ().LJFF = new TUX(this);
        if (!this.LJLLI) {
            this.dataChannel.lv0(this, AudienceInteractionDialogLinkHostClickEvent.class, new AObjectS42S0101000_5(0, this, 52));
        }
        if (!this.LJLLI) {
            C74824TYe.LJJLJLI("live_play", null);
        }
        boolean z3 = this.LJLLI;
        Room room = this.LJLJLLL;
        o.LJIIIZ(room, "room");
        if (!z3) {
            DeepLinkEnterMultiLiveRoomDataHandler deepLinkEnterMultiLiveRoomDataHandler = new DeepLinkEnterMultiLiveRoomDataHandler();
            C28643BLz c28643BLz = B57.LIZ;
            if (C38354F3m.LJ(c28643BLz.LIZJ)) {
                enterRoomLinkSession = c28643BLz.LIZ();
            } else {
                enterRoomLinkSession = (EnterRoomLinkSession) ((ConcurrentHashMap) c28643BLz.LIZ).get(c28643BLz.LIZJ);
            }
            if (enterRoomLinkSession != null && (enterRoomConfig = enterRoomLinkSession.mEnterRoomConfig) != null) {
                deepLinkEnterMultiLiveRoomDataHandler.LIZLLL(room, true, enterRoomConfig.mRoomsData.enterForMultiLive);
                c75559Tl5.LJI(deepLinkEnterMultiLiveRoomDataHandler, null);
                EnterRoomConfig.RoomsData roomsData = enterRoomConfig.mRoomsData;
                if (roomsData.enterForMultiLive != null) {
                    roomsData.enterForMultiLive = "-1";
                }
            }
        }
        TS1.LIZIZ(this);
        C28733BPl.LJIILIIL().getClass();
        C0NE.LJII("link_mic_sync", "widget_create");
        if (!this.LJLLI && this.dataChannel != null && !MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable()) {
            this.dataChannel.rv0(HadInitLinkMicChannel.class, Boolean.TRUE);
        }
        Room room2 = this.LJLJLLL;
        DataChannel dataChannel8 = this.dataChannel;
        if ((room2 != null || (room2 = (Room) dataChannelGlobal.mv0(C29044Baa.class)) != null) && (multiLiveUserSettings = room2.multiLiveUserSettings) != null && (multiLiveUserApplySettings = multiLiveUserSettings.multiLiveUserApplySettings) != null && (roomHostMultiGuestPermissionInfo = multiLiveUserApplySettings.roomHostMultiGuestPermissionInfo) != null && (multiGuestPermissionInfo = roomHostMultiGuestPermissionInfo.permissionInfo) != null && multiGuestPermissionInfo.flag && ((int) multiGuestPermissionInfo.errCode) == 4003036 && dataChannel8 != null) {
            dataChannel8.rv0(MultiLivePermitChannel.class, new C74777TWj(true, multiGuestPermissionInfo.noPermissionPrompt, (int) multiGuestPermissionInfo.errCode));
        }
        C75489Tjx c75489Tjx = C75489Tjx.LIZ;
        DataChannel channel = this.dataChannel;
        o.LJIIIZ(channel, "channel");
        C75489Tjx.LJI = channel;
        channel.mv0(BufferingEvent.class, c75489Tjx, C75464TjY.LJLIL);
        if (((IInteractService) CN1.LIZ(IInteractService.class)).gI() instanceof IAutoTestCohostService) {
            ((IAutoTestCohostService) ((IInteractService) CN1.LIZ(IInteractService.class)).gI()).setDataChannel(this.dataChannel);
        }
        if (LiveSdkHeartBeatReportOptSetting.INSTANCE.isEnable()) {
            B4U.LIZ().LLJILJIL = this.LJZL;
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void wi() {
        if (MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable()) {
            this.dataChannel.rv0(HadInitLinkMicChannel.class, Boolean.TRUE);
        }
        LLIILZL(4, LLFII.longValue(), "onCoHostTurnedOff");
    }

    public static void LLII() {
        AbstractC75942TrG abstractC75942TrG;
        InteractDialogFragmentBaseContract$AbsView LIZJ = C75852Tpo.LIZJ();
        if (LIZJ instanceof MultiCoHostBeInvitedFragment) {
            MultiCoHostBeInvitedFragment multiCoHostBeInvitedFragment = (MultiCoHostBeInvitedFragment) LIZJ;
            int i = multiCoHostBeInvitedFragment.LJLLL;
            if (i != 1) {
                if (i != 2 || (abstractC75942TrG = (AbstractC75942TrG) multiCoHostBeInvitedFragment.LJLILLLLZI) == null) {
                    return;
                }
                LinkerInviteContent linkerInviteContent = multiCoHostBeInvitedFragment.LJLLI;
                if (linkerInviteContent != null) {
                    abstractC75942TrG.LIZLLL(linkerInviteContent, multiCoHostBeInvitedFragment.LJLLILLLL, 0, true, true);
                    return;
                } else {
                    o.LJIJI("inviteContent");
                    throw null;
                }
            }
            AbstractC75942TrG abstractC75942TrG2 = (AbstractC75942TrG) multiCoHostBeInvitedFragment.LJLILLLLZI;
            if (abstractC75942TrG2 == null) {
                return;
            }
            LinkerInviteContent linkerInviteContent2 = multiCoHostBeInvitedFragment.LJLLI;
            if (linkerInviteContent2 != null) {
                abstractC75942TrG2.LIZLLL(linkerInviteContent2, multiCoHostBeInvitedFragment.LJLLILLLL, 0, false, true);
            } else {
                o.LJIJI("inviteContent");
                throw null;
            }
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void J50() {
        InterfaceC75855Tpr interfaceC75855Tpr;
        if (isViewValid() && C75852Tpo.LIZLLL() && (interfaceC75855Tpr = C75852Tpo.LIZ.get("LinkDialog")) != null && (interfaceC75855Tpr instanceof C75853Tpp) && !((C75853Tpp) interfaceC75855Tpr).LIZIZ.g6().isUserListType()) {
            C75852Tpo.LIZ("LinkDialog");
        }
    }

    public final void LLFII() {
        String str;
        if (!LLF()) {
            str = C75457TjR.LJ(C74838TYs.LJ().LJJ);
        } else {
            str = "cohost";
        }
        Integer num = (Integer) this.dataChannel.kv0(C28413BDd.class);
        if (num != null) {
            C75457TjR.LJIJJ(num.intValue(), "golive_window", str, "button_icon");
        } else {
            C75457TjR.LJIJJ(0, "golive_window", str, "button_icon");
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void Wm() {
        if (isViewValid() && !this.LJLLI) {
            EnumC38440F6u enumC38440F6u = EnumC38440F6u.LINK_MIC;
            if (!LiveAppBundleUtils.isPluginAvailable(enumC38440F6u)) {
                LiveAppBundleUtils.ensurePluginAvailable(enumC38440F6u);
                C30868C9o.LIZJ(R.string.nnu);
            } else if (this.LJLLLLLL && !CL8.LJ(this.dataChannel)) {
                C30868C9o.LIZJ(R.string.ly3);
            } else if (!C77125UOr.LJIIJJI(this.LJLLL, 2)) {
                C30868C9o.LIZJ(R.string.nhy);
            } else {
                LLIIIJ(this.LJLLI);
            }
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void aF() {
        if (!isViewValid()) {
            return;
        }
        LLII();
        C75852Tpo.LIZ(EnumC2322299m.INVITEE_APPLIED_MULTI_CO_HOST_FRAGMENT.name());
    }

    @Override // X.InterfaceC75495Tk3
    public final void ci() {
        if (isViewValid() && this.LJLLI) {
            EnumC38440F6u enumC38440F6u = EnumC38440F6u.LINK_MIC;
            if (!LiveAppBundleUtils.isPluginAvailable(enumC38440F6u)) {
                LiveAppBundleUtils.ensurePluginAvailable(enumC38440F6u);
                C30868C9o.LIZJ(R.string.nnu);
                return;
            }
            if (this.LJLLLLLL) {
                C30868C9o.LIZJ(R.string.ly3);
                return;
            }
            Room room = this.LJLJLLL;
            if (room != null && room.getMosaicStatus() == 1) {
                C30868C9o.LIZJ(R.string.sve);
                return;
            }
            if (C77125UOr.LJIIJJI(this.LJLLL, 4)) {
                if (B5G.LIZIZ().LIZ(EnumC75636TmK.CONNECTION_START)) {
                    C32014ChO.LIZIZ(LLFZ(), "H5 open co-host, but now is co-hosting!");
                    return;
                } else {
                    if (B5G.LIZIZ().LIZJ() != EnumC75636TmK.INVITING) {
                        return;
                    }
                    C32014ChO.LIZIZ(LLFZ(), "H5 open co-host, but is inviting other host!");
                    return;
                }
            }
            if (!this.LJLLLL.LIZ.LLIIIILZ) {
                return;
            }
            C30591Hz.LJJII(1);
            this.LJLLLL.getClass();
            B5G.LIZIZ().LJJJ = new C75648TmW("others");
            C75642TmQ.LJJJZ("connection_invite", null, 6);
            LLIIJI();
            C75017TcL.LJIIJ(this.dataChannel);
        }
    }

    @Override // X.InterfaceC31336CRo
    public final String getLogTag() {
        return getClass().getName();
    }

    @Override // X.InterfaceC75495Tk3
    public final void ki0() {
        if (!isViewValid()) {
            return;
        }
        LLII();
        C75852Tpo.LIZ(EnumC2322299m.INVITEE_APPLIED_MULTI_CO_HOST_FRAGMENT.name());
    }

    public LinkControlWidget(InterfaceC32212Cka interfaceC32212Cka) {
        InteractServiceDel interactServiceDel = InteractServiceDel.LJLILLLLZI;
        Objects.requireNonNull(interactServiceDel);
        this.LJZL = new AObjectS47S0101000_2(0, interactServiceDel, 2);
        this.LL = null;
        this.LLD = C221108m2.LIZIZ(new AObjectS47S0101000_2(0, this, 3));
        this.LLF = null;
        this.LLFF = null;
        this.LLFFF = null;
        this.LJLLILLLL = interfaceC32212Cka;
    }

    @Override // X.InterfaceC75495Tk3
    public final void EQ(boolean z) {
        MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable();
        LJZL();
        LLIILII(4, "onCoHostTurnedOn", z);
    }

    @Override // X.InterfaceC75495Tk3
    public final void G9(boolean z) {
        C74776TWi.LJIIJ(this.dataChannel);
        InterfaceC75472Tjg interfaceC75472Tjg = this.LJLJJI;
        if (interfaceC75472Tjg != null) {
            interfaceC75472Tjg.onMultiLivePermissionOff(z, false);
        }
    }

    public final void LLIIIJ(boolean z) {
        boolean z2;
        boolean z3;
        boolean z4;
        StreamUrl streamUrl;
        if (z) {
            LLIIIL("connection_button", false);
        } else {
            boolean LIZIZ = C74789TWv.LIZIZ();
            if (this.LJLJLLL != null) {
                z2 = true;
            } else {
                z2 = false;
            }
            if (this.LJLLL == 2) {
                z3 = true;
            } else {
                z3 = false;
            }
            if (this.LJLJJI != null) {
                z4 = true;
            } else {
                z4 = false;
            }
            C28733BPl LJIILIIL = C28733BPl.LJIILIIL();
            StringBuilder LIZLLL = C00F.LIZLLL("canHandleAsModerator, hasModeratorPermission=", LIZIZ, " ,isRoomNotNull=", z2, " ,isInMultiGuestModel=");
            LIZLLL.append(z3);
            LIZLLL.append(" ,isMultiGuestAsGuestWidgetNotNull=");
            LIZLLL.append(z4);
            String LIZIZ2 = X1D.LIZIZ(LIZLLL);
            LJIILIIL.getClass();
            C0NE.LJII("LinkControlWidget", LIZIZ2);
            if (LIZIZ && z2 && z3 && z4) {
                C75457TjR.LJIJJLI(this.LJLJLLL.getOwner().getFollowInfo().getFollowStatus(), C74801TXh.LIZ(this.LJZ), C75457TjR.LJ(C74838TYs.LJ().LJJ), ((IInteractService) CN1.LIZ(IInteractService.class)).ta0());
                C74825TYf.LIZ = "connection_button";
                C0NB.LIZIZ("LinkControlWidget", "mMultiGuestAsGuestWidget audience onclick");
                InterfaceC75472Tjg interfaceC75472Tjg = this.LJLJJI;
                if (interfaceC75472Tjg != null) {
                    interfaceC75472Tjg.onInteractIconClick(true);
                }
            } else {
                C74614TQc.LIZ().LIZ("multi_guest_apply_page", "link_mic_icon");
                C74801TXh.LIZJ(this.LJLJLLL, new AObjectS56S0101000_13(0, this, 3));
            }
        }
        Room room = this.LJLJLLL;
        if (C30922CBq.LIZIZ || room == null || (streamUrl = room.getStreamUrl()) == null) {
            return;
        }
        try {
            Field[] declaredFields = streamUrl.getClass().getDeclaredFields();
            int length = declaredFields.length;
            for (int i = 0; i < length; i++) {
                if (o.LJ(declaredFields[i].getType().getName(), Map.class.getName()) && o.LJ(((InterfaceC65349Pkn) declaredFields[i].getAnnotation(InterfaceC65349Pkn.class)).value(), "flv_pull_url")) {
                    declaredFields[i].setAccessible(true);
                    Object obj = declaredFields[i].get(streamUrl);
                    if (obj == null) {
                        return;
                    }
                    StringBuilder LIZ = X1D.LIZ();
                    LIZ.append("pull url-->");
                    C31811Ce7.LJ(LIZ, (String) ((Map) obj).get("FULL_HD1"), LIZ, "legolas");
                    return;
                }
            }
        } catch (Throwable th) {
            C0NB.LJFF("legolas", "getFiledValue failed:", th);
        }
    }

    public final void LLIIJLIL(String str) {
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("reset data holder ");
        LIZ.append(str);
        C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ));
        C74838TYs.LJ().LJFF(this.LJLJLLL, str);
        TS8.LIZ.LIZLLL(str);
        C74740TUy.LIZLLL().LJII();
        C75460TjU.LIZJ("reset", "");
        C74740TUy.LIZLLL();
        C74740TUy.LIZLLL();
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("logSource=");
        LIZ2.append("reset");
        C75460TjU.LIZJ("resetWithoutPreviewBeautyLevel", X1D.LIZIZ(LIZ2));
        C75460TjU.LIZIZ("resetWithoutPreviewBeautyLevel");
        ((LinkedHashMap) C75460TjU.LIZIZ).clear();
        ((LinkedHashMap) C75460TjU.LIZ).clear();
        C75621Tm5.LIZLLL = 0L;
        C75621Tm5.LIZJ = "";
        ((LinkedHashMap) C75621Tm5.LIZ).clear();
        C75621Tm5.LIZIZ.evictAll();
    }

    public final void LLIIL(boolean z) {
        if (!LLF()) {
            return;
        }
        C0NB.LIZIZ("LinkControlWidget", "setMultiGuestIconWhenMicRoomStateChange");
        if (z) {
            this.LJLLLL.LJ(8);
        } else {
            this.LJLLLL.LJ(0);
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void M8(LinkMicAnchorGuideMessage linkMicAnchorGuideMessage) {
        String str;
        String str2 = linkMicAnchorGuideMessage.guideContent;
        if (str2 == null) {
            return;
        }
        OptPairInfo optPairInfo = linkMicAnchorGuideMessage.optPairInfo;
        if (optPairInfo != null) {
            str = C31012CFc.LJ(Long.valueOf(optPairInfo.expectedTimeSec * 1000));
        } else {
            str = "";
        }
        C30868C9o.LJIIL(C16880lQ.LLLZ(str2, new Object[]{str}), getView(), R.drawable.cxu);
    }

    @Override // X.InterfaceC75495Tk3
    public final void M80(EnumC75674Tmw value) {
        Boolean bool;
        boolean z;
        int i;
        C75154TeY c75154TeY = this.LJLLLL;
        c75154TeY.getClass();
        o.LJIIIZ(value, "value");
        C75525TkX c75525TkX = c75154TeY.LIZ;
        c75525TkX.getClass();
        DataChannel dataChannel = c75525TkX.LLD;
        if (dataChannel != null) {
            bool = (Boolean) dataChannel.kv0(CoHostOnboardPermitChannel.class);
        } else {
            bool = null;
        }
        boolean z2 = true;
        boolean z3 = !C29306Beo.LJIILLIIL(bool);
        if (!c75525TkX.LLIIIILZ) {
            c75525TkX.LLIIIILZ = true;
            c75525TkX.LJIILL(0);
        }
        EnumC75674Tmw enumC75674Tmw = EnumC75674Tmw.NONE;
        if (value == enumC75674Tmw && z3 && c75525TkX.LLIIIILZ) {
            c75525TkX.LLIIIILZ = false;
            c75525TkX.LJIILL(8);
        }
        c75525TkX.LLIIII = value;
        if (value != enumC75674Tmw) {
            z = true;
        } else {
            z = false;
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("result : ");
        LIZ.append(z);
        TYQ.LIZLLL("LinkCrossRoomPermissionResult", X1D.LIZIZ(LIZ));
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("onLinkCrossRoomPermissionResult, permission = ");
        LIZ2.append(value);
        C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ2));
        JSONObject jSONObject = new JSONObject();
        if (z) {
            i = 0;
        } else {
            i = -1;
        }
        C05630Jz.LIZ(i, "err_code", jSONObject);
        C58414MwE.LIZLLL.LIZ("check_permission", jSONObject);
        if (this.dataChannel.kv0(C29628Bk0.class) != null) {
            z2 = ((C29629Bk1) this.dataChannel.kv0(C29628Bk0.class)).LIZIZ;
        } else {
            Room room = this.LJLJLLL;
            if (room == null || room.getOfficialChannelInfo() == null || !this.LJLJLLL.getOfficialChannelInfo().existLinkmic) {
                z2 = false;
            }
        }
        if (this.LJLLLLLL && !z2) {
            this.LJLLLL.LJFF(8, 17);
        }
        LinkerManager linkerManager = this.mLinkerManager;
        if (linkerManager != null) {
            linkerManager.LIZ = z;
        }
        B5G.LIZIZ();
        LLIIZ();
    }

    @Override // X.InterfaceC75495Tk3
    public final void R5(LinkMessage linkMessage) {
        DataChannel dataChannel;
        if (!isViewValid() || linkMessage.scene != 4) {
            return;
        }
        long longValue = LLFII.longValue();
        String str = linkMessage.extraStr;
        if (str != null) {
            try {
                longValue = CastLongProtector.valueOf(str).longValue();
                C74726TUk.LIZIZ = longValue;
            } catch (Throwable unused) {
            }
        }
        if (this.LJLLI) {
            zf(longValue);
            return;
        }
        if (C74740TUy.LIZLLL().LJ() && ((dataChannel = this.dataChannel) == null || dataChannel.kv0(PIPStatusData.class) == null || !((Boolean) this.dataChannel.kv0(PIPStatusData.class)).booleanValue())) {
            if (this.LL == null) {
                C47071t1 c47071t1 = new C47071t1(this.context);
                c47071t1.LJFF(R.string.n_b);
                c47071t1.LJIIL(R.string.njj, new IDcS172S0100000_13(this, 21));
                LiveDialog LIZ = c47071t1.LIZ();
                this.LL = LIZ;
                LIZ.setCanceledOnTouchOutside(false);
            }
            LiveDialog liveDialog = this.LL;
            if (liveDialog != null && !new C03880Dg(2).LIZJ(300000, "com/bytedance/android/live/design/app/LiveDialog", "show", liveDialog, new Object[0], "void", new C65300Pk0(false, "()V", "1340987010878083002")).LIZ) {
                liveDialog.show();
            }
        }
        if (!LiveLinkmicEnableAudienceDisconnectConclusionPanelEnabledSetting.INSTANCE.isEnabled()) {
            Fragment parentFragment = this.widgetCallback.getFragment().getParentFragment();
            DataChannel dataChannel2 = this.dataChannel;
            if (C74738TUw.LIZLLL()) {
                C74738TUw.LJII("live_end", 0, dataChannel2, true, parentFragment);
            }
        }
        LLIILZL(2, longValue, "onReceiveFinishMessage");
        C74736TUu.LIZ.LJIL(0, "anchor_turn_off_multi_guest", FT5.LIZLLL("is_anchor", CardStruct.IStatusCode.DEFAULT), false);
        MultiGuestSeiAbnormalDetector LIZ2 = C74803TXj.LIZ();
        if (LIZ2 == null) {
            return;
        }
        LIZ2.LIZ = false;
    }

    @Override // X.InterfaceC75495Tk3
    public final void V5(CohostReserveMessage cohostReserveMessage) {
        if (this.context != null) {
            ReplyContent replyContent = cohostReserveMessage.replyContent;
            Objects.requireNonNull(replyContent);
            C30868C9o.LJIIIZ(R.drawable.cxu, g0.LJIILJJIL(this.context), C15380j0.LJIILL(R.string.nbv, C05170If.LIZ(replyContent.replier)));
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void W(LinkMicAnchorGuideMessage linkMicAnchorGuideMessage) {
        OptPairInfo optPairInfo = linkMicAnchorGuideMessage.optPairInfo;
        if (optPairInfo != null && optPairInfo.displayUserList.size() >= 1 && ListProtector.get(linkMicAnchorGuideMessage.optPairInfo.displayUserList, 0) != null && ((OptPairInfo.OptPairUser) ListProtector.get(linkMicAnchorGuideMessage.optPairInfo.displayUserList, 0)).user != null) {
            C75642TmQ.LJJLIIIJILLIZJL(((OptPairInfo.OptPairUser) ListProtector.get(linkMicAnchorGuideMessage.optPairInfo.displayUserList, 0)).user);
        } else {
            C75642TmQ.LJJLIIIJILLIZJL(null);
        }
        C30868C9o.LJIIL(linkMicAnchorGuideMessage.guideContent, getView(), R.drawable.cxu);
    }

    @Override // X.InterfaceC75495Tk3
    public final void Yu(CohostReserveMessage message) {
        User user;
        C75154TeY c75154TeY = this.LJLLLL;
        c75154TeY.getClass();
        o.LJIIIZ(message, "message");
        ReserveContent reserveContent = message.reserveContent;
        if (reserveContent != null && (user = reserveContent.reserver) != null) {
            c75154TeY.LIZ.LJII(user, EnumC75445TjF.FRIEND_RESERVE, String.valueOf(message.getMessageId()));
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void dW(C75678Tn0 c75678Tn0) {
        JSONObject jSONObject = new JSONObject();
        Room room = this.LJLJLLL;
        if (room != null) {
            C05630Jz.LJI(jSONObject, "room_id", room.getIdStr());
        }
        long j = c75678Tn0.LIZLLL;
        long j2 = c75678Tn0.LIZJ;
        long j3 = c75678Tn0.LJ;
        C05630Jz.LJFF(jSONObject, "remote_room_id", j);
        C05630Jz.LJI(jSONObject, "record_id", B5G.LIZIZ().LJJIJIIJI);
        C05630Jz.LJFF(jSONObject, "user_id", this.LJLJLLL.getOwnerUserId());
        C05630Jz.LJFF(jSONObject, "remote_user_id", j2);
        C05630Jz.LJII(jSONObject, "is_inviter", false);
        C58420MwK c58420MwK = C58420MwK.LIZLLL;
        c58420MwK.LJIIJ(jSONObject);
        c58420MwK.LJIIIZ("popup_show", null);
        if (!isViewValid()) {
            return;
        }
        C44878HjO.LIZJ("onReceiveInvitation, channelId = ", j3, "LinkControlWidget");
        if (j3 == 0) {
            return;
        }
        LJZL();
        ((IBrowserService) CN1.LIZ(IBrowserService.class)).Yd0().LIZ();
        EnumC75614Tly enumC75614Tly = B5G.LIZIZ().LJIIJ;
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("onReceiveInvitation, InviteType = ");
        LIZ.append(B5G.LIZIZ().LJIIJ);
        C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ));
        if (enumC75614Tly != EnumC75614Tly.RANDOM_LINK_MIC_INVITE && enumC75614Tly != EnumC75614Tly.TOPIC_PAIR) {
            EnumC75674Tmw enumC75674Tmw = (EnumC75674Tmw) this.dataChannel.kv0(C29616Bjo.class);
            StringBuilder LIZ2 = X1D.LIZ();
            LIZ2.append("showInviteFragmentAndStartLinkCross, permission = ");
            LIZ2.append(enumC75674Tmw);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ2));
            C0NB.LJIIIZ("LinkControlWidget", "onReceiveInvitation, not preview show");
            TYQ.LIZJ("CoHost_PrePare_Show_HeadPortraitPreview");
            B5G.LIZIZ();
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("showInviteFragmentAndStartLinkCross, permission = ");
            LIZ3.append(enumC75674Tmw);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ3));
            if (enumC75674Tmw != null && enumC75674Tmw.isMultiCoHost()) {
                DataChannel dataChannel = this.dataChannel;
                LinkDialog linkDialog = new LinkDialog(this);
                EnumC76391TyV enumC76391TyV = EnumC76391TyV.INVITEE_APPLIED_MULTI_CO_HOST_FRAGMENT;
                C75474Tji c75474Tji = new C75474Tji();
                c75474Tji.LIZIZ = null;
                c75474Tji.LIZJ = c75678Tn0;
                c75474Tji.LIZLLL = 1;
                linkDialog.Al(enumC76391TyV, c75474Tji);
                C75842Tpe.LIZ(dataChannel, linkDialog, EnumC2322299m.INVITEE_APPLIED_MULTI_CO_HOST_FRAGMENT.name());
            }
            this.dataChannel.pv0(CoHostBeInvitedDialogShow.class);
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void eG(String str) {
        C75852Tpo.LIZ("MultiCoHostExclusiveDialog");
        if (C75852Tpo.LIZLLL() || RandomLinkMicManager.LJIIL(B5G.LIZIZ().LJIIJ.getType())) {
            return;
        }
        if (TextUtils.isEmpty(str)) {
            B5G.LIZIZ().LJJJ = new C75648TmW("others");
        } else {
            B5G.LIZIZ().LJJJ = new C75648TmW(str);
        }
        if (C77125UOr.LJIIJJI(this.LJLLL, 4)) {
            CoHostLiveWidget coHostLiveWidget = this.LJLJJLL;
            if (coHostLiveWidget != null && (coHostLiveWidget instanceof MultiCoHostWidget)) {
                C75842Tpe.LIZ(this.dataChannel, C51029K0z.LJJIIJ(this, null, false), "LinkDialog");
                return;
            }
            return;
        }
        LLIIJI();
    }

    /* JADX WARN: Type inference failed for: r8v5 */
    /* JADX WARN: Type inference failed for: r8v6, types: [int, boolean] */
    /* JADX WARN: Type inference failed for: r8v7 */
    @Override // X.InterfaceC75495Tk3
    public final void h8(LinkMicAnchorGuideMessage message) {
        List<ReserveInfo.ReserveUser> list;
        long j;
        boolean z;
        boolean z2;
        Long l;
        List<ReserveInfo.ReserveUser> list2;
        List list3;
        Long l2;
        ImageModel avatarThumb;
        ImageModel imageModel;
        ?? r8;
        C75154TeY c75154TeY = this.LJLLLL;
        c75154TeY.getClass();
        o.LJIIIZ(message, "message");
        C75525TkX c75525TkX = c75154TeY.LIZ;
        c75525TkX.getClass();
        ReserveInfo reserveInfo = message.reserveInfo;
        View view = null;
        if (reserveInfo != null) {
            list = reserveInfo.displayUserList;
        } else {
            list = null;
        }
        B5G.LIZIZ().LJIIIZ(EnumC75614Tly.RESERVATION_BUBBLE_INVITE);
        C75893TqT.LIZJ = true;
        ReserveInfo reserveInfo2 = message.reserveInfo;
        long j2 = 0;
        if (reserveInfo2 != null) {
            j = reserveInfo2.reservationAnchorCnts;
        } else {
            j = 0;
        }
        C75893TqT.LJIIJ = j;
        if (reserveInfo2 != null) {
            z = reserveInfo2.isReservationSender;
        } else {
            z = false;
        }
        C75893TqT.LJIIIZ = z;
        if (reserveInfo2 != null) {
            j2 = reserveInfo2.acceptAppointmentCnts;
        }
        if (reserveInfo2 != null) {
            z2 = reserveInfo2.isReservationSender;
            l = Long.valueOf(reserveInfo2.reservationId);
        } else {
            z2 = false;
            l = null;
        }
        String valueOf = String.valueOf(l);
        EnumC75182Tf0 LJIIIIZZ = C44432HcC.LJIIIIZZ();
        if (list == null) {
            list2 = new ArrayList<>();
        } else {
            list2 = list;
        }
        C75642TmQ.LJJIIJ(j2, z2, valueOf, "cohost", LJIIIIZZ, 0, list2, 32);
        if (list == null || list.isEmpty()) {
            return;
        }
        if (list.size() == 1) {
            ReserveInfo.ReserveUser reserveUser = (ReserveInfo.ReserveUser) ListProtector.get(list, 0);
            User user = reserveUser.user;
            if (user != null) {
                imageModel = user.getAvatarThumb();
            } else {
                imageModel = null;
            }
            String str = message.guideContent;
            if (str == null) {
                str = C15380j0.LJIILL(R.string.nbr, C05170If.LIZ(reserveUser.user));
            }
            if (message.buttonShowType == 1) {
                r8 = 1;
            } else {
                r8 = 0;
            }
            InterfaceC30237Btp interfaceC30237Btp = c75525TkX.LJLJJL;
            if (interfaceC30237Btp != null) {
                view = interfaceC30237Btp.LJFF();
            }
            C75466Tja c75466Tja = new C75466Tja(view);
            c75466Tja.LJIL = new ACListenerS22S0210000_13(message, c75525TkX, r8, 2);
            c75466Tja.LJJ = new ACListenerS47S0200000_13(c75525TkX, message, 42);
            c75466Tja.LJI = 5000L;
            c75466Tja.LJII = true;
            c75466Tja.LJIJJLI = C47261Igj.LJJIJ(imageModel);
            c75466Tja.LJIILLIIL = str;
            c75466Tja.LJIILJJIL = false;
            c75466Tja.LJJI = r8;
            c75466Tja.LJIIIIZZ = C15380j0.LIZ(288.0f);
            c75466Tja.LJIIIZ = true;
            c75466Tja.LJJIFFI = 1;
            c75525TkX.LJIILIIL(C30770C5u.LJIIIIZZ(new C75467Tjb(c75466Tja, c75466Tja)));
            return;
        }
        if (list.size() != 2) {
            return;
        }
        ArrayList arrayList = new ArrayList();
        ReserveInfo reserveInfo3 = message.reserveInfo;
        if (reserveInfo3 == null || (list3 = reserveInfo3.displayUserList) == null) {
            list3 = C61878OQg.INSTANCE;
        }
        Iterator it = list3.iterator();
        while (it.hasNext()) {
            User user2 = ((ReserveInfo.ReserveUser) it.next()).user;
            if (user2 != null && (avatarThumb = user2.getAvatarThumb()) != null) {
                arrayList.add(avatarThumb);
            }
        }
        String str2 = message.guideContent;
        if (str2 == null) {
            Object[] objArr = new Object[1];
            ReserveInfo reserveInfo4 = message.reserveInfo;
            if (reserveInfo4 != null) {
                l2 = Long.valueOf(reserveInfo4.reservationAnchorCnts);
            } else {
                l2 = null;
            }
            objArr[0] = l2;
            str2 = C15380j0.LJIILL(R.string.nbs, objArr);
        }
        C75648TmW c75648TmW = new C75648TmW("anchor_host_notice");
        c75648TmW.LIZLLL = true;
        InterfaceC30237Btp interfaceC30237Btp2 = c75525TkX.LJLJJL;
        if (interfaceC30237Btp2 != null) {
            view = interfaceC30237Btp2.LJFF();
        }
        C75466Tja c75466Tja2 = new C75466Tja(view);
        c75466Tja2.LJIL = new ACListenerS38S0300000_13(c75525TkX, c75648TmW, message, 4);
        c75466Tja2.LJJ = new ACListenerS38S0300000_13(c75525TkX, c75648TmW, message, 5);
        c75466Tja2.LJI = 5000L;
        c75466Tja2.LJII = true;
        c75466Tja2.LJIJJLI = arrayList;
        c75466Tja2.LJIILLIIL = str2;
        c75466Tja2.LJIILJJIL = false;
        c75466Tja2.LJIIIIZZ = C15380j0.LIZ(288.0f);
        c75466Tja2.LJIIIZ = true;
        c75466Tja2.LJJIFFI = 1;
        c75525TkX.LJIILIIL(C30770C5u.LJIIIIZZ(new C75467Tjb(c75466Tja2, c75466Tja2)));
    }

    @Override // X.InterfaceC75495Tk3
    public final void kr0(boolean z) {
        int i;
        Object obj;
        int i2;
        if (this.LJLLI && z) {
            DataChannel dataChannel = this.dataChannel;
            if (dataChannel != null && dataChannel.kv0(MultiGuestAudienceNumChangedEvent.class) != null) {
                i2 = ((Integer) this.dataChannel.kv0(MultiGuestAudienceNumChangedEvent.class)).intValue();
            } else {
                i2 = 0;
            }
            C75457TjR.LJIL(i2);
        }
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("result : ");
        LIZ.append(z);
        TYQ.LIZLLL("LinkInRoomPermissionResult", X1D.LIZIZ(LIZ));
        C75150TeU c75150TeU = this.LJLLLL.LIZIZ;
        c75150TeU.LJLJJLL = z;
        if (z) {
            i = 0;
        } else {
            i = 8;
        }
        c75150TeU.LJ(i, false);
        if (this.LJLLLLLL && !CL8.LJ(this.dataChannel)) {
            this.LJLLLL.LJFF(8, 16);
        }
        LinkerManager linkerManager = this.mLinkerManager;
        if (linkerManager != null) {
            linkerManager.LIZIZ = z;
        }
        C74838TYs.LJ().LJJIFFI = z;
        LLIIZ();
        Room room = this.LJLJLLL;
        C48459J0d<Boolean> c48459J0d = InterfaceC30442Bx8.LLJJIJIIJIL;
        boolean booleanValue = c48459J0d.LIZJ().booleanValue();
        HashMap hashMap = new HashMap();
        hashMap.put("anchor_id", String.valueOf(room.getOwnerUserId()));
        hashMap.put("room_id", room.getIdStr());
        String str = "1";
        if (z) {
            obj = "1";
        } else {
            obj = CardStruct.IStatusCode.DEFAULT;
        }
        hashMap.put("guest_avaliable", obj);
        if (!booleanValue) {
            str = CardStruct.IStatusCode.DEFAULT;
        }
        hashMap.put("guest_connection_switch_status", str);
        C75017TcL.LJJIFFI("livesdk_guest_connection_switch_status", hashMap);
        if (z) {
            if ((!this.LJLLLLLL || CL8.LJ(this.dataChannel)) && this.LJLJLJ != null) {
                if (!c48459J0d.LIZJ().booleanValue() || LLFF()) {
                    Room room2 = this.LJLJLLL;
                    boolean z2 = true;
                    if (room2 != null && room2.isMultiLiveAutoStart() && C74838TYs.LJ().LJJI != null) {
                        MultiLiveAnchorPanelSettings multiLiveAnchorPanelSettings = C74838TYs.LJ().LJJI;
                        o.LJIIIZ(multiLiveAnchorPanelSettings, "<this>");
                        int i3 = multiLiveAnchorPanelSettings.layoutType;
                        if (i3 != 1) {
                        }
                    }
                    if (!this.LJLLI || !C74945TbB.LIZIZ(Boolean.TRUE)) {
                        if (LLFF()) {
                            this.LJLJLJ.LJJJJJ(EnumC74990Tbu.ACTIVITY_PAGE_OPEN);
                            return;
                        }
                        if (c48459J0d.LIZJ().booleanValue()) {
                            c48459J0d.LIZ(Boolean.FALSE);
                        }
                        if (!this.LJLLI) {
                            return;
                        }
                        EnumC74827TYh enumC74827TYh = EnumC74827TYh.DEFAULT_MODE;
                        if (C74838TYs.LJ().LJJI == null || C74838TYs.LJ().LJJI.allowViewerReq != 3) {
                            z2 = false;
                        }
                        C74824TYe.LJLIIL(enumC74827TYh, z2, false);
                        return;
                    }
                }
                this.LJLJLJ.LJJJJJ(EnumC74990Tbu.AUTO_START);
                C0NB.LJIIIZ("MultiLiveAuto", "try to init and turn on multiGuest");
            }
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void nJ(EnumC74990Tbu enumC74990Tbu) {
        if (this.LJLLLLLL && !CL8.LJ(this.dataChannel)) {
            return;
        }
        Room room = this.LJLJLLL;
        if (room != null && !room.isLiveTypeAudio()) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("source:");
            LIZ.append(enumC74990Tbu.value);
            TYQ.LIZLLL("onMultiGuestTurnedOn", X1D.LIZIZ(LIZ));
            if (!this.LJLLI && C19N.LIZLLL() && LiveSdkGuestOneVnSetting.INSTANCE.isDisable()) {
                TYQ.LIZLLL("onMultiGuestTurnedOn", "block turn on by 1vn guestsetting.");
                return;
            }
            LLIILII(2, "onMultiGuestTurnedOn", false);
            C74751TVj.LIZ = SystemClock.uptimeMillis();
            if (UnusedLogOfflineSetting.INSTANCE.isEnable("livesdk_guest_connection_mode_view_start")) {
                Map LIZ2 = C74751TVj.LIZ(null);
                String str = C74751TVj.LIZJ;
                if (str == null) {
                    str = "others";
                }
                HashMap hashMap = (HashMap) LIZ2;
                hashMap.put("trigger", str);
                hashMap.put("permission_type", C74776TWi.LJ());
                C74824TYe.LIZIZ(LIZ2, C74824TYe.LJIIJ());
                C74751TVj.LIZJ = null;
                C74751TVj.LJIIJ("livesdk_guest_connection_mode_view_start", LIZ2);
            }
        }
        if (enumC74990Tbu == EnumC74990Tbu.USER_CLICK) {
            C30868C9o.LIZJ(R.string.k_2);
        }
        EnumC74990Tbu enumC74990Tbu2 = EnumC74990Tbu.ACTIVITY_PAGE_OPEN;
        if (enumC74990Tbu == enumC74990Tbu2) {
            C74776TWi.LJIILLIIL(C74776TWi.LJI(), enumC74990Tbu2);
        }
        C74838TYs.LJ().LIZIZ(Boolean.TRUE);
    }

    public final void onSei(C28272B7s c28272B7s) {
        HashMap linkedHashMap;
        MatchBaseWidget matchBaseWidget;
        C0NB.LJIIIZ("LinkControlWidget", "linkmic_sei_update");
        B5G.LIZIZ().LJIILL = c28272B7s;
        if (this.LJLLI) {
            return;
        }
        if (MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable() && c28272B7s != null && !TextUtils.isEmpty(c28272B7s.LIZIZ) && !((Boolean) this.dataChannel.kv0(HadInitLinkMicChannel.class)).booleanValue()) {
            this.dataChannel.rv0(HadInitLinkMicChannel.class, Boolean.TRUE);
        }
        boolean LJIIJJI = C77125UOr.LJIIJJI(this.LJLLL, 2);
        C0RN.LIZLLL("onSei, containMultiGuest = ", LJIIJJI, "LinkControlWidget");
        if (LJIIJJI && this.LJLJJI != null) {
            StringBuilder LIZ = X1D.LIZ();
            LIZ.append("onSei, containMultiGuest = true, mMultiGuestAsGuestWidget = ");
            LIZ.append(this.LJLJJI);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ));
            this.LJLJJI.onSei(c28272B7s, this.dataChannel);
            C75489Tjx.LIZJ(c28272B7s);
        }
        boolean LJIIJJI2 = C77125UOr.LJIIJJI(this.LJLLL, 4);
        C0RN.LIZLLL("onSei, containCoHost = ", LJIIJJI2, "LinkControlWidget");
        if (LJIIJJI2 && this.LJLJJLL != null) {
            StringBuilder LIZ2 = X1D.LIZ();
            LIZ2.append("onSei, containCoHost = true, mLinkCrossRoomWidget = ");
            LIZ2.append(this.LJLJJLL);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ2));
            MultiCoHostWidget multiCoHostWidget = (MultiCoHostWidget) this.LJLJJLL;
            C75470Tje c75470Tje = multiCoHostWidget.LJLLLL;
            c75470Tje.getClass();
            if (!MultiHostPauseLiveAudienceUISetting.isEnable()) {
                C0NB.LJIIIZ("MultiHostStateManagerAudience", "doOnSei, return by isAudienceEnable = false");
            } else {
                InterfaceC75478Tjm interfaceC75478Tjm = c75470Tje.LJ;
                if ((interfaceC75478Tjm == null || !interfaceC75478Tjm.LIZIZ()) && c75470Tje.LIZIZ()) {
                    if (!C8E.LIZLLL().eU("MultiCoHostWidget_doOnSei")) {
                        C0NB.LJIIIZ("MultiHostStateManagerAudience", "doOnSei, return by isCrossArcActive = false");
                    } else {
                        InterfaceC74805TXl C4 = C8E.LIZLLL().C4();
                        if (C4 != null) {
                            C4.LJI(c28272B7s, new AqS179S0100000_13(c75470Tje, 414), new AqS195S0100000_13(c75470Tje, 53));
                        }
                    }
                }
            }
            multiCoHostWidget.LJZ().getClass();
            C8E.LIZLLL().onSei(c28272B7s);
            if (!multiCoHostWidget.LJLILLLLZI && (matchBaseWidget = multiCoHostWidget.LJLLI) != null) {
                matchBaseWidget.onSei(c28272B7s);
            }
            if (!LiveCohostEnableMatchResumeSetting.INSTANCE.isEnableCoHostResume()) {
                C0NB.LJIIIZ("MultiCoHostResumeTracker", "on SEI, return by isCoHostResumeEnable = false");
                linkedHashMap = new HashMap();
            } else {
                linkedHashMap = new LinkedHashMap();
                InterfaceC74805TXl C42 = C8E.LIZLLL().C4();
                if (C42 != null) {
                    C42.LJI(c28272B7s, new AqS179S0100000_13(linkedHashMap, (Map<String, EnumC75775ToZ>) 534), C75473Tjh.LJLIL);
                }
            }
            StringBuilder LIZ3 = X1D.LIZ();
            LIZ3.append("parseStreamStatusFromSei, streamstatusMap = ");
            LIZ3.append(linkedHashMap);
            C0NB.LJIIIZ("MultiCoHostWidget", X1D.LIZIZ(LIZ3));
            for (Map.Entry entry : linkedHashMap.entrySet()) {
                String str = (String) entry.getKey();
                ViewOnClickListenerC76430Tz8 LIZIZ = multiCoHostWidget.LJZL().LIZIZ(str);
                if (LIZIZ != null) {
                    LIZIZ.LJZI(new C75589TlZ((EnumC75775ToZ) entry.getValue(), str));
                }
            }
            C75489Tjx.LIZJ(c28272B7s);
            C75492Tk0 c75492Tk0 = this.LJLJLJ;
            if (c75492Tk0 != null) {
                c75492Tk0.LJJJJIZL(c28272B7s);
                return;
            }
            return;
        }
        EnumC75674Tmw enumC75674Tmw = (EnumC75674Tmw) this.dataChannel.kv0(C29616Bjo.class);
        if (enumC75674Tmw != null && enumC75674Tmw.isMultiCoHost()) {
            if (C8E.LIZLLL().eU("onSei")) {
                C8E.LIZLLL().onSei(c28272B7s);
            }
            C75492Tk0 c75492Tk02 = this.LJLJLJ;
            if (c75492Tk02 != null) {
                c75492Tk02.LJJJJIZL(c28272B7s);
            }
        } else {
            C0NB.LJIIIZ("LinkControlWidget", "onSei, return by no permission");
        }
        if (!LJIIJJI2 && !LJIIJJI && MultiGuestPlayerFreezeSwitchSetting.INSTANCE.isFix()) {
            C75489Tjx.LIZJ(c28272B7s);
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void q2(LinkMicAnchorGuideMessage message) {
        List<OptPairInfo.OptPairUser> list;
        Long l;
        Long l2;
        Long l3;
        Long l4;
        ImageModel imageModel;
        boolean z;
        List<OptPairInfo.OptPairUser> list2;
        OptPairInfo.OptPairUser optPairUser;
        User user;
        C75154TeY c75154TeY = this.LJLLLL;
        c75154TeY.getClass();
        o.LJIIIZ(message, "message");
        C75525TkX c75525TkX = c75154TeY.LIZ;
        c75525TkX.getClass();
        DataChannel dataChannel = c75525TkX.LLFZ;
        if (dataChannel != null && o.LJ(dataChannel.kv0(DrawGuessInGameSessionChannel.class), Boolean.TRUE)) {
            return;
        }
        B5G.LIZIZ().LJIIIZ(EnumC75614Tly.PAIRING_BUBBLE_INVITE);
        OptPairInfo optPairInfo = message.optPairInfo;
        View view = null;
        if (optPairInfo != null) {
            list = optPairInfo.displayUserList;
        } else {
            list = null;
        }
        HashMap hashMap = new HashMap();
        Room room = (Room) DataChannelGlobal.LJLJJI.mv0(C29044Baa.class);
        if (room != null) {
            l = Long.valueOf(room.getOwnerUserId());
        } else {
            l = null;
        }
        hashMap.put("anchor_id", String.valueOf(l));
        if (room != null) {
            l2 = Long.valueOf(room.getOwnerUserId());
        } else {
            l2 = null;
        }
        hashMap.put("connection_inviter_id", String.valueOf(l2));
        if (optPairInfo != null && (list2 = optPairInfo.displayUserList) != null && (optPairUser = (OptPairInfo.OptPairUser) ORZ.LJLLLLLL(0, list2)) != null && (user = optPairUser.user) != null) {
            l3 = Long.valueOf(user.getId());
        } else {
            l3 = null;
        }
        hashMap.put("connection_invitee_id", String.valueOf(l3));
        hashMap.put("enter_from", "anchor_pair_designed_guide");
        if (optPairInfo != null) {
            l4 = Long.valueOf(optPairInfo.mappingId);
        } else {
            l4 = null;
        }
        hashMap.put("pk_mapping_id", String.valueOf(l4));
        String LJIJJ = C75642TmQ.LJIJJ();
        LJIJJ.toString();
        hashMap.put("before_connection_status", LJIJJ);
        AnonymousClass172.LIZ("livesdk_connection_pair_designed_bubble_show", hashMap);
        if (list == null || list.isEmpty()) {
            return;
        }
        OptPairInfo.OptPairUser optPairUser2 = (OptPairInfo.OptPairUser) ListProtector.get(list, 0);
        User user2 = optPairUser2.user;
        if (user2 != null) {
            imageModel = user2.getAvatarThumb();
        } else {
            imageModel = null;
        }
        String str = message.guideContent;
        if (str == null) {
            str = "";
        }
        OptPairInfo optPairInfo2 = message.optPairInfo;
        if (optPairInfo2 != null && optPairInfo2.buttonNoticeType == 2) {
            z = true;
        } else {
            z = false;
        }
        InterfaceC30237Btp interfaceC30237Btp = c75525TkX.LJLJJL;
        if (interfaceC30237Btp != null) {
            view = interfaceC30237Btp.LJFF();
        }
        C75466Tja c75466Tja = new C75466Tja(view);
        c75466Tja.LJIL = new ViewOnClickListenerC75461TjV(optPairUser2, message, z, c75525TkX);
        c75466Tja.LJI = 5000L;
        c75466Tja.LJII = true;
        c75466Tja.LJIJJLI = C47261Igj.LJJIJ(imageModel);
        c75466Tja.LJIILLIIL = str;
        c75466Tja.LJJI = 0;
        c75466Tja.LJJII = z;
        c75466Tja.LJIIIIZZ = C15380j0.LIZ(288.0f);
        c75466Tja.LJIIIZ = true;
        c75466Tja.LJJIFFI = 3;
        c75525TkX.LJIILIIL(C30770C5u.LJIIIIZZ(new C75467Tjb(c75466Tja, c75466Tja)));
    }

    @Override // X.InterfaceC75495Tk3
    public final void qx(int i) {
        int i2;
        JSONObject LL = LL();
        C05630Jz.LIZ(i, "permit_status", LL);
        C58420MwK c58420MwK = C58420MwK.LIZLLL;
        c58420MwK.LJIIJJI("get_reply", LL);
        if (i != 1) {
            JSONObject LL2 = LL();
            C05630Jz.LJI(LL2, "end_reason", "not_agree");
            c58420MwK.LIZIZ(2, LL2);
        }
        if (!isViewValid()) {
            return;
        }
        B5G.LIZIZ().LJ = true;
        StringBuilder LJ = C7MY.LJ("onReceivePermitApply, permit = ", i, "   guestUserId = ");
        C0RN.LJ(LJ, B5G.LIZIZ().LJI, LJ, "LinkControlWidget");
        if (i == 1) {
            RandomLinkMicManager.LJLIL.getClass();
            if (!RandomLinkMicManager.LJLLLLLL && RandomLinkMicManager.LJII()) {
                DataChannel dataChannel = this.dataChannel;
                if (dataChannel != null) {
                    dataChannel.qv0(LinkCrossRoomMatchSuccessEvent.class, "");
                }
                B5G.LIZIZ().LJIIIZ = true;
            }
            B5G.LIZIZ();
            C75852Tpo.LIZIZ();
            C78857UxB.LJJIIJ(1476788234, "bpea-linkmic_linkcontrolwidget_startLinkCross");
            C0NB.LJIIIZ("LinkControlWidget", "startLinkCross, switchMode");
            LLIILII(4, "startLinkCross", false);
            return;
        }
        if (EnableCoHostDetailedDisableReasonSetting.INSTANCE.getValue()) {
            if (i != 16) {
                if (i == 23) {
                    i2 = R.string.kku;
                }
            } else {
                i2 = R.string.kji;
            }
            C30868C9o.LIZJ(i2);
        }
        i2 = R.string.km7;
        C30868C9o.LIZJ(i2);
    }

    @Override // X.InterfaceC75495Tk3
    public final void t60(C75678Tn0 c75678Tn0) {
        if (!isViewValid() || B5G.LIZIZ().LJFF == 0) {
            return;
        }
        long j = c75678Tn0.LIZLLL;
        long j2 = c75678Tn0.LIZJ;
        JSONObject jSONObject = new JSONObject();
        C05630Jz.LJI(jSONObject, "room_id", this.LJLJLLL.getIdStr());
        C05630Jz.LJFF(jSONObject, "remote_room_id", j);
        C05630Jz.LJI(jSONObject, "record_id", B5G.LIZIZ().LJJIJIIJI);
        C05630Jz.LJFF(jSONObject, "user_id", this.LJLJLLL.getOwnerUserId());
        C05630Jz.LJFF(jSONObject, "remote_user_id", j2);
        C05630Jz.LJII(jSONObject, "is_inviter", false);
        C58420MwK c58420MwK = C58420MwK.LIZLLL;
        c58420MwK.LJIIJ(jSONObject);
        c58420MwK.LJIIIZ("popup_show", null);
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("onReceiveApply, channelId = ");
        LIZ.append(B5G.LIZIZ().LJFF);
        C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ));
        LJZL();
        EnumC75674Tmw enumC75674Tmw = (EnumC75674Tmw) this.dataChannel.kv0(C29616Bjo.class);
        if (enumC75674Tmw != null && enumC75674Tmw.isMultiCoHost()) {
            this.dataChannel.qv0(CoHostApplyDialogShowEvent.class, Boolean.TRUE);
            DataChannel dataChannel = this.dataChannel;
            LinkDialog linkDialog = new LinkDialog(this);
            EnumC76391TyV enumC76391TyV = EnumC76391TyV.INVITEE_APPLIED_MULTI_CO_HOST_FRAGMENT;
            C75474Tji c75474Tji = new C75474Tji();
            c75474Tji.LIZIZ = null;
            c75474Tji.LIZJ = c75678Tn0;
            c75474Tji.LIZLLL = 2;
            linkDialog.Al(enumC76391TyV, c75474Tji);
            C75842Tpe.LIZ(dataChannel, linkDialog, EnumC2322299m.INVITEE_APPLIED_MULTI_CO_HOST_FRAGMENT.name());
        }
    }

    /* JADX WARN: Type inference failed for: r3v5, types: [X.Tki, O] */
    @Override // X.InterfaceC75495Tk3
    public final void y7(LinkMicAnchorGuideMessage linkMicAnchorGuideMessage) {
        String str;
        String valueOf;
        String valueOf2;
        if (C8E.LIZJ().ta0()) {
            return;
        }
        Boolean bool = Boolean.FALSE;
        if (bool.equals(this.dataChannel.kv0(CoHostOnboardPermitChannel.class)) || (C75852Tpo.LIZJ() instanceof MultiCoHostInviteListContract$AbsView)) {
            return;
        }
        String str2 = "";
        if (LinkMicEnableNoticeVoice.getValue()) {
            this.LJZI = new C48451Izv(this.context);
            String LJIIIZ = C15510jD.LJIIIZ(CFX.LIZ("tiktok_live_link_mic", "tiktok_live_interaction_demand_1"), "tiktok_live_live_cohost_sound_tip.mp3");
            try {
                boolean z = !C15510jD.LJI(CFX.LIZ("tiktok_live_link_mic", "tiktok_live_interaction_demand_1")).equals("");
                if (LJIIIZ != null) {
                    B5G.LIZIZ().LJJLIIIJILLIZJL = true;
                }
                C48451Izv c48451Izv = this.LJZI;
                String str3 = c48451Izv.LIZ;
                StringBuilder LIZ = X1D.LIZ();
                LIZ.append("setDataSource() called with player : [");
                LIZ.append(c48451Izv.LIZIZ);
                LIZ.append(']');
                C0NB.LIZIZ(str3, X1D.LIZIZ(LIZ));
                TTVideoEngine tTVideoEngine = c48451Izv.LIZIZ;
                if (tTVideoEngine != null) {
                    if (z) {
                        tTVideoEngine.LL(LJIIIZ);
                    } else {
                        tTVideoEngine.LJLJJLL(LJIIIZ);
                    }
                }
                this.LJZI.start();
            } catch (IOException e) {
                C16880lQ.LLLLIIL(e);
            }
        }
        DataChannel dataChannel = this.dataChannel;
        if (dataChannel != null && dataChannel.kv0(C75503TkB.class) != null) {
            bool = (Boolean) this.dataChannel.kv0(C75503TkB.class);
        }
        if (B5G.LIZIZ().LJJIJIL == -1 && !bool.booleanValue()) {
            B5G.LIZIZ().LJJLI = linkMicAnchorGuideMessage.logId;
            if (linkMicAnchorGuideMessage.user != null) {
                if (this.dataChannel.kv0(C75505TkD.class) != null) {
                    ((C32537Cpp) this.dataChannel.gv0(C75505TkD.class)).LIZ = new C75536Tki(linkMicAnchorGuideMessage.user.getId(), linkMicAnchorGuideMessage.isFollowRival, true);
                }
                LinkCrossRoomDataHolder LIZIZ = B5G.LIZIZ();
                if (linkMicAnchorGuideMessage.isFollowRival) {
                    str = "mutual_follow";
                } else {
                    str = "single_follow";
                }
                LIZIZ.LJJLIIIJ = str;
                LinkCrossRoomDataHolder LIZIZ2 = B5G.LIZIZ();
                if (linkMicAnchorGuideMessage.user.getId() == 0) {
                    valueOf = "";
                } else {
                    valueOf = String.valueOf(linkMicAnchorGuideMessage.user.getId());
                }
                LIZIZ2.LJJLIIIIJ = valueOf;
                C75154TeY c75154TeY = this.LJLLLL;
                c75154TeY.getClass();
                User user = linkMicAnchorGuideMessage.user;
                if (user != null) {
                    C75525TkX c75525TkX = c75154TeY.LIZ;
                    EnumC75445TjF enumC75445TjF = EnumC75445TjF.FRIEND_LIVING;
                    String str4 = linkMicAnchorGuideMessage.logId;
                    if (str4 == null) {
                        str4 = "";
                    }
                    c75525TkX.LJII(user, enumC75445TjF, str4);
                }
                Room room = (Room) DataChannelGlobal.LJLJJI.mv0(C29044Baa.class);
                if (room == null) {
                    valueOf2 = "";
                } else {
                    valueOf2 = String.valueOf(room.getOwnerUserId());
                    str2 = room.getIdStr();
                }
                C75017TcL.LJIILLIIL(valueOf2, str2, "anchor_icon", String.valueOf(linkMicAnchorGuideMessage.availableFriendNumber), String.valueOf(linkMicAnchorGuideMessage.user.getId()));
            }
        }
    }

    @Override // X.InterfaceC75495Tk3
    public final void zf(long j) {
        if (MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable()) {
            this.dataChannel.rv0(HadInitLinkMicChannel.class, Boolean.TRUE);
        }
        C74838TYs.LJ().LIZIZ(Boolean.FALSE);
        if (C77125UOr.LJIIJJI(this.LJLLL, 2)) {
            LLIILZL(2, j, "onMultiGuestTurnedOff");
        }
        if (!this.LJLLI) {
            this.LJLLLL.LJFF(8, 16);
            C74824TYe.LJJLJ("others", EnumC74778TWk.NORMAL);
        }
        TS8.LIZ.LIZLLL("multi-guest turn off");
    }

    public static void LLIIIILZ(String str, boolean z) {
        String str2 = CardStruct.IStatusCode.DEFAULT;
        HashMap LIZ = C45243HpH.LIZ("mode", str, "stream_mix_on_client", CardStruct.IStatusCode.DEFAULT);
        if (z) {
            str2 = "1";
        }
        LIZ.put("is_anchor", str2);
        B4U.LIZ().LJJIFFI("link_mic", LIZ);
    }

    @Override // X.InterfaceC75495Tk3
    public final void Ew(EnumC74990Tbu enumC74990Tbu, Throwable th) {
        if (MultiCohostRoomLoadingOptSetting.INSTANCE.isEnable()) {
            this.dataChannel.rv0(HadInitLinkMicChannel.class, Boolean.TRUE);
        }
        if (enumC74990Tbu == EnumC74990Tbu.USER_CLICK) {
            BPP.LIZLLL(this.context, th, R.string.sul);
        }
    }

    public final void LLIIII(C75648TmW c75648TmW, ReserveInfo reserveInfo) {
        boolean z;
        FragmentManager fragmentManager;
        List<? extends ImageModel> list;
        Boolean bool;
        if (!LiveAppBundleUtils.isPluginAvailable(EnumC38440F6u.LINK_MIC)) {
            C30868C9o.LIZJ(R.string.sp2);
            return;
        }
        Room room = this.LJLJLLL;
        if (room != null && room.getMosaicStatus() == 1) {
            C30868C9o.LIZJ(R.string.sve);
            return;
        }
        DataChannel dataChannel = this.LJLLLL.LIZ.LLFZ;
        if (dataChannel != null && (bool = (Boolean) dataChannel.kv0(C75480Tjo.class)) != null) {
            z = bool.booleanValue();
        } else {
            z = false;
        }
        c75648TmW.LIZJ = Boolean.valueOf(z);
        if (C75650TmY.LIZJ()) {
            DataChannel dataChannel2 = C75650TmY.LIZIZ;
            if (dataChannel2 == null || (fragmentManager = (FragmentManager) dataChannel2.kv0(C29494Bhq.class)) == null || !C75650TmY.LIZJ()) {
                return;
            }
            List<? extends ImageModel> list2 = C75650TmY.LJIIIZ;
            long j = C75650TmY.LJIILIIL;
            TopicPairPreviewDialog topicPairPreviewDialog = new TopicPairPreviewDialog();
            if (list2 != null) {
                list = C47261Igj.LJJJIL(list2);
            } else {
                list = C61878OQg.INSTANCE;
            }
            topicPairPreviewDialog.LJLILLLLZI = list;
            topicPairPreviewDialog.LJLL = j;
            topicPairPreviewDialog.show(fragmentManager, TopicPairPreviewDialog.class.getName());
            return;
        }
        if (C75650TmY.LIZIZ()) {
            C75842Tpe.LIZ(this.dataChannel, C51029K0z.LJJIIJ(this, null, false), "LinkDialog");
            return;
        }
        if (RandomLinkMicManager.LJIIJJI() || RandomLinkMicManager.LJLJLJ == EnumC75692TnE.LINKING) {
            B5G.LIZIZ().LJJJ = c75648TmW;
            C75642TmQ.LJJJZ("cancel_random_waiting", c75648TmW, 4);
            RandomLinkMicManager.LJIILL(EnumC29835BnL.PREVIEW_DIALOG);
            return;
        }
        if (C77125UOr.LJIIJJI(this.LJLLL, 4)) {
            CoHostLiveWidget coHostLiveWidget = this.LJLJJLL;
            if (coHostLiveWidget == null) {
                return;
            }
            ((MultiCoHostWidget) coHostLiveWidget).LJIL("onCoHostButtonClick", null);
            return;
        }
        C30591Hz.LJJII(1);
        B5G.LIZIZ().LJJJ = c75648TmW;
        if (!LLIIJI()) {
            return;
        }
        if (((IInteractService) CN1.LIZ(IInteractService.class)).ZQ()) {
            C75642TmQ.LJJJLZIJ("connection_invite", c75648TmW, reserveInfo);
        } else {
            HashMap LIZJ = C03660Ck.LIZJ("request_page", "room");
            if (!TextUtils.isEmpty(null)) {
                LIZJ.put("notice_type", null);
            }
            LIZJ.put("enter_from", "connection_icon");
            Room room2 = (Room) DataChannelGlobal.LJLJJI.mv0(C29044Baa.class);
            if (room2 != null) {
                LIZJ.put("room_id", String.valueOf(room2.getId()));
                LIZJ.put("anchor_id", String.valueOf(room2.getOwnerUserId()));
            }
            String str = B5G.LIZIZ().LJJLIIIIJ;
            String str2 = CardStruct.IStatusCode.DEFAULT;
            if (str != null && !CardStruct.IStatusCode.DEFAULT.equals(str)) {
                str2 = "1";
            }
            LIZJ.put("is_anchor_icon_show", str2);
            String str3 = B5G.LIZIZ().LJJLI;
            if (str != null && !str.isEmpty()) {
                LIZJ.put("to_anchor_id", str);
                LIZJ.put("log_id", str3);
            } else {
                LIZJ.put("log_id", "");
            }
            if (B5G.LIZIZ().LJFF != 0) {
                LIZJ.put("channel_id", String.valueOf(B5G.LIZIZ().LJFF));
            }
            LIZJ.put("click_reason", "connection_invite");
            C75017TcL.LJJIFFI("connection_icon_click", LIZJ);
        }
        C75017TcL.LJIIJ(this.dataChannel);
    }

    public final void LLIIIL(final String str, final boolean z) {
        FragmentManager fragmentManager;
        C74614TQc.LIZ().LIZ("multi_guest_anchor_manage_page", "link_mic_icon");
        C74777TWj c74777TWj = (C74777TWj) this.dataChannel.kv0(MultiLivePermitChannel.class);
        if (c74777TWj != null && c74777TWj.LJLIL) {
            LLFII();
            if (c74777TWj.LJLJI == 4003036) {
                DataChannel dataChannel = this.dataChannel;
                if (dataChannel != null && (fragmentManager = (FragmentManager) dataChannel.kv0(C29494Bhq.class)) != null) {
                    Room room = (Room) this.dataChannel.kv0(RoomChannel.class);
                    if (room != null && room.cppVersion == 2) {
                        ((IBroadcastService) CN1.LIZ(IBroadcastService.class)).showCppUnlockGuideDialogV2(C15380j0.LJIILJJIL(R.string.mri), "multi_guest", Boolean.FALSE, fragmentManager);
                    } else {
                        ((IBroadcastService) CN1.LIZ(IBroadcastService.class)).showCppUnlockGuideDialog(C15380j0.LJIILJJIL(R.string.mri), "multi_guest", Boolean.FALSE, fragmentManager);
                    }
                }
            } else {
                C30868C9o.LJI(c74777TWj.LJLILLLLZI);
            }
            Room room2 = (Room) DataChannelGlobal.LJLJJI.mv0(C29044Baa.class);
            if (room2 != null) {
                BZI LIZ = C28787BRn.LIZ("livesdk_anchor_feature_locked_toast_show");
                LIZ.LJIJJ(Long.valueOf(room2.getId()), "room_id");
                LIZ.LJIJJ(C28509BGv.LIZ(room2.getStreamType()), "live_type");
                LIZ.LJIJJ(Long.valueOf(room2.getOwnerUserId()), "anchor_id");
                LIZ.LJIJJ("multi_guest", "feature");
                LIZ.LJJIIJZLJL();
                return;
            }
            return;
        }
        C74801TXh.LIZJ(this.LJLJLLL, new InterfaceC65784Pro() { // from class: X.ThA
            @Override // X.InterfaceC65784Pro
            public final Object invoke() {
                LinkControlWidget linkControlWidget = LinkControlWidget.this;
                String enterFrom = str;
                boolean z2 = z;
                if (!linkControlWidget.LJLLLL.LIZIZ()) {
                    C30868C9o.LIZJ(R.string.sp2);
                    StringBuilder LIZ2 = X1D.LIZ();
                    LIZ2.append("onMultiGuestClickedV2 anr~~~");
                    b1.LJ(LIZ2, linkControlWidget.LJLLL, LIZ2, "LinkControlWidget");
                } else {
                    C30591Hz.LJJII(2);
                    C75154TeY c75154TeY = linkControlWidget.LJLLLL;
                    c75154TeY.LIZIZ.LIZJ();
                    ((ArrayList) c75154TeY.LIZJ).clear();
                    c75154TeY.LIZLLL = 0;
                    LinkControlWidget.LJZL();
                    boolean LJIIJJI = C77125UOr.LJIIJJI(linkControlWidget.LJLLL, 2);
                    StringBuilder LJI = JBR.LJI("onMultiGuestClicked, containMultiGuest = ", LJIIJJI, "  mIsAnchor = ");
                    FT5.LJ(LJI, linkControlWidget.LJLLI, LJI, "LinkControlWidget");
                    if (LJIIJJI) {
                        o.LJIIIZ(enterFrom, "enterFrom");
                        C74825TYf.LIZ = enterFrom;
                        LinkMicAnchorWidget linkMicAnchorWidget = linkControlWidget.LJLILLLLZI;
                        if (linkMicAnchorWidget != null) {
                            if (!z2) {
                                enterFrom = null;
                            }
                            linkMicAnchorWidget.LJIL("onMultiGuestClickedForAnchor_true", enterFrom);
                            C0NB.LIZIZ("LinkControlWidget", "mMultiGuestAsAnchorWidget anchor onclick");
                        }
                    } else if (C77125UOr.LJIIJJI(linkControlWidget.LJLLL, 4) && linkControlWidget.LJLJI != null && C74726TUk.LIZ()) {
                        LinkMicAnchorWidget linkMicAnchorWidget2 = linkControlWidget.LJLJI;
                        linkMicAnchorWidget2.getClass();
                        linkMicAnchorWidget2.LJIL("onMultiGuestClickedForAnchor_false", null);
                        C0NB.LIZIZ("LinkControlWidget", "mMultiGuestAsAnchorReservationWidget anchor onclick");
                        linkControlWidget.LLFII();
                    } else {
                        linkControlWidget.LJLLJ = true;
                        C75492Tk0 c75492Tk0 = linkControlWidget.LJLJLJ;
                        if (c75492Tk0 != null) {
                            c75492Tk0.LJJJJJ(EnumC74990Tbu.USER_CLICK);
                            if (LinkmicLayoutTrackerEnableSetting.INSTANCE.enable()) {
                                C74979Tbj.LJIIL = "guest_mode_on";
                            }
                        }
                    }
                    linkControlWidget.LLFII();
                }
                return null;
            }
        });
    }

    public final void LLIILII(int i, String str, boolean z) {
        InterfaceC75472Tjg interfaceC75472Tjg;
        if (!isViewValid()) {
            return;
        }
        boolean LJIIJJI = C77125UOr.LJIIJJI(this.LJLLL, i);
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("CurrentMode:");
        C15890jp.LIZIZ(LIZ, this.LJLLL, "; TargetMode:", i, ", containMode = ");
        LIZ.append(LJIIJJI);
        TYQ.LIZLLL("SwitchMode", X1D.LIZIZ(LIZ));
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("switchMode, source=");
        LIZ2.append(str);
        LIZ2.append(",before -> CurrentMode:");
        C15890jp.LIZIZ(LIZ2, this.LJLLL, "; TargetMode:", i, ", containMode = ");
        FT5.LJ(LIZ2, LJIIJJI, LIZ2, "LinkControlWidget");
        if (LJIIJJI) {
            return;
        }
        this.LJLLL |= i;
        StringBuilder LIZIZ = C25620zW.LIZIZ("switchMode,source=", str, ", after -> CurrentMode:");
        b1.LJ(LIZIZ, this.LJLLL, LIZIZ, "LinkControlWidget");
        B5G.LIZIZ().LJIILJJIL(this.LJLLL);
        if (i == 2) {
            LLIIIILZ("normal", this.LJLLI);
            if (this.LJLLI) {
                if (!this.LJLIL) {
                    C75515TkN.LIZ(this.LJLLLL.LIZIZ.LJLJLLL, new ARunnableS17S0101000_13(0, this, 13), EnumC75468Tjc.MULTIGUEST, MultiGuestV3AnimSetting.INSTANCE.getValue());
                }
                this.LJLILLLLZI = (LinkMicAnchorWidget) this.LJLLILLLL.LIZIZ(0, z);
                if (LinkmicSdkMultiGuestIconVisibilityFixSetting.INSTANCE.isFix()) {
                    this.LJLLLL.LJFF(0, 16);
                }
                if (this.LJLLJ) {
                    LinkMicAnchorWidget linkMicAnchorWidget = this.LJLILLLLZI;
                    linkMicAnchorWidget.getClass();
                    linkMicAnchorWidget.LJIL("switchMode", null);
                }
                this.LJLLJ = false;
                C75150TeU c75150TeU = this.LJLLLL.LIZIZ;
                c75150TeU.LJLJLJ = false;
                c75150TeU.F();
            } else {
                this.LJLJJI = (InterfaceC75472Tjg) this.LJLLILLLL.LIZIZ(1, z);
                if (C19N.LIZLLL() && MultiGuestV3RoomLoadingOptSetting.INSTANCE.isEnable() && (interfaceC75472Tjg = this.LJLJJI) != null) {
                    interfaceC75472Tjg.onSei((C28272B7s) this.dataChannel.kv0(SeiCacheChannel.class), this.dataChannel);
                }
                C74776TWi.LJIIIIZZ(this.dataChannel);
                StringBuilder LIZ3 = X1D.LIZ();
                LIZ3.append("TargetMode:");
                LIZ3.append(i);
                LIZ3.append(", action:loadMultiGuestWidget");
                TYQ.LIZLLL("SwitchMode", X1D.LIZIZ(LIZ3));
            }
            this.dataChannel.rv0(LinkStateChannel.class, 2);
            return;
        }
        if (i != 4) {
            return;
        }
        StringBuilder LIZ4 = X1D.LIZ();
        LIZ4.append("TargetMode:");
        LIZ4.append(i);
        LIZ4.append(", action:loadCoHostWidget");
        TYQ.LIZLLL("SwitchMode", X1D.LIZIZ(LIZ4));
        LLIIIILZ("pk", this.LJLLI);
        SystemClock.elapsedRealtime();
        B5G.LIZIZ();
        EnumC75674Tmw enumC75674Tmw = (EnumC75674Tmw) this.dataChannel.kv0(C29616Bjo.class);
        if (enumC75674Tmw != null && enumC75674Tmw.isMultiCoHost()) {
            C15610jN.LIZIZ(new ARunnableS11S0110000_5(this, z, 3));
        }
        if (this.LJLLI) {
            this.LJLLLL.LJFF(0, 1);
        } else if (!C74726TUk.LIZJ(false)) {
            this.LJLLLL.LJFF(8, 16);
        }
        this.dataChannel.rv0(LinkStateChannel.class, 4);
        if (!this.LJLLI) {
            C28272B7s c28272B7s = B5G.LIZIZ().LJIILL;
            if (c28272B7s != null && !TextUtils.isEmpty(c28272B7s.LIZIZ)) {
                onSei(c28272B7s);
            }
            if (!U4C.LIZIZ && LinkmicAudienceMultiGuestReservationSetting.INSTANCE.isReserve()) {
                Room room = this.LJLJLLL;
                if (room.mRoomAuthStatus.multienablereserve) {
                    C44375HbH c44375HbH = new C44375HbH(this);
                    User owner = room.getOwner();
                    if (owner != null) {
                        C74726TUk.LIZ = (C73411SrX) ((LinkApi) Q7L.LIZIZ(LinkApi.class)).isShowGuestLinkHint(room.getId(), owner.getId(), owner.getSecUid(), true).LJJL(T16.LIZ()).LJJJ(C73969T1h.LIZIZ()).LJJJLIIL(new AfS62S0200000_13(room, c44375HbH, 61), C72969SkP.LJLIL);
                    }
                }
            }
        }
        if (!this.LJLLI || !C74726TUk.LIZJ(true)) {
            return;
        }
        LLFFF();
    }

    public final void LLIILZL(int i, long j, String str) {
        EnumC74778TWk enumC74778TWk;
        StringBuilder LIZIZ = C25620zW.LIZIZ("unLoadWidget, source=", str, ", before -> CurrentMode = ");
        LIZIZ.append(this.LJLLL);
        LIZIZ.append("  removeMode = ");
        LIZIZ.append(i);
        C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZIZ));
        StringBuilder LIZ = X1D.LIZ();
        LIZ.append("mode:");
        LIZ.append(i);
        TYQ.LIZLLL("unLoadWidget", X1D.LIZIZ(LIZ));
        if (!C77125UOr.LJIIJJI(this.LJLLL, i)) {
            return;
        }
        int i2 = this.LJLLL;
        if (C77125UOr.LJIIJJI(i2, i)) {
            i2 ^= i;
        }
        this.LJLLL = i2;
        StringBuilder LIZIZ2 = C25620zW.LIZIZ("unLoadWidget, source=", str, ", after -> CurrentMode:");
        b1.LJ(LIZIZ2, this.LJLLL, LIZIZ2, "LinkControlWidget");
        B5G.LIZIZ().LJIILJJIL(this.LJLLL);
        StringBuilder LIZ2 = X1D.LIZ();
        LIZ2.append("unLoadWidget, source=");
        LIZ2.append(str);
        LIZ2.append(", after remove mode, mCurrentMode = ");
        b1.LJ(LIZ2, this.LJLLL, LIZ2, "LinkControlWidget");
        if (i == 2) {
            C74751TVj.LJIIJJI("other");
            if (j != 0 && (!LinkMicMultiGuestV3UseTimeFixSetting.INSTANCE.getValue() || j != 10004)) {
                C74751TVj.LJIIL("connection_over");
            }
            if (this.LJLLI) {
                LinkMicAnchorWidget linkMicAnchorWidget = this.LJLILLLLZI;
                if (linkMicAnchorWidget != null) {
                    linkMicAnchorWidget.unLoadPlayModeWidget();
                }
                this.LJLLILLLL.LIZ(this.LJLILLLLZI);
                this.LJLILLLLZI = null;
            } else {
                InterfaceC75472Tjg interfaceC75472Tjg = this.LJLJJI;
                if (interfaceC75472Tjg != null) {
                    interfaceC75472Tjg.unLoadPlayModeWidget();
                }
                this.LJLLILLLL.LIZ((LiveWidget) this.LJLJJI);
                this.LJLJJI = null;
            }
            if (!this.LJLLI && C74726TUk.LIZJ(false)) {
                LLFFF();
                C74776TWi.LJIIIIZZ(this.dataChannel);
            }
        } else if (i == 4) {
            StringBuilder LIZIZ3 = C25620zW.LIZIZ("unLoadWidget, source=", str, ", into, mLinkCrossRoomWidget=");
            LIZIZ3.append(this.LJLJJLL);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZIZ3));
            if ((C74726TUk.LIZ() || C74726TUk.LIZIZ()) && LLF()) {
                if (this.LJLLI) {
                    this.LJLLILLLL.LIZ(this.LJLJI);
                    this.LJLJI = null;
                    C75150TeU c75150TeU = this.LJLLLL.LIZIZ;
                    c75150TeU.LJLJLJ = false;
                    c75150TeU.F();
                    this.dataChannel.rv0(MultiGuestStartFromCoHostValue.class, Boolean.TRUE);
                } else {
                    this.LJLLILLLL.LIZ((LiveWidget) this.LJLJJL);
                    this.LJLJJL = null;
                }
                StringBuilder LIZ3 = X1D.LIZ();
                LIZ3.append("unload reservationWidget, isAnchor: ");
                C19U.LIZJ(LIZ3, this.LJLLI, LIZ3, "ReservationLinkControlWidget");
            }
            StringBuilder LIZIZ4 = C25620zW.LIZIZ("unLoadWidget, source=", str, ", start, mLinkCrossRoomWidget=");
            LIZIZ4.append(this.LJLJJLL);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZIZ4));
            this.LJLLILLLL.LIZ(this.LJLJJLL);
            StringBuilder LIZ4 = X1D.LIZ();
            LIZ4.append("unLoadWidget, source=");
            LIZ4.append(str);
            LIZ4.append(", end, mLinkCrossRoomWidget=");
            LIZ4.append(this.LJLJJLL);
            C0NB.LJIIIZ("LinkControlWidget", X1D.LIZIZ(LIZ4));
            C75492Tk0 c75492Tk0 = this.LJLJLJ;
            c75492Tk0.getClass();
            B5G.LIZIZ().LJJIJIL = -1;
            DataChannel dataChannel = c75492Tk0.dataChannel;
            if (dataChannel != null) {
                dataChannel.rv0(CoHostInviteCountDownUpdateChannel.class, -1);
            }
            this.LJLJJLL = null;
            LinkerManager linkerManager = this.mLinkerManager;
            if (linkerManager != null) {
                EnumC75465TjZ scene = EnumC75465TjZ.COHOST;
                o.LJIIIZ(scene, "scene");
                if (linkerManager.LIZLLL.containsKey(scene)) {
                    linkerManager.LIZLLL.remove(scene);
                    if (linkerManager.LJ == scene) {
                        linkerManager.LJ = EnumC75465TjZ.NONE;
                    }
                }
            }
            C75852Tpo.LIZIZ();
        }
        if (this.LJLLL == 0) {
            if (this.LJLLI) {
                if (!this.LJLLLLLL && !this.LJLIL) {
                    InterfaceC30237Btp interfaceC30237Btp = this.LJLLLL.LIZIZ.LJLJLLL;
                    ARunnableS11S0101000_7 aRunnableS11S0101000_7 = new ARunnableS11S0101000_7(0, this, 13);
                    EnumC75468Tjc type = EnumC75468Tjc.MULTIGUEST;
                    o.LJIIIZ(type, "type");
                    C75515TkN.LIZ(interfaceC30237Btp, aRunnableS11S0101000_7, type, true);
                }
            } else {
                if (!C74726TUk.LIZJ(false)) {
                    this.LJLLLL.LJFF(8, 16);
                }
                C74751TVj.LJIIJJI("other");
                MultiGuestDataHolder multiGuestDataHolder = C74824TYe.LIZIZ;
                if (multiGuestDataHolder != null) {
                    enumC74778TWk = multiGuestDataHolder.LJJIIZ;
                } else {
                    enumC74778TWk = null;
                }
                if (enumC74778TWk == EnumC74778TWk.GRID_FIX || enumC74778TWk == EnumC74778TWk.FLOATING_FIX || enumC74778TWk == EnumC74778TWk.GRID || enumC74778TWk == EnumC74778TWk.FLOATING) {
                    C74824TYe.LJJLJ("others", null);
                    C74824TYe.LJJLJLI("others", null);
                }
            }
            this.dataChannel.rv0(LinkStateChannel.class, 0);
            B4U.LIZ().LJJII("link_mic");
        }
    }

    @Override // X.InterfaceC30131Bs7
    public final boolean LJJLIIIJLJLI(Runnable runnable, boolean z, boolean z2, C28268B7o c28268B7o) {
        InterfaceC75472Tjg interfaceC75472Tjg;
        if (!this.LJLLI && (interfaceC75472Tjg = this.LJLJJI) != null) {
            return interfaceC75472Tjg.interceptCloseRoom(runnable, z, z2, c28268B7o);
        }
        return false;
    }

    @Override // X.InterfaceC75495Tk3
    public final void bj(int i, C78862UxG c78862UxG, String str, MHPermitJoinBizContent mHPermitJoinBizContent) {
        JSONObject LL = LL();
        C05630Jz.LIZ(i, "reply_status", LL);
        C58420MwK c58420MwK = C58420MwK.LIZLLL;
        c58420MwK.LJIIJJI("get_reply", LL);
        if (i != 1) {
            JSONObject LL2 = LL();
            C05630Jz.LJI(LL2, "end_reason", "not_agree");
            c58420MwK.LIZIZ(2, LL2);
        }
        if (!isViewValid()) {
            return;
        }
        B5G.LIZIZ().LJ = true;
        StringBuilder LJ = C7MY.LJ("onReceiveReply, reply = ", i, "   guestUserId = ");
        C0RN.LJ(LJ, B5G.LIZIZ().LJI, LJ, "LinkControlWidget");
        int i2 = 0;
        if (i == 1) {
            if (LiveCohostMultiApplyConflictDialogDismissFixSetting.INSTANCE.isEnable()) {
                if (!C8E.LIZLLL().LLII().isLinked()) {
                    C75852Tpo.LIZIZ();
                } else {
                    C75852Tpo.LIZ("LinkDialog");
                }
            } else {
                C75852Tpo.LIZIZ();
            }
            C0NB.LJIIIZ("LinkControlWidget", "startLinkCross, switchMode");
            LLIILII(4, "startLinkCross", false);
            return;
        }
        if (mHPermitJoinBizContent != null) {
            i2 = mHPermitJoinBizContent.sourceType;
        }
        if (RandomLinkMicManager.LJIIL(i2)) {
            return;
        }
        C15610jN.LIZIZ(new ARunnableS4S1101000_13(i, this, str, 0));
    }
}
