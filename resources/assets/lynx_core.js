(function(){"use strict";var globalThis=new Function("return this;")();globalThis.globalThis=globalThis;var __commonJS=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},require_core=__commonJS((function(e,t){function n(){}var r=null,o={};t.exports=function(e){var t=e.setTimeout;function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._deferredState=0,this._state=0,this._value=null,this._deferreds=null,e!==n&&l(e,this)}function i(e,n){for(;3===e._state;)e=e._value;if(a._onHandle&&a._onHandle(e),0===e._state)return 0===e._deferredState?(e._deferredState=1,void(e._deferreds=n)):1===e._deferredState?(e._deferredState=2,void(e._deferreds=[e._deferreds,n])):void e._deferreds.push(n);!function(e,n){t((function(){var t=1===e._state?n.onFulfilled:n.onRejected;if(null!==t){var a=function(e,t){try{return e(t)}catch(e){return r=e,o}}(t,e._value);a===o?c(n.promise,r):s(n.promise,a)}else 1===e._state?s(n.promise,e._value):c(n.promise,e._value)}))}(e,n)}function s(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var n=function(e){try{return e.then}catch(e){return r=e,o}}(t);if(n===o)return c(e,r);if(n===e.then&&t instanceof a)return e._state=3,e._value=t,void p(e);if("function"==typeof n)return void l(n.bind(t),e)}e._state=1,e._value=t,p(e)}function c(e,t){e._state=2,e._value=t,a._onReject&&a._onReject(e,t),p(e)}function p(e){if(1===e._deferredState&&(i(e,e._deferreds),e._deferreds=null),2===e._deferredState){for(var t=0;t<e._deferreds.length;t++)i(e,e._deferreds[t]);e._deferreds=null}}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1,a=function(e,t,n){try{e(t,n)}catch(e){return r=e,o}}(e,(function(e){n||(n=!0,s(t,e))}),(function(e){n||(n=!0,c(t,e))}));n||a!==o||(n=!0,c(t,r))}return a._onHandle=null,a._onReject=null,a._noop=n,a.prototype.then=function(e,t){if(this.constructor!==a)return function(e,t,r){return new e.constructor((function(o,s){var c=new a(n);c.then(o,s),i(e,new u(t,r,c))}))}(this,e,t);var r=new a(n);return i(this,new u(e,t,r)),r},a}})),require_es6_extensions=__commonJS((function(e,t){t.exports=function(e){var t=s(!0),n=s(!1),r=s(null),o=s(void 0),a=s(0),i=s("");function s(t){var n=new e(e._noop);return n._state=1,n._value=t,n}e.resolve=function(c){if(c instanceof e)return c;if(null===c)return r;if(void 0===c)return o;if(!0===c)return t;if(!1===c)return n;if(0===c)return a;if(""===c)return i;if("object"==typeof c||"function"==typeof c)try{var p=c.then;if("function"==typeof p)return new e(p.bind(c))}catch(t){return new e((function(e,n){n(t)}))}return s(c)};var c=function(e){return"function"==typeof Array.from?(c=Array.from,Array.from(e)):(c=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};return e.all=function(t){var n=c(t);return new e((function(t,r){if(0===n.length)return t([]);var o=n.length;function a(i,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof e&&s.then===e.prototype.then){for(;3===s._state;)s=s._value;return 1===s._state?a(i,s._value):(2===s._state&&r(s._value),void s.then((function(e){a(i,e)}),r))}var c=s.then;if("function"==typeof c)return void new e(c.bind(s)).then((function(e){a(i,e)}),r)}n[i]=s,0==--o&&t(n)}for(var i=0;i<n.length;i++)a(i,n[i])}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(n,r){c(t).forEach((function(t){e.resolve(t).then(n,r)}))}))},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.done=function(e,t){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,(function(e){setTimeout((function(){throw e}),0)}))},e.prototype.finally=function(t){return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},e}})),require_rejection_tracking=__commonJS((function(e,t){t.exports=function(e,t,n){var r=[ReferenceError,TypeError,RangeError],o=!1;function a(){o=!1,e._onHandle=null,e._onReject=null}function i(e,t){return t.some((function(t){return e instanceof t}))}return{enable:function(s){s=s||{},o&&a(),o=!0;var c=0,p=0,u={};function l(e){var t;(s.allRejections||i(u[e].error,s.whitelist||r))&&(u[e].displayId=p++,s.onUnhandled?(u[e].logged=!0,s.onUnhandled(u[e].displayId,u[e].error)):(u[e].logged=!0,u[e].displayId,(((t=u[e].error)&&(t.stack||t))+"").split("\n").forEach((function(e){}))))}return e._onHandle=function(e){var t;2===e._state&&u[e._rejectionId]&&(u[e._rejectionId].logged?(t=e._rejectionId,u[t].logged&&(s.onHandled?s.onHandled(u[t].displayId,u[t].error):u[t].onUnhandled)):n&&n(u[e._rejectionId].timeout),delete u[e._rejectionId])},e._onReject=function(e,n){0===e._deferredState&&(e._rejectionId=c++,u[e._rejectionId]={displayId:null,error:n,timeout:t(l.bind(null,e._rejectionId),i(n,r)?100:2e3),logged:!1})},e},disable:a}}})),require_src=__commonJS((function(e,t){var n=require_core(),r=require_es6_extensions(),o=require_rejection_tracking();new Function("return this")().getPromise=t.exports.getPromise=function(e){var t=e.setTimeout,a=e.onUnhandled,i=e.clearTimeout,s=function(e){return t(e,0)},c=n({setTimeout:s});return c=r(c),c=o(c,s,i).enable({allRejections:!0,onUnhandled:a})}}));require_src();var runtime=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),i=new x(r||[]);return a._invoke=function(e,t,n){var r=l;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=S(i,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?f:d,c.arg===_)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=p;var l="suspendedStart",d="suspendedYield",h="executing",f="completed",_={};function v(){}function y(){}function m(){}var g={};g[a]=function(){return this};var E=Object.getPrototypeOf,b=E&&E(E(w([])));b&&b!==n&&r.call(b,a)&&(g=b);var R=m.prototype=v.prototype=Object.create(g);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var p=c.arg,l=p.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(l).then((function(e){p.value=e,i(p)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,_;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function w(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:k}}function k(){return{value:t,done:!0}}return y.prototype=R.constructor=m,m.constructor=y,y.displayName=c(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,s,"GeneratorFunction")),e.prototype=Object.create(R),e},e.awrap=function(e){return{__await:e}},C(A.prototype),A.prototype[i]=function(){return this},e.AsyncIterator=A,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new A(p(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(R),c(R,s,"Generator"),R[a]=function(){return this},R.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),p=r.call(i,"finallyLoc");if(c&&p){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!p)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),_}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:w(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}("object"==typeof module?module.exports:{});try{regeneratorRuntime=runtime}catch(e){Function("r","regeneratorRuntime = r")(runtime)}var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var __assign=function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},e_1,_a;function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var lifeCycles=["onLoad","onShow","onHide","onReady","onDestroy","onError","onFirstScreen"],lifeCycleFun={},noop=function(){},ErrorCode;try{for(var lifeCycles_1=__values(lifeCycles),lifeCycles_1_1=lifeCycles_1.next();!lifeCycles_1_1.done;lifeCycles_1_1=lifeCycles_1.next()){var name_1=lifeCycles_1_1.value;lifeCycleFun[name_1]=noop}}catch(e){e_1={error:e}}finally{try{lifeCycles_1_1&&!lifeCycles_1_1.done&&(_a=lifeCycles_1.return)&&_a.call(lifeCycles_1)}finally{if(e_1)throw e_1.error}}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.UNKNOWN=1]="UNKNOWN",e[e.NODE_NOT_FOUND=2]="NODE_NOT_FOUND",e[e.METHOD_NOT_FOUND=3]="METHOD_NOT_FOUND",e[e.PARAM_INVALID=4]="PARAM_INVALID",e[e.SELECTOR_NOT_SUPPORTED=5]="SELECTOR_NOT_SUPPORTED",e[e.NO_UI_FOR_NODE=6]="NO_UI_FOR_NODE"}(ErrorCode||(ErrorCode={}));var LYNX_CORE={filename:"lynx_core",slot:"076ea5fc1bcf366b951cf36b6a74e069e33dc57d",release:"3e97d42f6f714ce55dcdde6228bf9ac4"},BDLYNX_CORE={filename:"bdlynx_core",slot:"076ea5fc1bcf366b951cf36b6a74e069e33dc57d",release:"3e97d42f6f714ce55dcdde6228bf9ac4"},componentLifeCycles=["created","attached","ready","moved","detached"],DEFAULT_ENTRY="__Card__",CARD_CONFIG_STR="__card_config_",CARD_CONFIG_THEME="theme",CARD_CONFIG_THEME_UPDATED="onThemeChanged",REACT_SHOULD_COMPONENT_UPDATE_KEY="$$shouldComponentUpdate",REACT_JS_STATE_VERSION_KEY="$$jsStateVersion",REACT_NATIVE_STATE_VERSION_KEY="$$nativeStateVersion",REACT_RENDER_ERROR_KEY="$$renderError",JS_RENDER_ERROR="JS_RENDER_ERROR",LEPUS_RENDER_ERROR="LEPUS_RENDER_ERROR",ROOT_COMPONENT_ID="0",APP_SERVICE_NAME="app-service.js",SOURCE_MAP_RELEASE_ERROR_NAME="LynxGetSourceMapReleaseError",LYNX_CANVAS_JS_ASSET_URL="lynx_assets://lynx_canvas.js";const _global=function(){return this||(0,eval)("this")}();function hasProperty(e,t){return Object.prototype.hasOwnProperty.call(e||{},t)}function getDataType(e){const t=typeof e;return"object"!==t?t:Array.isArray(e)?"array":null==e?"null":e instanceof Date?"date":e instanceof RegExp?"regExp":"object"}function isString(e){return"string"==typeof e}function isObject(e){return"object"===getDataType(e)}function isFunction(e){return"function"===getDataType(e)}function isArray(e){return"array"===getDataType(e)}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isNullOrUndef(e){return isUndefined(e)||isNull(e)}function isError(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(e,Error)}}function isInstanceOf(e,t){try{return e instanceof t}catch(e){return!1}}function guid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function noop$1(){}function forEachRight(e,t){if(!Array.isArray(e))throw new Error("forEachRight ERROR: first params must be array.");for(let n=e.length-1;n>=0;n--)t(e[n])}function createSharedConsole(e){return nativeConsole}const _global$1=function(){return this||(0,eval)("this")}(),groupConsole=createSharedConsole(`groupId:${_global$1.groupId||"-1"}`);var ttConsole=nativeConsole,ShareDataSubject=function(){function e(){this.observersFunc=[]}return e.prototype.registerObserver=function(e){if(this.observersFunc.includes(e))return ttConsole.log("Subject: Observer has been attached already.");this.observersFunc.push(e)},e.prototype.removeObserver=function(e){var t=this.observersFunc.indexOf(e);if(-1===t)return ttConsole.log("Subject: Nonexistent observer.");this.observersFunc.splice(t,1)},e.prototype.notifyDataChange=function(e){this.observersFunc.forEach((function(t){if("function"==typeof t)try{t(e)}catch(e){ttConsole.log("SharedData change and notifyDataChange error info:"+e)}}))},e}();_global.multiApps={},_global.currentAppId="",_global.globComponentRegistPath="",_global.sharedData={},_global.globDynamicComponentEntry=DEFAULT_ENTRY,_global.shareDataSubject=new ShareDataSubject,_global.TaroLynx={},_global.bundleSupportLoadScript=!0;var loadScript=_global.loadScript,EventEmitter=function(){function e(e){this._internal_callNativeModule=e,this._events=new Map}return e.prototype.addListener=function(e,t,n){var r=this._events.get(e);"keyboardstatuschanged"==e&&this._internal_callNativeModule&&this._internal_callNativeModule("LynxSetModule","switchKeyBoardDetect",[!0]),r?r.push({listener:t,context:n}):this._events.set(e,[{listener:t,context:n}])},e.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n=this._events.get(e),r=0;Array.isArray(n)&&(n.some((function(e){if(t===e.listener)return!0;r++}))&&n.splice(r,1));"keyboardstatuschanged"==e&&this._internal_callNativeModule&&this._internal_callNativeModule("LynxSetModule","switchKeyBoardDetect",[!1])},e.prototype.emit=function(e,t){var n=this,r=this._events.get(e);Array.isArray(r)?r.forEach((function(e){var r=e.listener,o=e.context;"function"==typeof r&&r.apply(o||n,t)})):ttConsole.warn("emit event ".concat(e," is not register."))},e.prototype.removeAllListerners=function(e){"string"!=typeof e?this._events=new Map:this._events.delete(e)},e.prototype.removeAllListeners=function(e){"string"!=typeof e?this._events=new Map:this._events.delete(e)},e.prototype.trigger=function(e,t){var n=this,r=this._events.get(e);Array.isArray(r)?("string"==typeof t&&(t=JSON.parse(t)),r.forEach((function(e){var r=e.listener,o=e.context;"function"==typeof r&&r.call(o||n,t)}))):ttConsole.warn("trigger event ".concat(e," is not register."))},e.prototype.toggle=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.emit(e,t)},e}();function createEventEmitter(){return new EventEmitter}var BaseError=function(e){function t(t,n){var r=e.call(this,t)||this;return n&&(r.stack=n),r}return __extends(t,e),t}(Error),InternalError=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kind="INTERNAL_ERROR",t}return __extends(t,e),t}(BaseError),UserError=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.kind="USER_ERROR",t}return __extends(t,e),t}(BaseError),UserValidateError=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="USER_VALIDATE_ERROR",t}return __extends(t,e),t}(UserError),UserRuntimeError=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="USER_RUNTIME_ERROR",t}return __extends(t,e),t}(UserError),InternalRuntimeError=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="INTERNAL_RUNTIME_ERROR",t}return __extends(t,e),t}(InternalError),InternalLepusNgError=function(e){function t(t,n){var r=e.call(this,t)||this;return n&&(r.stack=n),r}return __extends(t,e),t}(Error),InvokeError=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="INVOKE_ERROR",t}return __extends(t,e),t}(InternalError),AppServiceEngineKnownError=function(e){function t(t){var n=e.call(this,"APP-SERVICE-Engine: ".concat(t))||this;return n.type="AppServiceEngineKnownError",n}return __extends(t,e),t}(Error),LynxJSBI=_global.LynxJSBI,shallowClone=function(e){var t={};return isObject(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]})),t},shallowMergeEx=function(e,t,n){void 0===n&&(n=!1);var r={};return isObject(e)&&Object.keys(e).forEach((function(t){r[t]=e[t]})),isObject(t)&&Object.keys(t).forEach((function(e){isNull(t[e])&&n||(r[e]=t[e])})),r},deepClone=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,r;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{r=Promise}catch(e){r=function(){}}function o(a,s,c,p,u){"object"==typeof s&&(c=s.depth,p=s.prototype,u=s.includeNonEnumerable,s=s.circular);var l=[],d=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function a(c,f){if(null===c)return null;if(0===f)return c;var _,v;if("object"!=typeof c)return c;if(e(c,t))_=new t;else if(e(c,n))_=new n;else if(e(c,r))_=new r((function(e,t){c.then((function(t){e(a(t,f-1))}),(function(e){t(a(e,f-1))}))}));else if(o.__isArray(c))_=[];else if(o.__isRegExp(c))_=new RegExp(c.source,i(c)),c.lastIndex&&(_.lastIndex=c.lastIndex);else if(o.__isDate(c))_=new Date(c.getTime());else{if(h&&Buffer.isBuffer(c))return _=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):new Buffer(c.length),c.copy(_),_;e(c,Error)?_=Object.create(c):void 0===p?(v=Object.getPrototypeOf(c),_=Object.create(v)):(_=Object.create(p),v=p)}if(s){var y=l.indexOf(c);if(-1!==y)return d[y];l.push(c),d.push(_)}for(var m in e(c,t)&&c.forEach((function(e,t){var n=a(t,f-1),r=a(e,f-1);_.set(n,r)})),e(c,n)&&c.forEach((function(e){var t=a(e,f-1);_.add(t)})),c){var g=void 0;v&&(g=Object.getOwnPropertyDescriptor(v,m)),g&&null==g.set||(_[m]=a(c[m],f-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);for(m=0;m<E.length;m++){var b=E[m];(!(C=Object.getOwnPropertyDescriptor(c,b))||C.enumerable||u)&&(_[b]=a(c[b],f-1),C.enumerable||Object.defineProperty(_,b,{enumerable:!1}))}}if(u){var R=Object.getOwnPropertyNames(c);for(m=0;m<R.length;m++){var C,A=R[m];(null==(C=Object.getOwnPropertyDescriptor(c,A))?void 0:C.enumerable)||(_[A]=a(c[A],f-1),Object.defineProperty(_,A,{enumerable:!1}))}}return _}(a,c)}function a(e){return Object.prototype.toString.call(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=i,o}(),FLAG_TEMPLATE_DEBUG="template_debug_url",FLAG_BACKTRACE="backtrace:",RUNTIME=function(e){return e.filename};function collectTags(e,t,n){return{lib_version:"3e97d42f6f714ce55dcdde6228bf9ac4",version_code:"2.10.16-rc.10",run_type:RUNTIME(n),extra:e,error_type:t}}function sentryReport(e,t,n,r){var o=(e||{}).rawError;try{ttConsole.error("prod sentry data:",null==o?void 0:o.stack),t.reportException(JSON.stringify(e),null==o?void 0:o.stack,r)}catch(e){ttConsole.error("sentryReport error:",null==e?void 0:e.message)}}function formatException(e){var t=eventFromException(e);return t.sdk=addSdkInfo(),t.platform="javascript",t}function addSdkInfo(){return{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:"5.15.5"}],version:"5.15.5",integrations:["InboundFilters","FunctionToString","Breadcrumbs","GlobalHandlers","LinkedErrors","UserAgent"]}}function eventFromException(e){var t;return isError(e)&&(addExceptionMechanism(t=eventFromStacktrace(computeStackTrace(e)),{handled:!0,type:"generic"}),t.level="error"),t}function addExceptionMechanism(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(e){}}var UNKNOWN_FUNCTION="?",chrome=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gecko=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,winjs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,geckoEval=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,chromeEval=/\((\S*)(?::(\d+))(?::(\d+))\)/;function computeStackTrace(e){var t=null,n=null==e?void 0:e.framesToPop;try{if(t=computeStackTraceFromStackProp(e))return popFrames(t,n)}catch(e){}return{message:extractMessage(e),name:null==e?void 0:e.name,stack:[],failed:!0}}function computeStackTraceFromStackProp(e){var t,n,r,o=[],a=e.stack.split("\n");if(!e||!e.stack)return null;for(var i=0;i<a.length;++i){if(n=chrome.exec(a[i])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=chromeEval.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||UNKNOWN_FUNCTION,args:s?[n[2]]:[],line:n[3]?+Number(n[3]):null,column:n[4]?+Number(n[4]):null}}else if(n=winjs.exec(a[i]))r={url:n[2],func:n[1]||UNKNOWN_FUNCTION,args:[],line:+Number(n[3]),column:n[4]?+Number(n[4]):null};else{if(!(n=gecko.exec(a[i])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=geckoEval.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==i||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||UNKNOWN_FUNCTION,args:n[2]?n[2].split(","):[],line:n[4]?+Number(n[4]):null,column:n[5]?+Number(n[5]):null}}!r.func&&r.line&&(r.func=UNKNOWN_FUNCTION),o.push(r)}return o.length?{message:extractMessage(e),name:e.name,stack:o}:null}function extractMessage(e){var t=null==e?void 0:e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function popFrames(e,t){try{return Object.assign({},e,{stack:e.stack.slice(t)})}catch(t){return e}}function eventFromStacktrace(e){return{exception:{values:[exceptionFromStacktrace(e)]}}}function exceptionFromStacktrace(e){var t=prepareFramesForEvent(e.stack),n={type:e.name,value:e.message};return(null==t?void 0:t.length)&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function prepareFramesForEvent(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).slice(0,50).reverse()}function reportError(e,t,n){var r=null!=n?n:{},o=r.originError,a=r.errorCode;try{sentryReport(formatError(e,n),t,o,a)}catch(e){ttConsole.error("formatError err:\n",e)}}function formatError(e,t){var n=null!=t?t:{},r=n.runType,o=void 0===r?LYNX_CORE:r,a=n.__sourcemap__release__,i=n.getSourceMapRelease,s=e.stack;e.stack=formatStack(e,o);var c=formatException(e);try{var p=collectTags(e.message,e.name,o),u=appendTags(e,createBeforeSend(c,o,{__sourcemap__release__:a,getSourceMapRelease:i}),p,o);return u.rawError={stack:s,message:e.message,cause:e.cause},u}catch(e){ttConsole.error("formatError err:\n",e)}}function legacyReportError(e,t,n,r,o){return void 0===n&&(n=LYNX_CORE),reportError(e,t,{runType:n,originError:r,__sourcemap__release__:o.__sourcemap__release__})}function appendTags(e,t,n,r){var o="USER_ERROR"===e.kind?"USER_ERROR":"INTERNAL_ERROR";return{sentry:__assign(__assign({},t),{tags:n}),pid:o,url:"file://".concat(RUNTIME(r),".js")}}function formatStack(e,t){return e.stack?e.stack.split("\n").filter((function(e){return e.split(":").length>2})).map((function(e){if(e.includes("file://"))return e;var n="".concat(t.filename,".js");return e.replace(n,"file://".concat(n))})).join("\n"):""}function createBeforeSend(e,t,n){var r,o,a,i=null===(a=null===(o=null===(r=e.exception)||void 0===r?void 0:r.values)||void 0===o?void 0:o[0])||void 0===a?void 0:a.stacktrace;return(null==i?void 0:i.frames)&&i.frames.forEach((function(e){var r,o,a=t.filename,i=t.release;-1!==e.filename.indexOf(a)?(e.filename="".concat(a,".").concat(i,".js"),e.release=i):e.release=null!==(o=null===(r=null==n?void 0:n.getSourceMapRelease)||void 0===r?void 0:r.call(n,e.filename))&&void 0!==o?o:null==n?void 0:n.__sourcemap__release__})),e}function wrapUserFunction(e,t,n,r){return void 0===r&&(r=LYNX_CORE),isFunction(n)?wrapFunction("USER_ERROR",e,n,t,r):noop$1}function wrapFunction(e,t,n,r,o){return void 0===e&&(e="INTERNAL_ERROR"),function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];try{return n.apply(this,a)}catch(a){var s="".concat(t," \n").concat(a.message);"onError"!==n.name&&"function"==typeof r.onError&&r.onError("Card ".concat(n.name," exec error:").concat(s,"\n").concat(a.stack));var c="INTERNAL_ERROR"===e?new InternalRuntimeError(s,a.stack):new UserRuntimeError(s,a.stack);ttConsole.log("wrapError-".concat(t),c),reportError(c,r._nativeApp,{runType:o,__sourcemap__release__:r.__sourcemap__release__,getSourceMapRelease:r.getSourceMapRelease})}}}function wrapInnerFunction(e,t,n,r){return void 0===r&&(r=LYNX_CORE),isFunction(n)?wrapFunction("INTERNAL_ERROR",e,n,t,r):noop$1}var Reporter=function(){function e(e,t){this.getApp=e,this.getNativeApp=t,this.getApp=e,this.getNativeApp=t}return e.prototype.setSourceMapRelease=function(e){var t,n,r=null!=e?e:{},o=r.stack,a=void 0===o?"":o,i=r.message,s=void 0===i?"":i;if(""!==a&&""!==s){var c=new InternalLepusNgError(s,a);c.name=SOURCE_MAP_RELEASE_ERROR_NAME,null===(n=null===(t=this.getApp())||void 0===t?void 0:t.setSourceMapRelease)||void 0===n||n.call(t,c)}else nativeConsole.error("Reporter: setSourceMapRelease failed, stack is ",a,", message is ",s)},e.prototype.sendError=function(e,t){var n,r,o;if(isString(e)){var a=e.indexOf(FLAG_BACKTRACE),i=-1===a?e:e.slice(0,a),s=e.slice(a),c=s.indexOf(FLAG_TEMPLATE_DEBUG);s=-1===c?s:s.slice(0,c);var p=new Error(i);p.stack=s,p.cause={originalError:e};try{var u=formatError(p,{getSourceMapRelease:null===(n=this.getApp())||void 0===n?void 0:n.getSourceMapRelease});null===(o=null===(r=this.getNativeApp())||void 0===r?void 0:r.reportException)||void 0===o||o.call(r,JSON.stringify(u),s,t)}catch(p){nativeConsole.warn("Reporter: error occupied when formatError ",p)}}else nativeConsole.error("Reporter: originError is not string")},e}(),NodeRef=function(){function e(e,t,n,r,o){this._selectorName=n,r&&r.length>0?this._ancestorSelectorNames=__spreadArray([],__read(r),!1):this._ancestorSelectorNames=[],this._rootComponentId=t,this._proxy=e,this._isCallByRefId=o}return e.prototype.getNodeRef=function(t){return new e(this._proxy,this._rootComponentId,t,__spreadArray(__spreadArray([],__read(this._ancestorSelectorNames),!1),[this._selectorName],!1),this._isCallByRefId)},e.prototype.invoke=function(e){this._proxy.nativeLynxUIModule.invokeUIMethod(this._rootComponentId,__spreadArray(__spreadArray([],__read(this._ancestorSelectorNames),!1),[this._selectorName],!1),e.method,Object.assign({_isCallByRefId:this._isCallByRefId},e.params),(function(t){0===t.code?e.success&&e.success(t.data):e.fail&&e.fail(t)}))},e.prototype.scrollIntoView=function(e){void 0===e&&(e=!0);var t={};if("boolean"==typeof e)t=e?{behavior:"auto",block:"start",inline:"nearest"}:{behavior:"auto",block:"end",inline:"nearest"};else{if("object"!=typeof e)throw new Error("scrollIntoView only support boolean or object");t=e}this.invoke({method:"scrollIntoView",params:{scrollIntoViewOptions:t},fail:function(e){ttConsole.error("NodeRef.scrollIntoView failed","ErrorCode: ".concat(e.code))}})},e}(),compPrefix=1,globalId=1,propsIdMap={};function genCompPrefix(){return String(compPrefix++)}function genPropsId(e){return propsIdMap[e]||(propsIdMap[e]=String(globalId++)),propsIdMap[e]}var dataTypeSet=new Set(["string","number","array","object","boolean","null","function"]);function eq(e,t){return e===t||e!=e&&t!=t}var reserveKey=new Set(["__globalProps","SystemInfo"]),deepEqual=function(e,t,n){if(e===t)return!0;var r=getDataType(e),o=getDataType(t);if(n||(n=new WeakMap),r===o){if("array"===r){if(e.length!==t.length)return!1;if(n.has(e)&&n.has(t))return n.get(e)===t;n.set(e,t),n.set(t,e);var a=!0;return e.some((function(e,r){return!(a=deepEqual(e,t[r],n))})),n.delete(e),n.delete(t),a}if("object"===r){var i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;if(n.has(e)&&n.has(t))return n.get(e)===t;n.set(e,t),n.set(t,e);var s=!0;return i.some((function(r){return!(s=deepEqual(e[r],t[r],n))})),n.delete(e),n.delete(t),s}return"date"===r?eq(+e,+t):"regExp"===r?e.toString()===t.toString():eq(e,t)}return!1},diffData=function(e,t,n){var r={};if(e===t)return r;if(isObject(t)){var o=isObject(e),a=Object.keys(t);if(a.length)(n&&n.length?n:a).forEach((function(n){var a=t[n];dataTypeSet.has(getDataType(a))&&(o&&deepEqual(e[n],a)||(r[n]=a))}))}return r},filterReactComponentData=function(e){var t={};return isObject(e)&&Object.keys(e).forEach((function(n){var r=e[n],o=getDataType(r);dataTypeSet.has(o)&&!reserveKey.has(n)&&(t[n]=r)})),t},hasJSOnlyData=function(e){return!!isObject(e)&&Object.keys(e).some((function(t){var n=getDataType(e[t]);return!dataTypeSet.has(n)}))},filterTTData=function(e,t){var n={};if(isObject(t)){var r=new Set(e);Object.keys(t).forEach((function(e){r.has(e)||(n[e]=t[e])}))}return n},Animation=function(){function e(t){this.effect=t,this.id="__lynx-inner-js-animation-"+e.count++}return e.prototype.cancel=function(){this.effect.target.cancelAnimate(this)},e.prototype.pause=function(){this.effect.target.pauseAnimate(this)},e.prototype.play=function(){this.effect.target.playAnimate(this)},e.count=0,e}(),KeyframeEffect=function(e,t,n){this.target=e,this.keyframes=t,this.options=n},Element=function(){function e(e,t,n){this._root=e,this._idSelector="#"+t,this._lynx=n,this._element=void 0}return e.prototype.ensureElement=function(){this._element||(this._element=this._lynx.createElement(this._root,this._idSelector))},e.prototype.animate=function(e,t){this.ensureElement();var n=new Animation(new KeyframeEffect(this,e,t));return this._element.animate(0,n.id,e,t),n},e.prototype.playAnimate=function(e){this._element.animate(1,e.id,void 0,void 0)},e.prototype.pauseAnimate=function(e){this._element.animate(2,e.id,void 0,void 0)},e.prototype.cancelAnimate=function(e){this._element.animate(3,e.id,void 0,void 0)},e.prototype.finishAnimate=function(e){this._element.animate(4,e.id,void 0,void 0)},e.prototype.setProperty=function(e,t){var n;if(this.ensureElement(),"string"==typeof e&&"string"==typeof t)this._element.setProperty(((n={})[e]=t,n));else{if("object"!=typeof e)throw new Error("setProperty's param must be string or object. While current type is ".concat(typeof e," and ").concat(typeof t,"."));this._element.setProperty(e)}},e}(),IdentifierType;!function(e){e[e.ID_SELECTOR=0]="ID_SELECTOR",e[e.REF_ID=1]="REF_ID",e[e.UNIQUE_ID=2]="UNIQUE_ID"}(IdentifierType||(IdentifierType={}));var SelectorQuery=function(){function e(e,t,n){this._component=e,this._taskQueue=t,this._native_proxy=n,this._fire_immediately=!1,this._root_unique_id=void 0}return e.fromQuery=function(t,n){return new e(null!=n?n:t._component,t._taskQueue.slice(),t._native_proxy)},e.newEmptyQuery=function(t,n){return new e(null!=n?n:"",[],t)},e.prototype.commitTask=function(t){var n=e.fromQuery(this,this._component);if(n._taskQueue.push(t),!this._fire_immediately)return n;n.exec()},e.prototype.in=function(e){return e.createSelectorQuery(this)},e.prototype.select=function(e){return new NodesRef(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})},e.prototype.selectAll=function(e){return new NodesRef(this,{type:0,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!1})},e.prototype.selectReactRef=function(e){if(!this._taskQueue.length)return this._fire_immediately=!0,new NodesRef(this,{type:1,identifier:e,component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0});var t="selectReactRef() should be called before any other selector query methods";ttConsole.warn(t);var n=new Error(t);reportError(new InvokeError(t,n.stack),this._native_proxy.nativeApp)},e.prototype.selectRoot=function(){return this.select("")},e.prototype.selectUniqueID=function(e){return new NodesRef(this,{type:2,identifier:e.toString(),component_id:this._component,root_unique_id:this._root_unique_id,first_only:!0})},e.prototype.exec=function(){for(var e=0;e<this._taskQueue.length;++e)this._taskQueue[e](this._native_proxy)},e.prototype.setRoot=function(e){return this._root_unique_id=Number(e),this},e}(),NodesRef=function(){function e(e,t){this._nodeSelectToken=t,this._selectorQuery=e}return e.prototype.invoke=function(e){var t=this;return this._selectorQuery.commitTask((function(n){var r,o=function(t){0===t.code?e.success&&e.success(t.data):e.fail&&e.fail(t)};t._nodeSelectToken.first_only?n.nativeApp.invokeUIMethod(t._nodeSelectToken.type,t._nodeSelectToken.identifier,t._nodeSelectToken.component_id,e.method,null!==(r=e.params)&&void 0!==r?r:{},o,t._nodeSelectToken.root_unique_id):o({code:5,data:"selectAll not supported for invoke method"})}))},e.prototype.path=function(e){var t=this;return this._selectorQuery.commitTask((function(n){n.nativeApp.getPathInfo(t._nodeSelectToken.type,t._nodeSelectToken.identifier,t._nodeSelectToken.component_id,t._nodeSelectToken.first_only,(function(t){e&&e(t.data,t.status)}),t._nodeSelectToken.root_unique_id)}))},e.prototype.node=function(t){var n=this;return this._selectorQuery.commitTask((function(r){var o=function(n){if(0==n.status.code)if("canvas"!=n.data.tag)t&&t(null,{code:4,data:"the tag of the selected node ("+n.data.tag+") is not canvas"});else{var o=e.nodePool[n.data.unique_id];void 0===o&&(o=r.lynx.createCanvas(n.data.name),e.nodePool[n.data.unique_id]=o),t&&t(o,n.status)}else t&&t(n.data,n.status)};n._nodeSelectToken.first_only?r.nativeApp.getFields(n._nodeSelectToken.type,n._nodeSelectToken.identifier,n._nodeSelectToken.component_id,n._nodeSelectToken.first_only,["id","tag","unique_id","name"],o,n._nodeSelectToken.root_unique_id):o({code:5,data:"selectAll not supported for node method"})}))},e.prototype.fields=function(e,t){var n=this;return this._selectorQuery.commitTask((function(r){var o=[];for(var a in e)"query"!=a||1!=e[a]||e.unique_id?e[a]&&o.push(a):o.push("unique_id");r.nativeApp.getFields(n._nodeSelectToken.type,n._nodeSelectToken.identifier,n._nodeSelectToken.component_id,n._nodeSelectToken.first_only,o,(function(o){var a,i;if(e.query){var s=function(t){t.query=SelectorQuery.newEmptyQuery(r),t.query.setRoot(t.unique_id.toString()),e.unique_id||delete t.unique_id};if(n._nodeSelectToken.first_only)s(o.data);else try{for(var c=__values(o.data),p=c.next();!p.done;p=c.next()){s(p.value)}}catch(e){a={error:e}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}}t&&t(o.data,o.status)}),n._nodeSelectToken.root_unique_id)}))},e.prototype.setNativeProps=function(e){var t=this;return this._selectorQuery.commitTask((function(n){n.nativeApp.setNativeProps(t._nodeSelectToken.type,t._nodeSelectToken.identifier,t._nodeSelectToken.component_id,t._nodeSelectToken.first_only,e,t._nodeSelectToken.root_unique_id)}))},e.nodePool={},e}(),isNativeConsoleHasALog;function getErrorBoundary(e,t){for(var n=t._reactAppInstance._getComponent(e);n&&"string"==typeof n.parentId;){if(n.parentId===ROOT_COMPONENT_ID)return;if((n=t._reactAppInstance._getComponent(n.parentId)).$hasDerivedErrorFunction)return n}}function checkReactShouldAbortRenderError(e){var t,n;return(null===(t=null==e?void 0:e.state)||void 0===t?void 0:t[REACT_RENDER_ERROR_KEY])===JS_RENDER_ERROR||(null===(n=null==e?void 0:e.state)||void 0===n?void 0:n[REACT_RENDER_ERROR_KEY])===LEPUS_RENDER_ERROR}function handleExceptionInJSInternal(e,t,n){var r,o={message:null==e?void 0:e.message,stack:null==e?void 0:e.stack,name:JS_RENDER_ERROR},a=getErrorBoundary(t,n);if(!a)throw e;if(!checkReactShouldAbortRenderError(a)){if(a.$hasDerivedErrorFunction){var i=a.$class.getDerivedStateFromError(o);if(isObject(i)){var s=__assign(__assign({},i),((r={})[REACT_RENDER_ERROR_KEY]=JS_RENDER_ERROR,r));a.setState(s)}}a.$catchError=o,n.$throwError=o}}function parsePath(e){if("string"!==getDataType(e)){var t="path should be string";throw ttConsole.error("TypeError",t),new AppServiceEngineKnownError(t)}for(var n=!1,r=!1,o=e.length,a=[],i="",s=0,c=0;c<o;c++){var p=e[c];if("\\"===p)c+1<o&&("."===e[c+1]||"["===e[c+1]||"]"===e[c+1])?(i+=e[c+1],c++):i+="\\";else if("."===p)i&&(a.push(i),i="");else if("["===p){if(r)throw ttConsole.error("DataPathError","Path can not have nested []: ".concat(e)),new AppServiceEngineKnownError("Path can not has nested []: ".concat(e));if(i&&(a.push(i),i=""),0===a.length)throw ttConsole.error("DataPathError","Path can not start with []: ".concat(e)),new AppServiceEngineKnownError("Path can not start with []: ".concat(e));r=!0,n=!1}else if("]"===p){if(!n)throw ttConsole.error("DataPathError","Must have number in []: ".concat(e)),new AppServiceEngineKnownError("Must have number in []: ".concat(e));r=!1,a.push(s),s=0,i=""}else if(r){if(p<"0"||p>"9")throw ttConsole.error("DataPathError","Only number 0-9 could inside []: ".concat(e)),new AppServiceEngineKnownError("Only number 0-9 could inside []: ".concat(e));n=!0,s=10*s+p.charCodeAt(0)-48}else i+=p}if(r)throw ttConsole.error("DataPathError","[] should appear in pair: ".concat(e)),new AppServiceEngineKnownError("[] should appear in pair: ".concat(e));if(i&&a.push(i),0===a.length)throw ttConsole.error("DataPathError","Path can not be empty"),new AppServiceEngineKnownError("Path can not be empty");return a}function getObjectByPath(e,t){for(var n={},r=void 0,o=parsePath(t),a=e,i=0;i<o.length;i++){var s=getDataType(a);if(Number(o[i]==o[i]&&o[i]%1==0)){if("array"!==s&&"object"!==s)throw ttConsole.error("DataPathError, Expected Array or Object but get ".concat(s,". key: ").concat(t)),new AppServiceEngineKnownError("DataPathError, Expected Array but get ".concat(s,". key: ").concat(t))}else if("object"!==s)throw ttConsole.error("DataPathError, Expected Object but get ".concat(s,". key: ").concat(t)),new AppServiceEngineKnownError("DataPathError, Expected Object but get ".concat(s,". key: ").concat(t));r=o[i],n=a,a=a[o[i]]}return{obj:n,key:r}}function alog(e){void 0===isNativeConsoleHasALog&&(isNativeConsoleHasALog="function"==typeof ttConsole.alog),isNativeConsoleHasALog&&ttConsole.alog("[LynxJSSDK]"+e)}var ListenerKeys={onSetup:"lynx.performance.timing.onSetup",onUpdate:"lynx.performance.timing.onUpdate"},Performance=function(){function e(e){this._emitter=e}return e.prototype.addTimingListener=function(e){this._emitter.addListener(ListenerKeys.onSetup,e.onSetup,e),this._emitter.addListener(ListenerKeys.onUpdate,e.onUpdate,e)},e.prototype.removeTimingListener=function(e){this._emitter.removeListener(ListenerKeys.onSetup,e.onSetup),this._emitter.removeListener(ListenerKeys.onUpdate,e.onUpdate)},e.prototype.removeAllTimingListener=function(){this._emitter.removeAllListeners(ListenerKeys.onSetup),this._emitter.removeAllListeners(ListenerKeys.onUpdate)},e}();function needPromisePolyfill(){return!0}function getPromiseMaybePolyfill(e,t,n){if(needPromisePolyfill()){var r=_global.getPromise;return"function"==typeof r?r({setTimeout:e,onUnhandled:t,clearTimeout:n}):_global.Promise}return _global.Promise}var ExposureManager=function(e){var t=this;this.resumeExposure=function(){t._exposureModule.resumeExposure()},this.stopExposure=function(){t._exposureModule.stopExposure()},this._nativeModules=e,this._exposureModule=this._nativeModules.LynxExposureModule},IntersectionObservationTarget=function(){function e(e,t){this._selector=e,this._callback=t}return e.prototype.invokeCallback=function(e){this._callback(e)},e}(),IntersectionObserver=function(){function e(e,t,n){this._id=e,this._intersectionObserverModule=t,this._manager=n,this._observationTargets=[],this._defaultMargins={left:0,right:0,top:0,bottom:0}}return e.prototype.relativeTo=function(e,t){return this._intersectionObserverModule.relativeTo(this._id,e,t||this._defaultMargins),this},e.prototype.relativeToViewport=function(e){return this._intersectionObserverModule.relativeToViewport(this._id,e||this._defaultMargins),this},e.prototype.relativeToScreen=function(e){return this._intersectionObserverModule.relativeToScreen(this._id,e||this._defaultMargins),this},e.prototype.observe=function(e,t){this._observationTargets.push(new IntersectionObservationTarget(e,t)),this._intersectionObserverModule.observe(this._id,e,this._observationTargets.length-1)},e.prototype.disconnect=function(){this._intersectionObserverModule.disconnect(this._id),this._manager.removeObserver(this._id)},e.prototype.invokeCallback=function(e,t){e<this._observationTargets.length&&this._observationTargets[e].invokeCallback(t)},e}(),IntersectionObserverManager=function(){function e(e){this._nativeModules=e,this._observerId=0,this._observers={},this._defaultOptions={thresholds:[0],initialRatio:0,observeAll:!1}}return e.prototype.createIntersectionObserver=function(e,t){var n=this._nativeModules.IntersectionObserverModule,r=new IntersectionObserver(this._observerId,n,this);return this._observers[this._observerId]=r,n.createIntersectionObserver(this._observerId,e,t||this._defaultOptions),this._observerId++,r},e.prototype.getObserver=function(e){return this._observers[e]},e.prototype.removeObserver=function(e){this._observers[e]=null},e}(),Worker=function(){function e(e,t,n,r){this._url=e,this._name=t,this._workerId=n,this._nativeApp=r}return e.createWorker=function(t){return function(n,r){return new e(n,r,t.createWorker(n,r),t)}},e.prototype.postMessage=function(e){this._nativeApp.postMessage(this._workerId,e)},e.prototype.onMessage=function(e){this._nativeApp.onMessage(this._workerId,e)},e.prototype.onException=function(e){this._nativeApp.onException(this._workerId,e)},e.prototype.onTerminate=function(e){this._nativeApp.onTerminate(this._workerId,e)},e.prototype.terminate=function(){this._nativeApp.terminate(this._workerId)},e}(),numberRegExp=/\d+/,Version=function(){function e(e){var t,n,r,o,a;this.major=0,this.minor=0,this.revision=0,this.build=0,n=(t=__read((e=String(e)).split(".").map((function(e){var t=numberRegExp.exec(e);return t&&t.length>0?+t[0]:0})),4))[0],this.major=void 0===n?0:n,r=t[1],this.minor=void 0===r?0:r,o=t[2],this.revision=void 0===o?0:o,a=t[3],this.build=void 0===a?0:a}return e.prototype.gt=function(t){return"string"==typeof t&&(t=new e(t)),this.major>t.major||!(this.major<t.major)&&(this.minor>t.minor||!(this.minor<t.minor)&&(this.revision>t.revision||!(this.revision<t.revision)&&(this.build>t.build||(this.build,t.build,!1))))},e.prototype.eq=function(t){return"string"==typeof t&&(t=new e(t)),this.major===t.major&&this.minor===t.minor&&this.revision===t.revision&&this.build===t.build},e.prototype.lt=function(e){return!this.eq(e)&&!this.gt(e)},e.prototype.gte=function(e){return this.eq(e)||this.gt(e)},e.prototype.lte=function(e){return this.eq(e)||this.lt(e)},e}(),version2_4=new Version("2.4"),version2_7=new Version("2.7"),version2_9=new Version("2.9"),Lynx=function(e,t,n,r){var o,a,i=this;this.getNativeApp=e,this.getApp=t,this.Promise=n,this.getNativeLynx=r,this.__globalProps=this.getNativeLynx().__globalProps||{},this._switches={},this.nativeDataChanged=!1,this.performance=this.getApp().performance,this.setTimeout=this.getApp().wrapReport(this.getNativeApp().setTimeout,"setTimeout Error"),this.setInterval=this.getApp().wrapReport(this.getNativeApp().setInterval,"setInterval Error"),this.clearInterval=this.getNativeApp().clearInterval,this.clearTimeout=this.getNativeApp().clearTimeout,this.getComponentContext=function(e,t,n){return i.getNativeLynx().getComponentContext(e,t,n)},this.getElementById=function(e){return new Element("",e,i)},this.requestAnimationFrame=function(e){return i.getNativeLynx().requestAnimationFrame(e)},this.cancelAnimationFrame=function(e){return i.getNativeLynx().cancelAnimationFrame(e)},this.createElement=function(e,t){return i.getNativeLynx().createElement(e,t)},this.fetchDynamicComponent=function(e,t,n){return i.getNativeLynx().fetchDynamicComponent(e,t,n)},this.triggerLepusGlobalEvent=function(e,t){return i.getNativeApp().triggerLepusGlobalEvent(e,t)},this.requireModule=function(e){if("string"!=typeof e||!e)throw new Error("importScript should load with one path");return i.getNativeApp().loadScript(e),(0,_global.initBundle)({tt:i.getApp()})},this.requireModuleAsync=function(e,t){if("string"!=typeof e||!e)throw new Error("importScript async should load with one path");i.getNativeApp().loadScriptAsync(e,(function(n){var r,o;if(n)r=new Error("loadScriptAsync: ".concat(i.getNativeApp().id," error: ").concat(n));else try{o=(0,_global.initBundle)({tt:i.getApp()})}catch(t){(r=new Error("loadScriptAsync error, app id: ".concat(i.getNativeApp().id,", path: ").concat(e,", initBundle failed! Error message: ").concat(t.message,". Please check your js code with error message and stack. "))).stack=t.stack,reportError(new UserRuntimeError(r.message,r.stack),i.getNativeApp(),{getSourceMapRelease:i.getApp().getSourceMapRelease})}t&&t(r,o)}))},this.setSharedData=function(e,t){_global.sharedData[e]=t;var n={};n[e]=t,_global.shareDataSubject.notifyDataChange(n)},this.getSharedData=function(e){return _global.sharedData[e]},this.registerSharedDataObserver=function(e){return _global.shareDataSubject.registerObserver(e)},this.removeSharedDataObserver=function(e){return _global.shareDataSubject.removeObserver(e)},this.createSelectorQuery=function(){return SelectorQuery.newEmptyQuery({nativeApp:i.getNativeApp(),lynx:i})},this.reportError=function(e){var t;if(isError(e))t=e;else{var n=void 0;n="string"!=typeof e?JSON.stringify(e):e,t=new Error(n)}i.getApp().handleError(new UserRuntimeError(t.message,t.stack),t)},this.loadDynamicComponent=function(e,t){return void 0===t&&(t={}),new i.Promise((function(n,r){i.getNativeLynx().fetchDynamicComponent(e,t,(function(e){e&&0==e.code?n(e):r(e)}))}))},this.getJSModule=function(e){var t;if(!i.getApp().appInstance){if(new Version(i.targetSdkVersion||"1.4").gte(version2_4))return i.getApp().getJSModule(e);if(null===(t=i._switches)||void 0===t?void 0:t.enableGetJSModuleInLoadCard)return i.getApp().getJSModule(e)}return i.getApp().getJSModule(e)},this.registerModule=function(e,t){return i.getApp().registerModule(e,t)},this.createWorker=Worker.createWorker(this.getNativeApp()),this.setOnHMRUpdate=function(e){},this.getI18nResource=this.getNativeLynx().getI18nResource,this.requestResourcePrefetch=null===(o=this.getNativeApp().nativeModuleProxy.LynxResourceModule)||void 0===o?void 0:o.requestResourcePrefetch,this.cancelResourcePrefetch=null===(a=this.getNativeApp().nativeModuleProxy.LynxResourceModule)||void 0===a?void 0:a.cancelResourcePrefetch,this.reload=function(e,t){i.getNativeLynx().reload(e,t)},this.resumeExposure=this.getApp()._apiList.resumeExposure,this.stopExposure=this.getApp()._apiList.stopExposure},CachedFunctionProxy=function(){function e(e){this._cachedFunctions={};var t=function(t){Object.defineProperty(n,t,{get:function(){if(this._cachedFunctions[t])return this._cachedFunctions[t];var n=e[t];return"function"==typeof n&&(this._cachedFunctions[t]=n),n}})},n=this;for(var r in e)t(r)}return e.create=function(t){return new e(t)},e}(),BaseApp=function(){function e(t){var n=this;this.sourcemaps={},this.setSourceMapRelease=function(t){if(isError(t)&&t.name===e.kGetSourceMapReleaseErrorName){var r=computeStackTrace(t).stack;if(r.length>0&&isString(r[0].url))return n.sourcemaps[r[0].url]=t.message,void alog("setSourceMapRelease success with url: ".concat(r[0].url,", release: ").concat(t.message))}alog("setSourceMapRelease failed with error: ".concat(JSON.stringify(t)))},this.getSourceMapRelease=function(t){var r,o;return null!==(o=null!==(r=n.sourcemaps[t])&&void 0!==r?r:n.sourcemaps[e.kDefaultSourceMapURL])&&void 0!==o?o:""},this.modules={},this._apiList={},this.componentEventBatch={},this._lazyCallableModules=new Map,this.$isErrorHandling=!1,this.setupExposureApi=function(){n._apiList.resumeExposure=function(){n._exposureManager.resumeExposure()},n._apiList.stopExposure=function(){n._exposureManager.stopExposure()}};var r=t.nativeApp,o=t.params,a=t.lynx;this._nativeApp=CachedFunctionProxy.create(r),this.nativeAppId=r.id,this._params=o,this.sharedConsole=createSharedConsole("runtimeId:".concat(this.nativeAppId)),this.dynamicComponentExports={},this.setTimeout=this.nativeApp.setTimeout,this.setInterval=this.nativeApp.setInterval,this.clearInterval=this.nativeApp.clearInterval,this.clearTimeout=this.nativeApp.clearTimeout,this.NativeModules=r.nativeModuleProxy,this.NetworkingModule=r.nativeModuleProxy.NetworkingModule,this.BDLynxModule=r.nativeModuleProxy.BDLynxModule,this.LynxUIMethodModule=r.nativeModuleProxy.LynxUIMethodModule,this.LynxTestModule=r.nativeModuleProxy.LynxTestModule,this.LynxResourceModule=r.nativeModuleProxy.LynxResourceModule,this._intersectionObserverManager=new IntersectionObserverManager(this.NativeModules),this._exposureManager=new ExposureManager(this.NativeModules),this.setupExposureApi(),this.GlobalEventEmitter=new EventEmitter(this.__internal__callNativeModule.bind(this)),this.performance=new Performance(this.GlobalEventEmitter),this.Reporter=new Reporter((function(){return n}),(function(){return n.nativeApp}));var i=this.setupPromise(this.nativeApp.setTimeout,this.nativeApp.clearTimeout),s=CachedFunctionProxy.create(a);if(this.lynx=new Lynx((function(){return n._nativeApp}),(function(){return n}),i,(function(){return s})),this.setupJSModule(),this.setupIntersectionApi(),_global["installNapiModulesOnRT"+this.nativeAppId]&&_global["installNapiModulesOnRT"+this.nativeAppId](this.lynx),this._enableCanvas=this._nativeApp.enableCanvasOptimization,this._enableCanvas)try{var c=this.lynx.requireModule(LYNX_CANVAS_JS_ASSET_URL).initCanvas;alog("load lynx_canvas.js success"),this._initCanvas=c,this._initCanvas(this,this.lynx.Promise)}catch(e){alog("load lynx_canvas.js fail, error: ".concat(e.message));var p=new InternalRuntimeError("load lynx_canvas.js fail, error: ".concat(e.message),e.stack);this.handleError(p,e)}}return Object.defineProperty(e.prototype,"appInstance",{get:function(){return this._appInstance},set:function(e){this._appInstance=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"__sourcemap__release__",{set:function(t){this.sourcemaps[e.kDefaultSourceMapURL]=t},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._nativeApp=null,this._params=null,this.GlobalEventEmitter=null,this._lazyCallableModules=null},Object.defineProperty(e.prototype,"nativeApp",{get:function(){return this._nativeApp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apiList",{set:function(e){this._apiList=__assign(__assign({},this._apiList),e)},enumerable:!1,configurable:!0}),e.prototype.wrapReport=function(e,t){var n=this;function r(e){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];try{return e.apply(this,r)}catch(e){n.handleError(new UserRuntimeError("".concat(t,": ").concat(n.nativeApp.id," error: ").concat(e.message),e.stack),e)}}}return function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return Function.prototype.apply.call(e,void 0,__spreadArray([r(t)],__read(n),!1))}},e.prototype.setupPromise=function(e,t){var n=this,r=getPromiseMaybePolyfill(e,(function(e,t){try{t.stack||(t=new Error("wrapError-"+JSON.stringify(t))),t&&n.handleError(new UserRuntimeError("unhandled rejection: ".concat(t.message),t.stack),t)}catch(e){}}),t);return this.resolvedPromise=r.resolve(),r},e.prototype.setupIntersectionApi=function(){var e=this;this._apiList.createIntersectionObserver=function(t,n){var r=t.componentId,o=void 0===r?"":r;return e._intersectionObserverManager.createIntersectionObserver(o,n)},this.lynx.createIntersectionObserver=this._apiList.createIntersectionObserver},e.prototype.setupJSModule=function(){this.registerModule("GlobalEventEmitter",this.GlobalEventEmitter),this.registerModule("Reporter",this.Reporter)},e.prototype.onIntersectionObserverEvent=function(e,t,n){var r=this._intersectionObserverManager.getObserver(e);r&&r.invokeCallback(t,n)},e.prototype.saveComponentEventBatch=function(e,t,n){this.componentEventBatch[e]||(this.componentEventBatch[e]=[]),this.componentEventBatch[e].push({eventName:t,data:n})},e.prototype.processCardConfig=function(e){var t=this.appInstance;try{if("string"==typeof e&&(e=JSON.parse(e)),e&&"object"==typeof e){var n=e[CARD_CONFIG_STR];if(isObject(n)){var r=n.theme;isObject(r)&&(t[CARD_CONFIG_THEME]=r,"function"==typeof t[CARD_CONFIG_THEME_UPDATED]&&t[CARD_CONFIG_THEME_UPDATED](r))}}}catch(e){var o=new InternalRuntimeError("processCardConfig Card(): ".concat(this.nativeApp.id," error: ").concat(e.message),e.stack);this.handleError(o,e)}},e.prototype.handleError=function(e,t){reportError(e,this.nativeApp,{originError:t,getSourceMapRelease:this.getSourceMapRelease})},e.prototype.onAppError=function(e,t){t.message="".concat(t.name||"Error",": ").concat(t.message),this.handleError(new InternalRuntimeError(t.message,t.stack),t)},e.prototype.__internal__callNativeModule=function(e,t,n){var r=this.nativeApp.nativeModuleProxy[e];if(r){var o=r[t];o&&Function.prototype.apply.call(o,void 0,n)}},e.prototype.registerModule=function(e,t){this._lazyCallableModules[e]=t},e.prototype.getJSModule=function(e){return this._lazyCallableModules[e]},e.prototype.requireModule=function(e){return this.lynx.requireModule(e)},e.prototype.requireModuleAsync=function(e,t){return this.lynx.requireModuleAsync(e,t)},e.prototype.reportError=function(e){return this.lynx.reportError(e)},e.prototype.saveDynamicComponentExports=function(e,t){this.dynamicComponentExports[e]=t},e.prototype.getDynamicComponentExports=function(e){return this.dynamicComponentExports[e]},e.prototype.onHMRUpdate=function(e){},e.prototype.callFunction=function(e,t,n){try{var r=this.getJSModule(e);"function"==typeof r[t]&&r[t].apply(r,n)}catch(n){var o=n||{},a=o.message,i=o.stack,s=new InternalRuntimeError("callFunction ".concat(e,"/").concat(t," error: ").concat(a),i);this.handleError(s,n)}},e.prototype.updateGlobalProps=function(e){var t=this;try{var n=this.appInstance;if(!n)return;Object.keys(e).forEach((function(n){var r=e[n];t.lynx.__globalProps[n]=r})),"function"==typeof n.onGlobalPropsChanged&&n.onGlobalPropsChanged.call(n,e)}catch(t){var r=t||{},o=r.message,a=r.stack;this.handleError(new InternalRuntimeError("updateGlobalProps ".concat(e," error: ").concat(o),a),t)}},e.prototype.define=function(e,t,n){this.modules[n]||(this.modules[n]={}),this.modules[n][e]={hasRun:!1,factory:t.bind(this)}},e.kDefaultSourceMapURL="default",e.kGetSourceMapReleaseErrorName=SOURCE_MAP_RELEASE_ERROR_NAME,e}(),BaseInstance=function(){function e(e){var t=this;this._queue=[],this.componentId="",this.getSourceMapRelease=function(e){return t.getApp().getSourceMapRelease(e)};var n=null!=e?e:{},r=n.type,o=n.componentId,a=void 0===o?"":o,i=n.resolvedPromise,s=n.app;this.getApp=function(){return s},this._pendingState=null,this._pendingUpdateDataType=0,this._cbs=null,this._type=r,this.componentId=a,this.resolvedPromise=i}return Object.defineProperty(e.prototype,"__sourcemap__release__",{get:function(){return this.getApp().getSourceMapRelease(BaseApp.kDefaultSourceMapURL)},enumerable:!1,configurable:!0}),e.prototype.nextTick=function(e){this.resolvedPromise.then(e)},e.prototype.updateData=function(e,t,n){for(var r in void 0===t&&(t=this.data),void 0===n&&(n=!1),e){var o=getObjectByPath(t,r),a=o.obj,i=o.key;a&&(a[i]=n?e[r]:deepClone(e[r]))}},e.prototype.dataQueueUpdate=function(e,t,n,r){isFunction(n)&&(n={callback:n}),isUndefined(r)||(n.enableFixBatchedUpdateOrder=r);var o=this,a=o._pendingState,i=e._queue,s=n.enableFixBatchedUpdateOrder,c=n.updateDataType,p=n.updateToNative,u=void 0===p?e._nativeApp.batchedUpdateData.bind(e._nativeApp):p,l=n.callback;if(isNullOrUndef(a))o._pendingState=t;else for(var d in t)({}).hasOwnProperty.call(t,d)&&(a[d]=t[d]);this._pendingUpdateDataType|=c,i.includes(o)||i.push(o),isFunction(l)&&(Array.isArray(o._cbs)||(o._cbs=[]),o._cbs.push(l.bind(o))),e._microTaskPending||(e._microTaskPending=!0,this.nextTick((function(){var t,n=[];e._microTaskPending=!1;var r=function(e){var t=e._type,r=e.componentId,o=e._cbs,a=e._pendingState,i=e._pendingUpdateDataType,s=callbackMerge.bind(e,o);e._pendingState=null,e._pendingUpdateDataType=0,e._cbs=null,n.push({type:t,componentId:r,data:a,callback:s,updateDataType:i})};if(s)e._queue=[],i.forEach(r);else for(;t=i.pop();)r(t);u(n)})))},e.prototype.triggerWorkletFunction=function(e,t,n,r){var o;try{this.getApp()._nativeApp.triggerWorkletFunction(null!==(o=this.componentId)&&void 0!==o?o:"",e,t,n,r)}catch(e){var a=e||{},i=a.message,s=a.stack;this.getApp().handleError(new InternalRuntimeError(i,s),e)}},e}();function callbackMerge(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)e[t]()}var LYNX_ERROR_CODE_JS_WARNING=202,ComponentState;!function(e){e[e.Created=0]="Created",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted"}(ComponentState||(ComponentState={}));var NESTED_UPDATE_COUNT=50,START_DETECT_NESTED_UPDATE_COUNT=10,DETECT_UPDATE_MS=1e4,ReactComponent=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.prevProps={},n.prevState={},n.nextProps={},n.nextState={},n.$init=!1,n.$cardInit=!1,n.$prefix="",n.componentPath="",n.entryName="",n.globalProps=null,n._asyncSetStateMicroTaskPending=!1,n.$jsStateVersion=0,n.$nativeStateVersion=0,n.$componentState=0,n.$isInCtor=!0,n.parentId="",n.$catchError=null,n.$throwError=null,n.$isUpdatingState=!1,n.$nestedUpdateCount=0,n.$startDetectNestedUpdateTimestamp=0,n.$hasNestedUpdate=!1,n.state={},n.props=t,n.prevProps={},n.prevState={},n.$prefix=genCompPrefix(),n.setComponentConfig(n.constructor),n.$refs=[],n.$pureData={},n._stateQueue=[],n._uiModule=n._nativeApp.nativeModuleProxy.LynxUIMethodModule,n}return __extends(t,e),Object.defineProperty(t.prototype,"_reactAppInstance",{get:function(){return this.getApp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nativeApp",{get:function(){return this._nativeApp},enumerable:!1,configurable:!0}),t.prototype.executeJSRender=function(){this.clearRef();var e=this._createData();return this.bindRef(),e},t.prototype.handleExceptionInJS=function(e){handleExceptionInJSInternal(e,this.componentId,this)},t.prototype.bindRef=function(){var e=this;!this.$refs||this.$refs.length<1||this.$refs.forEach((function(t){e.bindComponent(t)}))},t.prototype.bindComponent=function(e){var t,n=null;if("native"===e.type){var r=this.getApp().lynx;n=(null!==(t=r._switches.useSelectorQueryAsReactRef)&&void 0!==t?t:new Version(r.targetSdkVersion).gte(version2_7))?this.createSelectorQuery().selectReactRef(e.refId):this.getNodeRef(e.refId,!0)}else"com"===e.type&&isString(this.$pureData[e.refId])&&(n=this._reactAppInstance._getComponent(this.$pureData[e.refId]));var o=typeof e.ref;isObject(n)&&("function"===o?e.ref.call(this,n):"object"===o&&"current"in e.ref&&(e.ref.current=n,e.ref.id=this.componentId))},t.prototype.bindSingleRef=function(e){isObject(e)&&this.bindComponent(e)},t.prototype.clearRef=function(){var e=this;Array.isArray(this.$refs)&&this.$refs.length>0&&this.$refs.forEach((function(t){if("function"==typeof t.ref)try{t.ref.call(e,null)}catch(e){}})),this.$refs=[]},t.prototype.clearRefToThis=function(){if(this.$componentIdContainsRefToThis){var e="card"==this.$componentIdContainsRefToThis.componentId?this._reactAppInstance.appInstance:this._reactAppInstance._getComponent(this.$componentIdContainsRefToThis.componentId);if(e)if(e.$refs.includes(this.$componentIdContainsRefToThis.refItem)){try{this.$componentIdContainsRefToThis.refItem.ref.call(e,null)}catch(e){}delete e.$pureData[this.$componentIdContainsRefToThis.refItem.refId],this.$componentIdContainsRefToThis=null}else this.$componentIdContainsRefToThis=null}},t.prototype.updateTheme=function(e,t){var n;void 0===t&&(t=!1);var r=this;try{var o=getDataType(e);if("object"!==o)throw new Error("updateTheme's first param must be object, you pass ".concat(o));var a={};t?Object.assign(a,e):Object.assign(a,r.theme,e),Object.keys(a).forEach((function(e){a[e]||delete a[e]})),r._nativeApp.updateData({__card_config_:{theme:a}},1),r[CARD_CONFIG_THEME]=a,"function"==typeof r[CARD_CONFIG_THEME_UPDATED]&&r[CARD_CONFIG_THEME_UPDATED](a)}catch(e){var i=e||{},s=i.message,c=i.stack,p=new InternalRuntimeError("updateTheme error: ".concat(s),c);null===(n=r._reactAppInstance)||void 0===n||n.handleError(p)}},t.prototype.setStateByPath=function(e,t,n){var r;"string"==typeof e?((r={})[e]=t,e=r):"function"==typeof t&&(n=t),this.setState(e,n)},t.prototype.setState=function(e,t){var n,r;if(ttConsole.profile("ReactComponent::setState::"+this._type=="card"?"card":this.componentPath),"card"!==this._type||2!==this.$componentState){if(this.$isInCtor){var o=this.$class.__config.initNativeStateVersion;ttConsole.alog("has setState in Ctor, change $nativeStateVersion from ".concat(this.$nativeStateVersion," to ").concat(o)),isUndefined(o)||(this.$nativeStateVersion=o)}if(this.$nestedUpdateCount>NESTED_UPDATE_COUNT&&!this.$hasNestedUpdate&&(this.$nestedUpdateCount=0,Date.now()-this.$startDetectNestedUpdateTimestamp<DETECT_UPDATE_MS*(NESTED_UPDATE_COUNT-START_DETECT_NESTED_UPDATE_COUNT))){this.$hasNestedUpdate=!0,this.$startDetectNestedUpdateTimestamp=0;var a="Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentDidUpdate. ReactLynx limits the number of nested updates to prevent infinite loops.";ttConsole.warn(a);var i=new Error(a);reportError(new UserRuntimeError(a,i.stack),this._nativeApp,{originError:i,getSourceMapRelease:this.getSourceMapRelease,errorCode:LYNX_ERROR_CODE_JS_WARNING})}this.$isUpdatingState=!0;var s=this,c=null;try{var p=getDataType(e);if("function"===p)c=e(s.state,s.props);else{if("object"!==p)throw new Error("setState's first param must be object/function, you pass ".concat(p));c=e}var u=getDataType(t);if(t&&"function"!==u)throw new Error("setState's second param must be function, you pass ".concat(u));(null===(n=this._reactAppInstance.lynx._switches)||void 0===n?void 0:n.asyncSetState)?this.setStateInternalAsync(c,t):this.setStateInternal(c,t,{updateDataType:1})}catch(e){var l=e||{},d=(a=l.message,l.stack),h=new InternalRuntimeError("setState error: ".concat(a),d);null===(r=s._reactAppInstance)||void 0===r||r.handleError(h)}finally{ttConsole.profileEnd()}}else ttConsole.profileEnd()},t.prototype.setStateInternalAsync=function(e,t){var n=this;this._stateQueue.push({state:e,callback:t}),this._asyncSetStateMicroTaskPending||(this._asyncSetStateMicroTaskPending=!0,this._reactAppInstance.resolvedPromise.then((function(){n._asyncSetStateMicroTaskPending=!1;var e={},t=[];n._stateQueue.forEach((function(n){var r=n.state,o=n.callback;Object.assign(e,r),t.push(o)})),n._stateQueue=[];n.setStateInternal(e,(function(){t.forEach((function(e){wrapUserFunction("at setState/async",n,e).bind(n)()}))}),{updateDataType:1})})))},t.prototype.setStateInternal=function(t,n,r){var o;void 0===r&&(r={});var a=this;try{this.nextProps=this.props,isFunction(this.shouldComponentUpdate)?this.nextState=deepClone(this.state):this.nextState=this.state,e.prototype.updateData.call(this,t,this.nextState,!0);var i=null,s={};a.$hasDerivedFunction&&(i=a.$class.getDerivedStateFromProps(a.nextProps,a.nextState),s=diffData(this.nextState,i),e.prototype.updateData.call(this,i||{},a.nextState,!0));var c=!0;if(isFunction(this.shouldComponentUpdate)&&(c=a.shouldComponentUpdate(this.nextProps,this.nextState)),this.state=this.nextState,!c){var p=Object.assign({},t,s);return void(Object.keys(p).length&&(p[REACT_SHOULD_COMPONENT_UPDATE_KEY]=!1,this.dataQueueUpdate(a,p,{callback:wrapUserFunction("at setState/dataQueueUpdate",a,n).bind(a),updateDataType:r.updateDataType})))}isObject(this._pendingState)&&delete this._pendingState[REACT_SHOULD_COMPONENT_UPDATE_KEY];var u=a.executeJSRender();if(a.$throwError)return;var l=diffData(this.state,u);a.state=Object.assign(a.state,u);var d=Object.assign({},t,s,l);Object.keys(d).length&&this.dataQueueUpdate(a,d,{callback:wrapUserFunction("at setState/dataQueueUpdate",a,n).bind(a),updateDataType:r.updateDataType})}catch(e){var h=e||{},f=h.message,_=h.stack,v=new InternalRuntimeError("setState error: ".concat(f),_);null===(o=a._reactAppInstance)||void 0===o||o.handleError(v)}},t.prototype.updateDataToNative=function(e,t,n){void 0===n&&(n=!1),(e&&Object.keys(e).length||n)&&(n&&(t|=8),this.dataQueueUpdate(this,e,{updateDataType:t}))},t.prototype.dataQueueUpdate=function(t,n,r){var o,a,i=null===(a=this._reactAppInstance.lynx._switches)||void 0===a?void 0:a.enableFixBatchedUpdateOrder;t=i&&this._reactAppInstance.appInstance||this,r.enableFixBatchedUpdateOrder=i,this.$jsStateVersion+=1;var s=((o={})[REACT_JS_STATE_VERSION_KEY]=this.$jsStateVersion,o[REACT_NATIVE_STATE_VERSION_KEY]=this.$nativeStateVersion,o);Object.assign(n,s),e.prototype.dataQueueUpdate.call(this,t,n,r)},t.prototype.nextTick=function(e){var t;(null===(t=this._reactAppInstance.lynx._switches)||void 0===t?void 0:t.enableReactBatchedUpdate)||"iOS"!==(_global.SystemInfo||{}).platform?this._reactAppInstance.resolvedPromise.then(e):e()},t.prototype.registerModule=function(e,t){this._reactAppInstance.registerModule(e,t)},t.prototype.setComponentConfig=function(e){this.$class=e,this.$hasDerivedFunction=isFunction(e.getDerivedStateFromProps),this.$hasDidUpdateLifecycle=this.componentDidUpdate!==t.prototype.componentDidUpdate,this.$hasDerivedErrorFunction=isFunction(e.getDerivedStateFromError),this.$hasDidCatchLifecycle=this.componentDidCatch!==t.prototype.componentDidCatch;var n=e.__config,r=n.appInstance.lynx;this._type=n.$type,this._nativeApp=n.appInstance.nativeApp,this.getApp=function(){return n.appInstance},this.componentId=n.componentId,r._switches.enableGetJSModuleInLoadCard=!0,this.setGlobalProps(r,n.initData),this.GlobalEventEmitter=this._reactAppInstance.GlobalEventEmitter},t.prototype.getJSModule=function(e){return this._reactAppInstance.getJSModule(e)},t.prototype.getNodeRef=function(e,t){return new NodeRef({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._reactAppInstance.lynx._switches.disableNodeRefWarningWhenFailed},"component"===this._type?this.componentId:"",e,[],t)},t.prototype.getNodeRefFromRoot=function(e){return new NodeRef({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._reactAppInstance.lynx._switches.disableNodeRefWarningWhenFailed},"",e)},t.prototype.createSelectorQuery=function(e){return e?SelectorQuery.fromQuery(e,this.componentId):SelectorQuery.newEmptyQuery({nativeApp:this._nativeApp,lynx:this._reactAppInstance.lynx},this.componentId)},t.prototype.getPathFromTarget=function(e,t){this.createSelectorQuery().selectUniqueID(e.uid).path(t).exec()},t.prototype.getElementById=function(e){return new Element(this.componentId?this.componentId:"card",e,this._reactAppInstance.lynx)},t.prototype.selectComponent=function(e,t){var n=this,r=getDataType(t);if(t&&"function"!==r)throw new Error("selectComponent's second param must be function, you pass ".concat(r));this._nativeApp.selectComponent(this.componentId,e,!0,wrapUserFunction("at component selectComponent",this,(function(e){Array.isArray(e)&&t(n._reactAppInstance.getComponent(e[0]))})).bind(this))},t.prototype.addGlobalEventListener=function(e,t,n){this.getJSModule("GlobalEventEmitter").addListener(e,t,n)},t.prototype.setSharedData=function(e,t){_global.sharedData[e]=t},t.prototype.getSharedData=function(e){return _global.sharedData[e]},t.prototype.setGlobalProps=function(e,t){e&&!e.__globalProps&&t&&t.__globalProps&&(e.__globalProps=t.__globalProps)},t.prototype.triggerEvent=function(e,t,n){var r;void 0===t&&(t={}),void 0===n&&(n={});try{var o=this.componentId;this._nativeApp.triggerComponentEvent(e,{eventDetail:t,eventOption:n,componentId:o})}catch(e){var a=e||{},i=a.message,s=a.stack;i="triggerEvent error: ".concat(i);var c=new InternalRuntimeError("trigger event error: ".concat(i),s);null===(r=this._reactAppInstance)||void 0===r||r.handleError(c)}},t.prototype.componentDidCatch=function(e){},t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.componentDidUpdate=function(e,t,n){},t.prototype.componentDidShow=function(){},t.prototype.componentDidHide=function(){},t}(BaseInstance),propsMap=function(){function e(){this._map={}}return e.prototype.set=function(e,t){void 0===e&&(e={}),this._map[t]=e},e.prototype.getProps=function(e){return this._map[e]},e.prototype.deleteProps=function(e){delete this._map[e]},e.prototype.clear=function(){this._map={}},e}(),HookType,currentIndex,appInstance,options,currentHookType;function isFunctionComponent(e){return e&&e.$_isFunctionComponent}function getCurComponent(){return appInstance}function invokeOrReturn(e,t){return"function"==typeof t?t(e):t}function invokeCleanup(e){"function"==typeof e._cleanup&&e._cleanup()}function invokeEffect(e){e._cleanup=e._value()}function argsChanged(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function getHookState(e){var t=getCurComponent(),n=t.__hooks||(t.__hooks={_list:[],_pendingEffects:[]});return e>=n._list.length&&n._list.push({_type:currentHookType}),currentHookType=HookType.none,n._list[e]}function mountHooks(e,t){appInstance=e,options=t||{}}function resetHooks(e){currentIndex=0,appInstance=e}function executeEffects(e){var t=e.__hooks;t&&(t._pendingEffects.forEach(invokeCleanup),t._pendingEffects.forEach(invokeEffect),t._pendingEffects=[])}function cleanUpHooks(e){if(e&&e.__hooks)try{e.__hooks._list.forEach(invokeCleanup)}catch(e){options.catchError(e)}}function useEffect(e,t){currentHookType=HookType.useEffect;var n=getCurComponent(),r=getHookState(currentIndex++);!options._skipEffects&&argsChanged(r._args,t)&&(r._value=e,r._args=t,n.__hooks._pendingEffects.push(r))}function useReducer(e,t,n){currentHookType===HookType.none&&(currentHookType=HookType.useReducer);var r=getCurComponent(),o=getHookState(currentIndex++);return o._reducer=e,o._component||(o._value=[n?n(t):invokeOrReturn(void 0,t),function(e){var t=o._reducer(o._value[0],e);o._value[0]!==t&&(o._value=[t,o._value[1]],o._component.setHookState())}],o._component=r),o._value}function useState(e){return currentHookType=HookType.useState,useReducer(invokeOrReturn,e,null)}function useMemo(e,t){currentHookType===HookType.none&&(currentHookType=HookType.useMemo);var n=getHookState(currentIndex++);return argsChanged(n._args,t)&&(n._value=e(),n._args=t,n._factory=e),n._value}function useCallback(e,t){return currentHookType=HookType.useCallback,useMemo((function(){return e}),t)}function useRef(e){return currentHookType=HookType.useRef,useMemo((function(){return{current:e,id:null}}),[])}function useInstance(){return getCurComponent()}function syncInsHookState(e,t,n){if(void 0===n&&(n=!1),e&&e.$_hookStateKeys&&"object"==typeof t){var r=e.$_hookStateKeys;r.length&&Object.keys(t).filter((function(e){return r.includes(e)})).forEach((function(o){var a=null;if(!n||!isNull(t[o])){var i=r.findIndex((function(e){return e===o}));if(-1!=i)(a=(e.__hooks&&e.__hooks._list?e.__hooks._list.filter((function(e){return e._type===HookType.useState||e._type===HookType.useReducer})):[])[i])&&(a._value[0]=t[o])}}))}}!function(e){e[e.none=0]="none",e[e.useState=1]="useState",e[e.useReducer=2]="useReducer",e[e.useEffect=3]="useEffect",e[e.useMemo=4]="useMemo",e[e.useCallback=5]="useCallback",e[e.useRef=6]="useRef"}(HookType||(HookType={}));var Hooks={useState:useState,useReducer:useReducer,useEffect:useEffect,useMemo:useMemo,useCallback:useCallback,useRef:useRef,mountHooks:mountHooks,cleanUpHooks:cleanUpHooks,executeEffects:executeEffects,resetHooks:resetHooks,syncInsHookState:syncInsHookState,useInstance:useInstance},ReactFcComponent=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.executeJSRender=function(){return Hooks.resetHooks(this),this._createData()},t.prototype.setHookState=function(){var e=this;this.batching||(this.batching=!0,this._reactAppInstance.resolvedPromise.then((function(){e.batching=!1,e.setHookStateInternal()})))},t.prototype.setHookStateInternal=function(){var e=this;try{var t=e.executeJSRender();if(e.$throwError)return;var n=diffData(this.state,t);e.state=Object.assign(e.state,t),Object.keys(n).length&&this.updateDataToNative(n,4)}catch(e){var r=e||{},o=r.message,a=r.stack;this._reactAppInstance.handleError(new InternalRuntimeError("setHookState error: ".concat(o),a),e)}},t}(ReactComponent),ReactApp=function(_super){function ReactApp(e){var t=_super.call(this,e)||this,n=e.params;t._componentMap={},t._dynamicComponentMap={},t._componentInstance={},t._reactLynx={},t.rlynxVersion=null==n?void 0:n.rlynxVersion,t.globalErrorEvents=[],t._propsMap=new propsMap,t._reactLynx.propsMap=t._propsMap,t._reactLynx.genPropsId=genPropsId,t._reactLynx.ReactComponent=ReactComponent,t._reactLynx.createRef=function(){return{current:null,id:null}},t._getComponent=t.getComponent,t.lynx.onError=function(e){return t.subscribeGlobalError(e)},t.lynx.nativeDataChanged=!1,Hooks.mountHooks(t,{catchError:function(e){var n=new InternalRuntimeError("Hooks: ".concat(t._nativeApp.id," error: ").concat(e.message),e.stack);t.handleError(n,e)}}),t._reactLynx.ReactFcComponent=ReactFcComponent,t._reactLynx.useReducer=Hooks.useReducer,t._reactLynx.useState=Hooks.useState,t._reactLynx.useEffect=Hooks.useEffect,t._reactLynx.useMemo=Hooks.useMemo,t._reactLynx.useCallback=Hooks.useCallback,t._reactLynx.useInstance=Hooks.useInstance,t._reactLynx.useRef=Hooks.useRef,t._reactLynx.createRef=function(e){return{current:e,id:null}}}return __extends(ReactApp,_super),ReactApp.prototype.subscribeGlobalError=function(e){this.globalErrorEvents.push(e)},ReactApp.prototype.publishGlobalError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.globalErrorEvents&&this.globalErrorEvents.length>0&&this.globalErrorEvents.forEach((function(t){t.apply(void 0,__spreadArray([],__read(e),!1))}))},ReactApp.prototype.handleError=function(e,t){_super.prototype.handleError.call(this,e,t),this.$isErrorHandling||(this.$isErrorHandling=!0,this.publishGlobalError(e,e.message,e.stack),this.dispatchError(e.message||e.stack),this.$isErrorHandling=!1)},ReactApp.prototype.Card=function(e,t){var n=this;this._cardComponentClass=e;try{var r=n._params||{},o=r.initData,a=r.updateData,i=r.initConfig;if(e.__config={$type:"card",appInstance:n,initData:o,componentId:""},n.appInstance=new e(e.defaultProps),n.appInstance.$isInCtor=!1,o&&"object"==typeof o&&n.initCardData(o),a&&"object"==typeof a)try{var s=n.appInstance;Object.keys(a).forEach((function(e){s.state[e]=a[e]})),isFunctionComponent(s)&&Hooks.syncInsHookState(s,a),this.lynx.nativeDataChanged=!0}catch(e){var c=e||{},p=c.message,u=c.stack;p="native updateCardData error in Card:  ".concat(p);var l=new InternalRuntimeError("initCardData ".concat(o," error: ").concat(p),u);this.handleError(l,e)}i&&"object"==typeof i&&n.processCardConfig(i)}catch(e){l=new InternalRuntimeError("create Card(): ".concat(n._nativeApp.id," error: ").concat(e.message),e.stack);this.handleError(l,e)}},ReactApp.prototype.Component=function(e,t){var n=_global.globDynamicComponentEntry,r=_global.globComponentRegistPath;n||(n=DEFAULT_ENTRY),this._componentMap[n]||(this._componentMap[n]={}),this._componentMap[n][r]=e},ReactApp.prototype.initCardData=function(e){try{var t=this.appInstance;Object.keys(e).forEach((function(n){hasProperty(t.state,n)||(t.state[n]=e[n])}))}catch(t){var n=t||{},r=n.message,o=n.stack;r="native initCardData error in ReactCard:  ".concat(r);var a=new InternalRuntimeError("initCardData ".concat(e," error: ").concat(r),o);this.handleError(a,t)}},ReactApp.prototype.onReactCardRender=function(e,t,n){var r=this.appInstance;if(r){"string"==typeof e&&(e=JSON.parse(e));var o=this.processVersionsAndCheckForConflict(e,r);if(r.$cardInit){this.lynx.nativeDataChanged=!0;try{e&&"object"==typeof e&&Object.keys(e).forEach((function(t){isNull(e[t])||(r.state[t]=e[t]),isFunctionComponent(r)&&Hooks.syncInsHookState(r,e,!0)}));var a=0;if(o)return void this.flushNative(r,32);if(!t)return;var i={},s={};r.$hasDerivedFunction&&!r.$shouldIgnoreLepusDataProcessor&&(i=r.$class.getDerivedStateFromProps(r.props||{},r.state)||{},s=diffData(r.state,i),r.state=Object.assign(r.state,i));var c=r.executeJSRender()||{},p=diffData(r.state,c);r.state=Object.assign(r.state,c);var u=Object.assign(s,p);Object.keys(s).length>0&&(a|=16),Object.keys(p).length>0&&(a|=4),Object.keys(u).length&&r.updateDataToNative(u,a)}catch(t){var l=t||{};h=l.message,f=l.stack,_=new InternalRuntimeError("onReactCardRender not first ".concat(e," error: ").concat(h),f);this.handleError(_,t)}}else try{r.$cardInit=!0,this.flushNative(r,2,n)}catch(t){var d=t||{},h=d.message,f=d.stack,_=new InternalRuntimeError("onReactCardRender first ".concat(e," error: ").concat(h),f);this.handleError(_,t)}}else alog("onReactCardRender execution stopped because card creation failed")},ReactApp.prototype.onReactComponentCreated=function(e,t,n,r,o,a,i){var s,c=this;ttConsole.profile("onReactComponentCreated::"+e),e.startsWith("/")&&(e=e.substr(1)),null!==(s=this._supportConstructorUpdateData)&&void 0!==s||(this._supportConstructorUpdateData=new Version(this.lynx.targetSdkVersion).gte(version2_9));var p=a?this._componentMap[a][e]:this._componentMap[DEFAULT_ENTRY][e];p.defaultProps=p.defaultProps||{};var u=(n?this._propsMap.getProps(n.propsId):null)||{},l=Object.keys(p.defaultProps),d=Object.keys(u),h=__spreadArray([],__read(l),!1);d.forEach((function(e){h.includes(e)||h.push(e)}));var f={};Object.keys(p.defaultProps).filter((function(e){d.includes(e)&&null===u[e]?f[e]=null:f[e]=p.defaultProps[e]}));var _=shallowMergeEx(n,u);_=shallowMergeEx(f,_,!0),p.__config={$type:"component",appInstance:this,__sourcemap__release__:this.__sourcemap__release__,componentId:t,initNativeStateVersion:r[REACT_NATIVE_STATE_VERSION_KEY]};var v=new p(_);v.$isInCtor=!1,r&&"object"==typeof r&&REACT_NATIVE_STATE_VERSION_KEY in r&&(v.$nativeStateVersion=r[REACT_NATIVE_STATE_VERSION_KEY]),v.componentPath=e,v.entryName=a,this.setComponent(t,v,o);var y=0,m=[];Object.keys(v.state).forEach((function(e){hasProperty(r,e)&&(null!==r[e]&&void 0!==r[e]||null===v.state[e]||void 0===v.state[e])||m.push(e)})),m.length>0&&(y|=2);var g=!1;if(n.$$onlyPropsId)g=hasJSOnlyData(u);else{var E=Object.keys(n);g=h.filter((function(e){return!E.includes(e)||null===n[e]})).length>0}var b=this._supportConstructorUpdateData&&!v.$shouldIgnoreStateCheckInConstructor,R=null,C=null;if(v.$hasDerivedFunction&&(g||m.length||!v.$shouldIgnoreLepusDataProcessor||b)){if(R=v.$class.getDerivedStateFromProps(v.props,v.state),v.state=Object.assign(v.state,R||{}),b){var A,S=Object.keys(R);delete(A=diffData(v.state,r,Object.keys(r).filter((function(e){return!S.includes(e)}))))[REACT_NATIVE_STATE_VERSION_KEY],delete A[REACT_JS_STATE_VERSION_KEY],C=Object.keys(A||{})}}else b?(delete(A=diffData(v.state,r))[REACT_NATIVE_STATE_VERSION_KEY],delete A[REACT_JS_STATE_VERSION_KEY],C=Object.keys(A||{})):v.$hasDerivedFunction&&(v.state=shallowMergeEx(v.state,r,!0));var I=v.executeJSRender()||{};if(v.$throwError)ttConsole.profileEnd();else{v.state=Object.assign(v.state,I),Object.keys(I).length>0&&(y|=4);var T=diffData(r,R);Object.keys(T).length>0&&(y|=16),m.push.apply(m,__spreadArray(__spreadArray(__spreadArray([],__read(Object.keys(T)),!1),__read(Object.keys(I)),!1),__read(C||[]),!1));for(var x={},w=0;w<m.length;w++){var k=m[w];x[k]=v.state[k]}v.updateDataToNative(filterReactComponentData(x),y,i);var O=this.componentEventBatch[t];O&&(this.componentEventBatch[t]=void 0,Array.isArray(O)&&O.forEach((function(e){c.publicComponentEvent(t,e.eventName,e.data)})));var D=n["react-ref"]||u["react-ref"];isString(D)&&this.bindComponentWithRefId(o,t,D),ttConsole.profileEnd()}},ReactApp.prototype.onReactComponentRender=function(e,t,n,r){var o,a=this.getComponent(e);if(a){ttConsole.profile("onReactComponentRender::"+a.componentPath);var i,s=shallowClone(this._propsMap.getProps(t.propsId));if(i=(null===(o=this.lynx._switches)||void 0===o?void 0:o.fixMergeOrder)?shallowMergeEx(t,s):shallowMergeEx(s,t),Object.keys(i).forEach((function(e){a.props[e]=i[e]})),this.processVersionsAndCheckForConflict(n,a))return this.flushNative(a,32),void ttConsole.profileEnd();if(n&&"object"==typeof n&&Object.keys(n).forEach((function(e){isNull(n[e])||(a.state[e]=n[e]),isFunctionComponent(a)&&Hooks.syncInsHookState(a,n,!0)})),r){var c=!1;if(t.$$onlyPropsId)c=hasJSOnlyData(s);else{var p=Object.keys(s),u=Object.keys(t);c=p.filter((function(e){return!u.includes(e)||null===t[e]})).length>0}var l={},d={};!a.$hasDerivedFunction||a.$shouldIgnoreLepusDataProcessor&&!c?a.$hasDerivedFunction&&(a.state=Object.assign(a.state,n||{})):(l=a.$class.getDerivedStateFromProps(a.props,a.state),d=diffData(a.state,l),a.state=Object.assign(a.state,l||{}));var h=a.executeJSRender()||{};if(a.$throwError)ttConsole.profileEnd();else{var f={};(a.$shouldDiffState||isObject(h)&&Object.keys(h).length>0)&&(f=diffData(a.state,h)),a.state=Object.assign(a.state,h||{});var _=0;Object.keys(d).length>0&&(_|=16),Object.keys(f).length>0&&(_|=4);var v=Object.assign(d,f);Object.keys(v).length&&a.updateDataToNative(v,_),ttConsole.profileEnd()}}else ttConsole.profileEnd()}else alog("onReactComponentRender execution stopped because card creation failed")},ReactApp.prototype.processVersionsAndCheckForConflict=function(e,t){var n=!1;return e&&"object"==typeof e&&(REACT_NATIVE_STATE_VERSION_KEY in e&&(t.$nativeStateVersion=e[REACT_NATIVE_STATE_VERSION_KEY]),REACT_JS_STATE_VERSION_KEY in e&&e[REACT_JS_STATE_VERSION_KEY]<t.$jsStateVersion&&(n=!0),delete e[REACT_NATIVE_STATE_VERSION_KEY],delete e[REACT_JS_STATE_VERSION_KEY]),n},ReactApp.prototype.flushNative=function(e,t,n){void 0===n&&(n=!1);var r={};e.$hasDerivedFunction&&(r=e.$class.getDerivedStateFromProps(e.props,e.state)),e.state=Object.assign(e.state,r||{}),e.state=Object.assign(e.state,e.executeJSRender()||{}),e.$throwError||e.updateDataToNative(filterReactComponentData(e.state),t,n)},ReactApp.prototype.flushAnonStateToNative=function(e){},ReactApp.prototype.reactUpdateComponent=function(e){var t=e.$hasUseDidUpdateLifecycleParams||void 0===e.$hasUseDidUpdateLifecycleParams;if(e.$init){if(e.$isUpdatingState=!1,e.$hasDidUpdateLifecycle){var n=t?deepClone(e.props):void 0,r=t?deepClone(e.state):void 0;e.componentDidUpdate(e.prevProps,e.prevState),e.prevProps=n,e.prevState=r,e.$isUpdatingState?(e.$nestedUpdateCount+=1,e.$nestedUpdateCount>START_DETECT_NESTED_UPDATE_COUNT&&0===e.$startDetectNestedUpdateTimestamp&&(e.$startDetectNestedUpdateTimestamp=Date.now())):e.$nestedUpdateCount=0}}else e.$init=!0,e.$hasDidUpdateLifecycle&&t&&(e.prevProps=deepClone(e.props),e.prevState=deepClone(e.state)),e.componentDidMount(),e.$componentState=1;isFunctionComponent(e)&&Hooks.executeEffects(e),e.$catchError&&e.$hasDidCatchLifecycle&&(e.componentDidCatch(e.$catchError),e.$catchError=null)},ReactApp.prototype.onReactCardDidUpdate=function(){var e=this.appInstance;e?(ttConsole.profile("onReactComponentDidUpdate::card"),this.reactUpdateComponent(e),ttConsole.profileEnd(),this.lynx.nativeDataChanged=!1):alog("onReactCardDidUpdate execution stopped because card creation failed")},ReactApp.prototype.onReactComponentDidUpdate=function(e){var t=this.getComponent(e);t?(ttConsole.profile("onReactComponentDidUpdate::"+t.componentPath),this.reactUpdateComponent(t),ttConsole.profileEnd()):alog("onReactComponentDidUpdate execution stopped because card creation failed")},ReactApp.prototype.onReactComponentDidCatch=function(e,t){var n=this.getComponent(e);n?(ttConsole.profile("onReactComponentDidCatch::"+n.componentPath),n.$hasDidCatchLifecycle&&n.componentDidCatch(t),ttConsole.profileEnd()):alog("onReactComponentDidCatch execution stopped because card creation failed")},ReactApp.prototype.onReactComponentUnmount=function(e){var t=this,n=this.getComponent(e);if(n){if(ttConsole.profile("onReactComponentUnmount::"+n.componentPath),isObject(n.__childrenPropsIds))Object.keys(n.__childrenPropsIds).forEach((function(e){t._propsMap.deleteProps(e)})),n.__childrenPropsIds={};else{var r=n.props?n.props.propsId:null;r&&this._propsMap.deleteProps(r)}isFunctionComponent(n)&&Hooks.cleanUpHooks(n),n.componentWillUnmount(),n.clearRefToThis(),n.$componentState=2,delete this._componentInstance[e],ttConsole.profileEnd()}else alog("onReactComponentUnmount execution stopped because card creation failed")},ReactApp.prototype.onNativeAppReady=function(e){},ReactApp.prototype.setComponent=function(e,t,n){this._componentInstance[e]=t,t.parentId=n},ReactApp.prototype.getComponent=function(e){return this._componentInstance[e]},ReactApp.prototype.getComponentOptions=function(e,t){return t?this._dynamicComponentMap[t][e]:this._dynamicComponentMap[DEFAULT_ENTRY][e]},ReactApp.prototype.publishEvent=function(e,t){var n=this,r=n.appInstance;try{if("function"==typeof r[e])return n.handlerEvent(r,e,t);throw new Error("Do not have ".concat(e,"\n        handler in Card ").concat(n._nativeApp.id))}catch(t){var o=t||{},a=o.message,i=o.stack,s=new InternalRuntimeError("publishEvent ".concat(e," error: ").concat(a),i);this.handleError(s,t)}},ReactApp.prototype.publicComponentEvent=function(e,t,n){var r=this,o=r.getComponent(e);if(o)try{if("function"==typeof o[t])return r.handlerEvent(o,t,n)}catch(n){var a=n||{},i=a.message,s=a.stack,c=new InternalRuntimeError("publicComponentEvent ".concat(e,"/").concat(t," error: ").concat(i),s);this.handleError(c,n)}else r.saveComponentEventBatch(e,t,n)},ReactApp.prototype.handlerEvent=function(e,t,n){var r=e,o=[],a=[],i={},s=n.type,c=n.currentTarget.dataset||{};n.preventDefault=function(){},n.stopPropagation=function(){},Object.keys(c).forEach((function(e){var t=e.toLocaleLowerCase();if(/^e/.test(t)&&(t=t.replace(/^e/,"")).indexOf(s)>=0){var n=t.replace(s,"");/^(a[a-z]|so)$/.test(n)&&(i[n]=c[e])}}));var p=null;return"so"in i&&(r="this"!==i.so?i.so:e,p="this"!==i.so?i.so:null,delete i.so),isObject(i)&&(a=Object.keys(i).sort().map((function(e){return i[e]}))),o=-1===t.indexOf("funPrivate")?__spreadArray(__spreadArray([],__read(a),!1),[n],!1):__spreadArray(__spreadArray([p],__read(a),!1),[n],!1),e[t].apply(r,o)},ReactApp.prototype.callDestroyLifetimeFun=function(){var e=this;try{Object.keys(this._componentInstance).forEach((function(t){e.onReactComponentUnmount(t)})),this.appInstance.componentWillUnmount()}catch(e){}},ReactApp.prototype.destroy=function(){try{isFunctionComponent(this.appInstance)&&Hooks.cleanUpHooks(this.appInstance),this.modules=null,this._params=null,this._componentMap=null,this._propsMap=null,this.appInstance=null,this.componentEventBatch=null,_super.prototype.destroy.call(this)}catch(e){}},ReactApp.prototype.onAppEnterBackground=function(e){try{this.appInstance&&isFunction(this.appInstance.componentDidHide)&&this.appInstance.componentDidHide(),this.GlobalEventEmitter.emit("onHide",e)}catch(e){var t=e||{},n=t.message,r=t.stack,o=new InternalRuntimeError("onAppEnterBackground error: ".concat(n),r);this.handleError(o,e)}},ReactApp.prototype.onAppEnterForeground=function(e){try{this.appInstance&&isFunction(this.appInstance.componentDidShow)&&this.appInstance.componentDidShow(),this.GlobalEventEmitter.emit("onShow",e)}catch(a){var t=a||{},n=t.message,r=t.stack,o=new InternalRuntimeError("onAppEnterForeground ".concat(e," error: ").concat(n),r);this.handleError(o,a)}},ReactApp.prototype.dispatchError=function(e){this.appInstance&&isFunction(this.appInstance.componentDidCatch)&&this.appInstance.componentDidCatch(e)},ReactApp.prototype.onAppFirstScreen=function(e){},ReactApp.prototype.onAppReload=function(e){var t,n;null===(t=this.appInstance)||void 0===t||t.componentWillUnmount(),this.appInstance.$componentState=2,this._propsMap.clear(),(null===(n=this.lynx._switches)||void 0===n?void 0:n.enableClearGlobalEventsInReload)&&this.GlobalEventEmitter.removeAllListeners(),this._params.updateData=e,this._enableCanvas&&isFunction(this._initCanvas)&&this._initCanvas(this,this.lynx.Promise),this.Card(this._cardComponentClass)},ReactApp.prototype.require=function(path,params){var that=this;if("string"!=typeof path)throw new Error("require args must be a string");var entryName=params&&params.dynamicComponentEntry?params.dynamicComponentEntry:DEFAULT_ENTRY;that.modules[entryName]||(that.modules[entryName]={});var module=that.modules[entryName][path];if(!module){try{var tt=that,jsContent=that._nativeApp.readScript(path,params);eval(jsContent),module=that.modules[entryName][path]}catch(e){var throwError=new UserRuntimeError("eval user: ".concat(that._nativeApp.id," error: ").concat(e.message),e.stack);that.handleError(throwError,e)}if(!that.modules[entryName][path])throw new Error("module ".concat(path," in ").concat(entryName," is not defined in card: ").concat(that._nativeApp.id))}if(!module.hasRun){var factory=module.factory,_module={exports:{}},res=void 0;if(module.hasRun=!0,module.exports=_module.exports,"function"==typeof factory){var inRequireCopy=inRequire.call(that,path),tt=that;res=factory(inRequireCopy,_module,_module.exports,that.Card.bind(tt),that.setTimeout,that.setInterval,that.clearInterval,that.clearTimeout,that.NativeModules,that._apiList,that.sharedConsole,that.Component.bind(tt),that._reactLynx,that.nativeAppId,void 0,LynxJSBI,that.lynx),module.exports=_module.exports||res}}return module.exports},ReactApp.prototype.define=function(e,t,n){var r=n||DEFAULT_ENTRY;_super.prototype.define.call(this,e,t,r)},ReactApp.prototype.bindComponentWithRefId=function(e,t,n){for(var r=this._componentInstance[e];r;r=this._getComponent(r.parentId)){var o=r.$refs.find((function(e){return e.refId===n}));if(isObject(o))return this._componentInstance[t].$componentIdContainsRefToThis={componentId:r.componentId,refItem:o},r.$pureData[n]=t,void r.bindSingleRef(o)}var a=this.appInstance.$refs.find((function(e){return e.refId===n}));isObject(a)&&(this._componentInstance[t].$componentIdContainsRefToThis={componentId:"card",refItem:a},this.appInstance.$pureData[n]=t,this.appInstance.bindSingleRef(a))},ReactApp.prototype.OnLifecycleEvent=function(e){},ReactApp}(BaseApp);function pathProcess(e){var t=e.match(/(.*)\/([^/]+)?$/);return(null==t?void 0:t[1])?t[1]:"./"}function inRequire(e){var t=this,n=pathProcess(e);return function(e){var r=[],o="".concat(n,"/").concat(e).split("/"),a=o.length;if("string"!=typeof e)throw new Error("require args must be a string");for(var i=0;i<a;++i){var s=o[i];if(""!==s&&"."!==s)if(".."===s){if(0===r.length)throw new Error("can't find module ".concat(e," in app: ").concat(t._nativeApp.id));r.pop()}else i+1<a&&".."===o[i+1]?i++:r.push(s)}var c=r.join("/");return c.endsWith(".js")||(c+=".js"),t.require(c)}}function updateInnerSignal(e,t,n){void 0===n&&(n=!0);var r=t||{},o=r.componentId,a=r.data,i=r.callback,s=r.type,c=r.updateDataType,p=[];for(var u in a)p.push([parsePath(u),a[u]]);e.callLepusMethod("updateSignal",{paths:p,componentId:"card"===s?"0":o,isFinished:n,updateDataType:c},i,o)}function updateSignals(e){var t=this;ttConsole.profile("updateSignals");var n=e.length;e.forEach((function(e,r){updateInnerSignal(t._nativeApp,e,r===n-1)})),ttConsole.profileEnd()}function updateSignal(e,t,n,r,o){ttConsole.profile("updateSignal");var a={componentId:e,data:t,callback:n,updateDataType:r,type:o||"component"};updateInnerSignal(this._nativeApp,a),ttConsole.profileEnd()}function nodiffMarkTiming(e,t){t.__lynx_timing_flag&&["update_set_state_trigger","update_diff_vdom_start","update_diff_vdom_end"].forEach((function(n){e.markTiming(t.__lynx_timing_flag,n)}))}var TTCard=function(e){function t(t,n,r,o){var a=e.call(this,{type:"card",resolvedPromise:r,app:o})||this,i=a;a.$parent=null,i.$children=[],i._queue=[],i._microTaskPending=!1,i._nativeApp=n,a._options=t;var s=t.data,c=void 0===s?{}:s,p=t.theme,u=void 0===p?{}:p,l=t.methods,d=void 0===l?{}:l,h=__rest(t,["data","theme","methods"]);i.data=__assign({},c),i.theme=__assign({},u),i.methods=__assign({},d),i._uiModule=a._nativeApp.nativeModuleProxy.LynxUIMethodModule;var f=Object.assign({},lifeCycleFun,h);return Object.keys(d).forEach((function(e){"function"==typeof d[e]&&(i[e]=wrapUserFunction("at Card methods: ".concat(e),i,d[e]).bind(i))})),Object.keys(f).forEach((function(e){"function"==typeof f[e]?i[e]=wrapUserFunction("at Card ".concat(e),i,f[e]).bind(i):i[e]=deepClone(f[e])})),a.GlobalEventEmitter=o.GlobalEventEmitter,a.performance=o.performance,a}return __extends(t,e),Object.defineProperty(t.prototype,"__proxy",{get:function(){return this.getApp()},enumerable:!1,configurable:!0}),t.prototype.setData=function(t,n){var r,o,a=this;if("destroyed"!==this.cardState)try{var i=getDataType(t);if("object"!==i)throw new Error("setData's first param must be object, you pass ".concat(i));var s=getDataType(n);if(n&&"function"!==s)throw new Error("setData's second param must be function, you pass ".concat(s));var c=null===(r=a.getApp().lynx._switches)||void 0===r?void 0:r.enableLynxNodiff;c&&nodiffMarkTiming(a._nativeApp,t),e.prototype.updateData.call(this,t),e.prototype.dataQueueUpdate.call(this,a,t,{callback:wrapUserFunction("at card setData/dataQueueUpdate",a,n).bind(a),enableFixBatchedUpdateOrder:null===(o=this.__proxy.lynx._switches)||void 0===o?void 0:o.enableFixBatchedUpdateOrder,updateDataType:1,updateToNative:c?updateSignals.bind(this):void 0})}catch(e){var p=e||{},u=p.message,l=p.stack;u="setData err: ".concat(u),reportError(new InternalRuntimeError("setData error: ".concat(u),l),a._nativeApp,{getSourceMapRelease:a.getSourceMapRelease}),a.onError(u)}},t.prototype.getNodeRef=function(e){return new NodeRef({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this.__proxy.lynx._switches.disableNodeRefWarningWhenFailed},"",e)},t.prototype.createSelectorQuery=function(e){return e?SelectorQuery.fromQuery(e,this.componentId):SelectorQuery.newEmptyQuery({nativeApp:this._nativeApp,lynx:this.__proxy.lynx})},t.prototype.getElementById=function(e){return new Element("card",e,this.__proxy.lynx)},t.prototype.getRoot=function(){return new Element("card",void 0,this.__proxy.lynx)},t.prototype.selectComponent=function(e,t){var n=this,r=getDataType(t);if(t&&"function"!==r)throw new Error("selectComponent's second param must be function, you pass ".concat(r));this._nativeApp.selectComponent("card",e,!0,wrapUserFunction("at card selectComponent",this,(function(e){Array.isArray(e)&&t(n.__proxy.getComponent(e[0]))})).bind(this))},t.prototype.updateTheme=function(e,t){void 0===t&&(t=!1);var n=this;try{var r=getDataType(e);if("object"!==r)throw new Error("updateTheme's first param must be object, you pass ".concat(r));var o={};t?Object.assign(o,e):Object.assign(o,n.theme,e),Object.keys(o).forEach((function(e){o[e]||delete o[e]})),n._nativeApp.updateData({__card_config_:{theme:o}},1)}catch(e){var a=e||{},i=a.message,s=a.stack;i="updateTheme err: ".concat(i),reportError(new InternalRuntimeError("updateTheme error: ".concat(i),s),n._nativeApp,{getSourceMapRelease:n.getSourceMapRelease}),n.onError(i)}},t.prototype.registerModule=function(e,t){return this.__proxy.registerModule(e,t)},t.prototype.getJSModule=function(e){return this.__proxy.getJSModule(e)},t.prototype.addGlobalEventListener=function(e,t,n){this.getJSModule("GlobalEventEmitter").addListener(e,t,n)},t.prototype.setSharedData=function(e,t){_global.sharedData[e]=t},t.prototype.getSharedData=function(e){return _global.sharedData[e]},t}(BaseInstance);function optionProcess(e){return __assign({},e)}var behaviorBookmarks=new Map;function mixinBehaviors(e){var t={created:[e.created],attached:[e.attached],ready:[e.ready],moved:[e.moved],detached:[e.detached]};Array.isArray(e.behaviors)&&forEachRight(e.behaviors,(function(e){var n=behaviorBookmarks.get(e);n&&componentLifeCycles.forEach((function(e){"function"==typeof n[e]&&t[e].push(n[e])}))})),componentLifeCycles.forEach((function(n){e[n]=function(){for(var e=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t[n].forEach((function(t){return t.apply(e,r)}))}}))}function createBehavior(e,t){var n=e||{},r=n.created,o=void 0===r?noop$1:r,a=n.attached,i=void 0===a?noop$1:a,s=n.ready,c=void 0===s?noop$1:s,p=n.moved,u=void 0===p?noop$1:p,l=n.detached,d=void 0===l?noop$1:l;e=__assign({},e);var h=Object.assign(e,{created:o,attached:i,ready:c,moved:u,detached:d}),f=__assign({},h);return mixinBehaviors(f),f}function registerBehavior(e){try{if(isObject(e)){var t=guid(),n=Object.keys(e).reduce((function(t,n){return componentLifeCycles.includes(n)&&"function"==typeof e[n]&&(t[n]=e[n]),t}),{});return behaviorBookmarks.set(t,n),t}}catch(e){var r=e||{},o=r.message,a=r.stack;this.handleError(new InternalRuntimeError("registerBehavior  ".concat(o),a),e)}}var TTComponent=function(e){function t(t,n,r,o){var a=e.call(this,{type:"component",componentId:t,resolvedPromise:o,app:n})||this,i=a,s=deepClone(r),c=(s=createBehavior(s)).methods||{},p=s.pageLifetimes||{},u=s.lifetimes||{};i.$parent=null,i.$children=[],i._initDataUpdated=!1,i._appInstance=n.appInstance,i._proxyInstance=n,i.componentId=t,i.behaviors=s.behaviors||[],i._nativeApp=n.nativeApp,i._lifetimes=u,i._pageLifetimes=p,i._uiModule=i._nativeApp.nativeModuleProxy.LynxUIMethodModule,a.GlobalEventEmitter=n.GlobalEventEmitter,isObject(s.data)||(s.data={}),isObject(s.properties)||(s.properties={});var l=s.data;for(var d in i._jsInitData=__assign({},l),s.properties)l[d]=s.properties[d].value;return i.data=i.properties=l,i._properties=s.properties||{},Object.keys(c).forEach((function(e){"function"==typeof c[e]&&(i[e]=wrapUserFunction("at component methods ".concat(e),i._appInstance,c[e]).bind(i))})),Object.keys(s).forEach((function(e){var t,n,r;"function"==typeof s[e]?i[e]=wrapUserFunction("at component option ".concat(e),i._appInstance,s[e]).bind(i):(null===(r=null===(n=null===(t=i._proxyInstance)||void 0===t?void 0:t.lynx)||void 0===n?void 0:n._switches)||void 0===r?void 0:r.enableCopyOptions)&&(i[e]=deepClone(s[e]))})),a}return __extends(t,e),t.prototype.updateInitData=function(){var e,t;if(!this._initDataUpdated){var n=this,r=n.componentId,o=n._jsInitData,a=n._nativeInitData,i=void 0===a?{}:a,s=this.getApp().lynx._switches.enableLynxNodiff?updateSignal.bind(this):this._nativeApp.updateComponentData;if(!(null===(t=null===(e=this._appInstance.__proxy.lynx)||void 0===e?void 0:e._switches)||void 0===t?void 0:t.enableReduceInitDataCopy))return s(r,o,null,2),void(this._initDataUpdated=!0);var c=Array.isArray(i)?i:Object.keys(i).filter((function(e){return!isNullOrUndef(i[e])})),p=filterTTData(c,o);Object.keys(p).length>0&&s(r,p,null,2),this._initDataUpdated=!0}},t.prototype.getNodeRef=function(e){return new NodeRef({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._proxyInstance.lynx._switches.disableNodeRefWarningWhenFailed},this.componentId,e)},t.prototype.getNodeRefFromRoot=function(e){return new NodeRef({nativeLynxUIModule:this._uiModule,nativeApp:this._nativeApp,disableWarningWhenFailed:this._proxyInstance.lynx._switches.disableNodeRefWarningWhenFailed},"",e)},t.prototype.createSelectorQuery=function(e){return e?SelectorQuery.fromQuery(e,this.componentId):SelectorQuery.newEmptyQuery({nativeApp:this._nativeApp,lynx:this._proxyInstance.lynx},this.componentId)},t.prototype.getPathFromTarget=function(e,t){this.createSelectorQuery().selectUniqueID(e.uid).path(t).exec()},t.prototype.getElementById=function(e){return new Element(this.componentId,e,this._proxyInstance.lynx)},t.prototype.selectComponent=function(e,t){var n=this,r=getDataType(t);if(t&&"function"!==r)throw new Error("selectComponent's second param must be function, you pass ".concat(r));this._nativeApp.selectComponent(this.componentId,e,!0,wrapUserFunction("at component selectComponent",this,(function(e){Array.isArray(e)&&t(n._proxyInstance.getComponent(e[0]))})).bind(this))},t.prototype.getJSModule=function(e){return this._proxyInstance.getJSModule(e)},t.prototype.setData=function(t,n){var r,o,a=this;try{var i=getDataType(t);if("object"!==i)throw new Error("setData's first param must be object, you pass ".concat(i));var s=getDataType(n);if(n&&"function"!==s)throw new Error("setData's second param must be function, you pass ".concat(s));a._initDataUpdated||this.updateInitData();var c=null===(r=a.getApp().lynx._switches)||void 0===r?void 0:r.enableLynxNodiff;c&&nodiffMarkTiming(a._nativeApp,t),e.prototype.updateData.call(this,t,this.data),e.prototype.dataQueueUpdate.call(this,a._appInstance,t,{callback:wrapUserFunction("at Component setData",a._appInstance,n).bind(a),enableFixBatchedUpdateOrder:null===(o=a._proxyInstance.lynx._switches)||void 0===o?void 0:o.enableFixBatchedUpdateOrder,updateDataType:1,updateToNative:c?updateSignals.bind(this):void 0})}catch(e){var p=e||{},u=p.message,l=p.stack;u="setData err: ".concat(u),a.getApp().handleError(new UserRuntimeError(u,l),e)}},t.prototype.triggerEvent=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=this;try{var o=r.componentId;r._nativeApp.triggerComponentEvent(e,{eventDetail:t,eventOption:n,componentId:o})}catch(e){var a=e||{},i=a.message,s=a.stack;i="triggerEvent error: ".concat(i),r.getApp().handleError(new InternalRuntimeError("Component ".concat(i),s),e)}},t}(BaseInstance);function componentActivity(e,t,n,r,o){var a=this,i=o||{},s=i.initData,c=i.entryName,p=i.parentId;try{if(!componentLifeCycles.includes(t))return;if("created"===t){r.startsWith("/")&&(r=r.substr(1));var u=a.getComponentOptions(r,c),l=null;if(!isObject(u))throw new Error("component: ".concat(r," is not exist!"));try{l=new TTComponent(n,a,u,e)}catch(e){throw new Error("create component error: ".concat(e))}if(isObject(s)?(l._nativeInitData=s,Object.keys(s).forEach((function(e){hasProperty(l.data,e)||(l.data[e]=s[e])}))):isArray(s)&&(l._nativeInitData=s,l.data.__globalProps=a.lynx.__globalProps,l.data.SystemInfo=_global.SystemInfo),isString(p)){var d=null;(d="card"===p?a.appInstance:a.getComponent(p))&&(l.$parent=d,d.$children.push(l))}a.setComponent(n,l)}var h=a.getComponent(n);if("attached"===t&&!h._initDataUpdated){var f=!0;a.allRemoved&&(f=!a.allRemoved[r]),f&&h.updateInitData(),h._initDataUpdated=!0}if(!h)throw new Error("component instance: ".concat(n," is not exist"));markComponentState(h,t);var _=(h._lifetimes||{})[t]||h[t];if("function"==typeof _&&_(o),"detached"===t){var v=h.$parent,y=(v||{}).$children;if(Array.isArray(y)){var m=[];y.forEach((function(e){e.componentId!==n&&m.push(e)})),v.$children=m}h.$parent=null,this.detachComponent(n)}}catch(e){var g=e||{},E=g.message,b=g.stack;this.handleError(new InternalRuntimeError("componentActivity ".concat(t,"/").concat(n,"/").concat(r," error: ").concat(E),b),e)}}function markComponentState(e,t){"attached"===t?e.componentState="attached":"detached"===t?e.componentState="detached":"ready"===t?(e.componentState="ready",e.$_internal_shouldStopBatching=!0):"moved"===t?e.componentState="moved":"created"===t&&(e.componentState="created")}function pageLifetimeFun(e,t){void 0===t&&(t={});var n=this._componentInstance||{};Object.keys(n).forEach((function(r){var o=n[r],a=(o._pageLifetimes||{})[e];"function"==typeof a&&a.call(o,t)}))}var TTApp=function(_super){function TTApp(e){var t=_super.call(this,e)||this;return t._componentOpts={},t._componentInstance={},t}return __extends(TTApp,_super),TTApp.prototype.setAllRemoved=function(e){this.allRemoved=e},TTApp.prototype.handleError=function(e,t){_super.prototype.handleError.call(this,e,t),this.$isErrorHandling||(this.$isErrorHandling=!0,this._appInstance&&isFunction(this._appInstance.onError)&&this._appInstance.onError(e.message||e.stack),this.$isErrorHandling=!1)},TTApp.prototype.require=function(path,params){var that=this;if("string"!=typeof path)throw new Error("require args must be a string");var entryName=_global.globDynamicComponentEntry?_global.globDynamicComponentEntry:DEFAULT_ENTRY;that.modules[entryName]||(that.modules[entryName]={});var module=that.modules[entryName][path];if(!module){try{var tt=that,jsContent=that._nativeApp.readScript(path,params);eval(jsContent),module=that.modules[entryName][path]}catch(e){this.handleError(new UserRuntimeError("eval user: ".concat(that._nativeApp.id," error: ").concat(e.message),e.stack),e)}if(!that.modules[entryName][path])throw new Error("module ".concat(path," in ").concat(entryName," is not defined in card: ").concat(that._nativeApp.id))}if(!module.hasRun){var factory=module.factory,_module={exports:{}},res=void 0;if(module.hasRun=!0,module.exports=_module.exports,"function"==typeof factory){var inRequireCopy=inRequire$1.call(that,path),tt=that;res=factory(inRequireCopy,_module,_module.exports,that.Card.bind(tt),that.setTimeout,that.setInterval,that.clearInterval,that.clearTimeout,that.NativeModules,that._apiList,that.sharedConsole,that.Component.bind(tt),_global.TaroLynx,that.nativeAppId,that.Behavior.bind(tt),LynxJSBI,that.lynx),module.exports=_module.exports||res}}return module.exports},TTApp.prototype.define=function(e,t){var n=_global.globDynamicComponentEntry?_global.globDynamicComponentEntry:DEFAULT_ENTRY;_super.prototype.define.call(this,e,t,n)},TTApp.prototype.Card=function(e){var t=this,n=_global.globComponentRegistPath;this._cardPath=n,this._cardParams=e;try{var r=t._params||{},o=r.initData,a=r.updateData,i=r.initConfig;t._appInstance=new TTCard(e,t._nativeApp,this.resolvedPromise,t),o&&"object"==typeof o&&t.initCardData(o),a&&"object"==typeof a&&t.updateCardData(a),i&&"object"==typeof i&&t.processCardConfig(i),t._appInstance.cardState="loaded",t._appInstance.onLoad({}),pageLifetimeFun.call(t,"onLoad")}catch(e){this.handleError(new InternalRuntimeError("create Card: ".concat(t._nativeApp.id," error: ").concat(e.message),e.stack),e)}},TTApp.prototype.Behavior=function(e){return registerBehavior.call(this,e)},TTApp.prototype.Component=function(e){var t=_global.globDynamicComponentEntry,n=_global.globComponentRegistPath,r=optionProcess(e);t||(t=DEFAULT_ENTRY),this._componentOpts[t]||(this._componentOpts[t]={}),this._componentOpts[t][n]=r},TTApp.prototype.setComponent=function(e,t){this._componentInstance[e]=t},TTApp.prototype.getComponent=function(e){return this._componentInstance[e]},TTApp.prototype.detachComponent=function(e){delete this._componentInstance[e]},TTApp.prototype.getComponentOptions=function(e,t){var n=null;try{n=t?this._componentOpts[t][e]:this._componentOpts[DEFAULT_ENTRY][e]}catch(t){throw new Error("Component (".concat(e,") is not register. \n please use Component({...}) to register."))}return n},TTApp.prototype.callDestroyLifetimeFun=function(){try{pageLifetimeFun.call(this,"onDestroy"),this._appInstance.onDestroy()}catch(e){}},TTApp.prototype.destroy=function(){try{this.modules=null,this._appInstance.cardState="destroyed",this._appInstance=null,this.resolvedPromise=null,_super.prototype.destroy.call(this)}catch(e){}},TTApp.prototype.publishEvent=function(e,t){var n=this._appInstance,r=n._options[e];try{if("function"==typeof n[e])return n[e](t);if("function"==typeof r)return r.call(n,t);throw new Error("Do not have ".concat(e,"\n          handler in Card ").concat(this._nativeApp.id))}catch(t){var o=t||{},a=o.message,i=o.stack;this.handleError(new InternalRuntimeError("publishEvent ".concat(e," error: ").concat(a),i),t)}},TTApp.prototype.publicComponentEvent=function(e,t,n){var r=this.getComponent(e);if(r&&r.$_internal_shouldStopBatching)try{if("function"==typeof r[t])return r[t](n)}catch(n){var o=n||{},a=o.message,i=o.stack;this.handleError(new InternalRuntimeError("publicComponentEvent ".concat(e,"/").concat(t," error: ").concat(a),i),n)}else this.saveComponentEventBatch(e,t,n)},TTApp.prototype.onComponentActivity=function(e,t,n,r){var o=this;componentActivity.call(this,this.resolvedPromise,e,t,n,r);var a=this.getComponent(t);if(a&&a.$_internal_shouldStopBatching){var i=this.componentEventBatch[t];this.componentEventBatch[t]=void 0,Array.isArray(i)&&i.forEach((function(e){o.publicComponentEvent(t,e.eventName,e.data)}))}},TTApp.prototype.onComponentPropertiesChanged=function(e,t){var n=this,r=this.getComponent(e);try{if(!r)throw new Error("component is not exist, error in onComponentPropertiesChanged");var o=r.properties,a=[];isObject(t)&&(Object.keys(t).forEach((function(e){var i,s=o[e],c=t[e],p=!1;(null===(i=n.lynx._switches)||void 0===i?void 0:i.enableDeepDiffProperties)?deepEqual(s,c)||(p=!0):s!==c&&(p=!0),p&&(r.data[e]=r.properties[e]=c,a.push([s,c,e]))})),a.length>0&&a.forEach((function(e){var t=__read(e,3),n=t[0],o=t[1],a=t[2],i=r._properties[a]||{},s=i.observer;isObject(i)&&(isString(s)&&(s=r[s]),"function"==typeof s&&s.call(r,o,n))})))}catch(n){var i=n||{},s=i.message,c=i.stack;this.handleError(new InternalRuntimeError("onComponentPropertiesChanged ".concat(e,"/").concat(t," error: ").concat(s),c),n),this._appInstance.onError(s||c||"unknow error in onComponentPropertiesChanged")}},TTApp.prototype.onComponentDatasetChanged=function(e,t){var n=this.getComponent(e);try{if(!n)throw new Error("component is not exist, error in onComponentDatasetChanged");n.dataset=t}catch(n){var r=n||{},o=r.message,a=r.stack;this.handleError(new InternalRuntimeError("onComponentDataSetChanged ".concat(e,"/").concat(t," error: ").concat(o),a),n)}},TTApp.prototype.onComponentInstanceChanged=function(e,t){var n=this.getComponent(e);try{if(!n)throw new Error("component is not exist, error in onComponentInstanceChanged");n.className=t.className,n.idSelector=t.id}catch(n){var r=n||{},o=r.message,a=r.stack;this.handleError(new InternalRuntimeError("onComponentInstanceChanged ".concat(e,"/").concat(t," error: ").concat(o),a),n)}},TTApp.prototype.updateCardData=function(e,t){var n=this;void 0===t&&(t=0);this._updateData=e;try{var r=this._appInstance;1==t&&(r.data={__globalProps:r.data.__globalProps},this._initData&&"object"==typeof this._initData&&Object.keys(this._initData).forEach((function(e){r.data[e]=n._initData[e]}))),"string"==typeof e&&(e=JSON.parse(e)),e&&"object"==typeof e&&Object.keys(e).forEach((function(t){var n=e[t];r.data[t]=n})),"function"==typeof r.onDataChanged&&r.onDataChanged.call(r,e)}catch(t){var o=t||{},a=o.message,i=o.stack;this.handleError(new InternalRuntimeError("updateCardData ".concat(e," error: ").concat(a),i),t)}},TTApp.prototype.initCardData=function(e){this._initData=e;try{var t=this._appInstance;Object.keys(e).forEach((function(n){hasProperty(t.data,n)||(t.data[n]=e[n])}))}catch(t){var n=t||{},r=n.message,o=n.stack;r="native initCardData error in Card:  ".concat(r),this.handleError(new InternalRuntimeError("initCardData ".concat(e," error: ").concat(r),o),t)}},TTApp.prototype.onNativeAppReady=function(e){var t,n=this;try{var r=!0;if(n.allRemoved&&(r=!n.allRemoved["/"+this._cardPath]),r){var o=Object.assign({},this._initData,this._updateData),a=diffData(o,this._appInstance.data);Object.keys(a).length>0&&((null===(t=this.lynx._switches)||void 0===t?void 0:t.enableLynxNodiff)?updateSignal.apply(n,["0",a,function(){},2,"card"]):n._nativeApp.updateData(a,2,(function(){})))}n._appInstance.cardState="ready",n._appInstance.onReady({}),pageLifetimeFun.call(n,"onReady")}catch(e){var i=e||{},s=i.message,c=i.stack;this.handleError(new InternalRuntimeError("onNativeAppReady error: ".concat(s),c),e)}},TTApp.prototype.onAppEnterBackground=function(e){try{this._appInstance.onHide(),pageLifetimeFun.call(this,"onHide")}catch(e){var t=e||{},n=t.message,r=t.stack;this.handleError(new InternalRuntimeError("onAppEnterBackground error: ".concat(n),r),e)}},TTApp.prototype.onAppEnterForeground=function(e){try{this._appInstance.onShow(e),pageLifetimeFun.call(this,"onShow")}catch(o){var t=o||{},n=t.message,r=t.stack;this.handleError(new InternalRuntimeError("onAppEnterForeground ".concat(e," error: ").concat(n),r),o)}},TTApp.prototype.onAppFirstScreen=function(e){try{this._appInstance.onFirstScreen(e),pageLifetimeFun.call(this,"onFirstScreen")}catch(o){var t=o||{},n=t.message,r=t.stack;this.handleError(new InternalRuntimeError("onAppFirstScreen ".concat(e," error: ").concat(n),r),o)}},TTApp.prototype.onAppReload=function(e){var t,n;pageLifetimeFun.call(this,"onDestroy"),null===(t=this.appInstance)||void 0===t||t.onDestroy(),this.appInstance.cardState="destroyed",(null===(n=this.lynx._switches)||void 0===n?void 0:n.enableClearGlobalEventsInReload)&&this.GlobalEventEmitter.removeAllListeners(),this._params.updateData=e,this._enableCanvas&&isFunction(this._initCanvas)&&this._initCanvas(this,this.lynx.Promise),_global.globComponentRegistPath=this._cardPath,this.Card(this._cardParams)},TTApp.prototype.OnLifecycleEvent=function(e){var t=this;try{if(!isArray(e))throw new Error("OnLifecycleEvent should get an array as argument, but get ".concat(getDataType(e)));var n=__read(e,3),r=n[0],o=n[1],a=n[2];isArray(o)||(o=[o]),o.forEach((function(e){switch(e){case"created":case"attached":case"detached":case"ready":case"moved":t.onComponentActivity(e,r,a.path,a);break;case"datasetChanged":t.onComponentDatasetChanged(r,a.dataset);break;case"instanceChanged":t.onComponentInstanceChanged(r,a);break;case"propertiesChanged":t.onComponentPropertiesChanged(r,a.props);break;default:throw new Error("OnLifecycleEvent unknown event: ".concat(e))}}))}catch(e){this.handleError(new InternalRuntimeError(e.message,e.stack),e)}},TTApp}(BaseApp);function pathProcess$1(e){var t=e.match(/(.*)\/([^/]+)?$/);return(null==t?void 0:t[1])?t[1]:"./"}function inRequire$1(e){var t=this,n=pathProcess$1(e);return function(e){var r=[],o="".concat(n,"/").concat(e).split("/"),a=o.length;if("string"!=typeof e)throw new Error("require args must be a string");for(var i=0;i<a;++i){var s=o[i];if(""!==s&&"."!==s)if(".."===s){if(0===r.length)throw new Error("can't find module ".concat(e," in app: ").concat(t._nativeApp.id));r.pop()}else i+1<a&&".."===o[i+1]?i++:r.push(s)}var c=r.join("/");return c.endsWith(".js")||(c+=".js"),t.require(c)}}function loadCard(nativeApp,params,lynx){var cardType=params.cardType,tt,id=nativeApp.id;alog("load card native app id: ".concat(id," cardType ").concat(cardType)),tt="tt"===cardType?new TTApp({nativeApp:nativeApp,params:params,lynx:lynx}):new ReactApp({nativeApp:nativeApp,params:params,lynx:lynx}),_global.currentAppId=id,_global.multiApps[id]=tt;var BDLynxSDKCore=_global.BDLynxSDKCore,_a=BDLynxSDKCore||{},apiInit=_a.apiInit,registerNativeEvent=_a.registerNativeEvent;if("function"==typeof apiInit){var apiInstance=apiInit.call(tt);tt.apiList=apiInstance}if(tt.registerModule("BDLynxAPIModule",new EventEmitter),"function"==typeof registerNativeEvent&&registerNativeEvent(tt.getJSModule("BDLynxAPIModule")),alog("load card native app load app-service.js params.bundleSupportLoadScript ".concat(params.bundleSupportLoadScript)),params.bundleSupportLoadScript){var bundleInitReturnObj=nativeApp.loadScript(APP_SERVICE_NAME);if(alog("load card load app-service.js loadScript success"),bundleInitReturnObj&&bundleInitReturnObj.init)try{bundleInitReturnObj.init({tt:tt}),alog("load card load app-service.js init success")}catch(e){tt.handleError(new UserRuntimeError(null==e?void 0:e.message,null==e?void 0:e.stack),e)}else{var errorMessage="loadCard error: Load app_service.js failed! It return a ".concat(bundleInitReturnObj,". There may be syntax error or file broken in app_service.js. Please check your js code with error message and stack.");tt.handleError(new UserRuntimeError(errorMessage))}}else{var jsContent=nativeApp.readScript(APP_SERVICE_NAME);eval(jsContent),alog("load card load app-service.js eval success")}nativeApp.setCard(tt)}function destroyCard(e){alog("destroy ".concat(e)),_global.multiApps[e].destroy(),delete _global.multiApps[e]}function callDestroyLifetimeFun(e){alog("callDestroyLifetimeFun ".concat(e)),_global.multiApps[e].callDestroyLifetimeFun()}function loadDynamicComponent(e,t){var n=_global.globDynamicComponentEntry;_global.globDynamicComponentEntry=t;try{var r=e.nativeApp.loadScript(APP_SERVICE_NAME,t);if(alog("load dynamic component app-service.js loadScript success"),r&&r.init){var o=r.init({tt:e});return e.saveDynamicComponentExports(t,o),alog("load dynamic component load app-service.js init success"),o}var a="loadDynamicComponent error: Load app_service.js failed! It return a ".concat(r,". There may be syntax error or file broken in app_service.js. Please check your js code with error message and stack.");e.handleError(new UserRuntimeError(a))}catch(t){e.handleError(new UserRuntimeError(null==t?void 0:t.message,null==t?void 0:t.stack),t)}finally{_global.globDynamicComponentEntry=n}}for(var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256),i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;function arrayBufferToBase64(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=chars[n[t]>>2],o+=chars[(3&n[t])<<4|n[t+1]>>4],o+=chars[(15&n[t+1])<<2|n[t+2]>>6],o+=chars[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}function base64ToArrayBuffer(e){var t,n,r,o,a,i=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var p=new ArrayBuffer(i),u=new Uint8Array(p);for(t=0;t<s;t+=4)n=lookup[e.charCodeAt(t)],r=lookup[e.charCodeAt(t+1)],o=lookup[e.charCodeAt(t+2)],a=lookup[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&a;return p}_global.loadCard=loadCard,_global.destroyCard=destroyCard,_global.callDestroyLifetimeFun=callDestroyLifetimeFun,_global.loadDynamicComponent=loadDynamicComponent,_global.__createEventEmitter=createEventEmitter,_global.__lynxArrayBufferToBase64=arrayBufferToBase64,_global.__lynxBase64ToArrayBuffer=base64ToArrayBuffer,_global.LynxSDKCore={report:legacyReportError,reportInner:wrapInnerFunction,reportUser:wrapUserFunction}})();
//# sourceMappingURL=lynx_core.js.map
