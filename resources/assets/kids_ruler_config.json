{"signature":"kids_2","strategy_set":{"guard":{"const_pool":{"location_apis":{"value":[100000,100001,100002,100004,100005,100006,100007,100008,100009,100010,100011,100012,100900,100902,100903,100909,100910,100911,100912],"type":"int_array"},"read_clipboard_apis":{"value":[101803,101804,101809],"type":"int_array"},"fuse_apis":{"value":[101000,101100,101700,101701,101400,101500,101600,101601,101602,101900,102000,102001,101200,102002,100012,100900,100901,100902,100903,100904,100905,100906,100907,100908,100909,100910,100911,100912],"type":"int_array"}},"strategy_select_break":false,"rule_exec_break":false,"policies":{"kids_fuse_api_anyway":{"title":"kids_fuse_api_anyway","cel":"true","conf":{"action":"report","upload_params":{"upload_alog":false,"filter_extra_info":true}}},"kids_pair_not_close":{"title":"kids_pair_not_close","conf":{"action":"report","upload_params":{"upload_alog":false,"filter_extra_info":true}},"cel":"is_pair_not_close == true"},"kids_pair_delay_close":{"title":"kids_pair_delay_close","conf":{"action":"report","upload_params":{"filter_extra_info":true,"upload_alog":false}},"cel":"is_pair_delay_close == true"},"kids_disable_when_app_background":{"title":"kids_disable_when_app_background","conf":{"action":"report","upload_params":{"upload_alog":false,"filter_extra_info":true}},"cel":"is_background(2)"},"kids_disable_anyway":{"title":"kids_disable_anyway","conf":{"action":"report","upload_params":{"upload_alog":false,"filter_extra_info":true}},"cel":"true"}},"strategies":{"fuse_anyway":{"rules":["kids_fuse_api_anyway"]},"pair":{"rules":["kids_pair_not_close","kids_pair_delay_close","kids_disable_when_app_background"]},"location":{"rules":["kids_disable_anyway"]},"clipboard":{"rules":["kids_disable_anyway"]},"settings_or_ab_or_compliance_setting":{"rules":["kids_disable_anyway"]}},"strategy_map":{"keys":["data_types","api_id"],"rules":[{"title":"fuse_anyway","conf":{"strategy":"fuse_anyway"},"cel":"api_id in fuse_apis"},{"title":"pair","conf":{"strategy":"pair"},"cel":"data_types isIntersect [\"video\", \"audio\"]"},{"title":"location","conf":{"strategy":"location"},"cel":"data_types isIntersect [\"location\"] && api_id in location_apis"},{"title":"clipboard","conf":{"strategy":"clipboard"},"cel":"data_types isIntersect [\"clipboard\"] && api_id in read_clipboard_apis"},{"title":"settings_or_ab_or_compliance_setting","conf":{"strategy":"settings_or_ab_or_compliance_setting"},"cel":"api_id in [10300, 10301]"}]}},"network_fuse":{"const_pool":{"kids_mode_remove_param_keys":{"value":["uoo","idfa","webcast_language","webcast_locale","content_language","allow_sell_data","longitude","webcast_sdk_version","gaid","gps_access","address_book_access","city","city_name","latitude","ad_personality_mode","search_source","show_location","mac_address","google_aid","android_id","bid_ad_params","ad_user_agent","ssid","openudid","idfv","vid","clientudid"],"type":"string_array"},"kids_mode_replace_param_keys":{"value":["did","deviceid","device_id","iid","installid","install_id"],"type":"string_array"},"network_request_apis":{"value":[400001,400101,400203],"type":"int_array"},"network_content_apis":{"value":[400401,400402,400500,400501],"type":"int_array"},"main_domains":{"value":["tiktokv.com","musical.ly"],"type":"string_array"},"allow_paths":{"value":["/tpp/inapp/age-verification/parental-consent-permission.html","/tpp/inapp/age-verification/parental-consent-updates.html","/tpp/inapp/age-verification/parental-consent-submit-status.html","/tpp/inapp/age-verification/verify-state.html","/tpp/inapp/age-verification/dob.html","/tpp/inapp/age-verification/select-method.html","/tpp/inapp/age-verification/instructions.html","/tpp/inapp/age-verification/status.html","/tpp/inapp/age-verification/verification-status.html","/tpp/inapp/age-verification/id-photo-verification.html","/tpp/inapp/age-verification/guardian-verification.html","/tpp/inapp/age-verification/credit-card-verification.html","/tiktok/age/verify/eligibility/check/v1/","/tiktok/age/verify/methods/v1/","/aweme/v1/adult/verify/get/accepted/id/types/","/tiktok/v1/age/verify/code/","/tiktok/v1/age/verify/submit/form/","/tiktok/age/verify/pipo/init/v1/","/passport/web/user/appeal_region/","/tiktok/v1/age/verify/send/guardian/email","/ri/report","/mscc/host_setting","/sdi/get_token","/mscc/common_setting","/aweme/v1/commit/user/","/passport/account/set/","/aweme/v1/compliance/settings/","/passport/login_name/update/","/aweme/v1/settings/","/service/settings/v2/","/service/settings/v3/","/tiktok/v1/kids/effect/api/category/effects/v2","/tiktok/v1/kids/effect/api/category/effects","/aweme/v1/rate/settings/","/tiktok/v1/kids/effect/api/v3/effects","/tiktok/v1/kids/effect/api/category/check","/tiktok/v1/kids/effect/api/panel/check","/tiktok/v1/kids/effect/api/v3/effect/my","/tiktok/v1/kids/effect/api/effects/v4","/tiktok/v1/kids/effect/api/checkUpdate","/tiktok/v1/kids/effect/api/panel/info/v2","/tiktok/v1/kids/effect/api/v3/effect/favorite","/tiktok/v1/kids/effect/api/v3/effect/list","/tiktok/v1/kids/effect/api/filterbox/list","/tiktok/v1/kids/effect/api/panel/info","/tiktok/v1/kids/effect/api/filterbox/update","/model/api/arithmetics","/aweme/v1/play/","/aweme/v2/feedback/reasons/","/aweme/v3/user/info/sync/","/aweme/v3/verification/age/","/2/user/info/","/aweme/v1/register/check/login/name/","/aweme/v1/set/data-saver-setting/","/aweme/v1/openapi/authorized/page/detail/","/aweme/v1/user/profile/self/","/service/2/device_register/","/passport/user/login/","/passport/user/logout/","/passport/password/has_set/","/passport/password/update/","/passport/username/register/","/passport/cancel/post/","/passport/cancel/do/","/passport/password/set/","/monitor/appmonitor/v3/settings","/monitor/appmonitor/v2/settings","/passport/account/info/v2/","/passport/token/beat/v2/","/video/openapi/v1/","/src/server/v3/package","/monitor/collect/c/crash_client_event","/monitor/collect/c/native_bin_crash","/monitor/collect/c/ios_custom_exception/","/monitor/collect/","/monitor/collect/c/logcollect","/collect/","/monitor/collect/c/crash","/monitor/collect/c/exception","/service/2/app_log/","/aweme/v1/abtest/param/","/service/2/log_settings/","/service/2/app_alert_check/","/aweme/v1/aweme/feedback/","/gecko/server/falcon/stats","/aweme/v1/music/detail/","/get_domains/v5/","/src/server/v2/package","/tiktok/v1/kids/edit/user/","/tiktok/v1/kids/feed/","/tiktok/v1/kids/user/email/","/tiktok/v1/kids/find/","/tiktok/v1/kids/category/list/","/tiktok/v1/kids/multi/aweme/detail/","/tiktok/v1/kids/hot/music/","/tiktok/v1/kids/music/collection/","/tiktok/v1/kids/music/collection/feed/","/tiktok/v1/kids/music/pick/","/tiktok/v1/kids/music/list/","/tiktok/v1/kids/commit/item/digg/","/tiktok/v1/kids/policy/notice/","/tiktok/v1/kids/policy/notice/approve/","/tiktok/v1/kids/aweme/favorite/","/tiktok/v1/kids/user/music/collect/","/tiktok/v1/kids/music/collect/","/tiktok/v1/kids/model/api/arithmetics","/tiktok/v1/kids/devicehub/getSettings","/tiktok/v1/kids/check/in/","/tiktok/v1/kids/video/stats/","/tiktok/v1/kids/user/set/settings/","/tiktok/v1/kids/user/check/password/","/tiktok/v1/kids/settings/","/tiktok/v1/age/verify/status/","/tiktok/v1/kids/category/videos/","/tiktok/v1/kids/wellbeing/videos/","/passport/login_name/check/","/aweme/v1/search/effect/","/gecko/api/settings/v1","/gecko/server/v5/package","/passport/auth/login_only/","/monitor/collect/batch/","/gecko/server/v2/combine/check","/passport/user/device_record_status/set/","/bytebench/api/sdk/device/score","/bytebench/api/task/group","/bytebench/api/sdk/device/strategy/batch/v2","/bytebench/api/sdk/bytebench/config","/ms/get_seed","/src/server/v5/package","/gurd/api/settings/v1","/dc/get_dctoken","/web-inapp/account/delete/confirm_child","/ms/dyn/task","/ms/dyn/report","/ms/dyn/check"],"type":"string_array"}},"strategy_select_break":false,"rule_exec_break":false,"policies":{"kids_mode_remove_param":{"title":"kids_mode_remove_param","cel":"true","conf":{"action":"modify","check_modify_config_hit":true,"modify_config":{"query":{"remove":"$kids_mode_remove_param_keys"},"cookie":{"remove":"$kids_mode_remove_param_keys"},"header":{"remove":"$kids_mode_remove_param_keys"}}}},"kids_mode_replace_param":{"title":"kids_mode_replace_param","cel":"true","conf":{"action":"modify","check_modify_config_hit":true,"is_report":false,"modify_config":{"query":{"replace":{"did":{"value":"$device_id","target":"value"},"deviceid":{"value":"$device_id","target":"value"},"device_id":{"value":"$device_id","target":"value"},"iid":{"value":"$install_id","target":"value"},"installid":{"value":"$install_id","target":"value"},"install_id":{"value":"$install_id","target":"value"}}},"cookie":{"replace":{"did":{"value":"$device_id","target":"value"},"deviceid":{"value":"$device_id","target":"value"},"device_id":{"value":"$device_id","target":"value"},"iid":{"value":"$install_id","target":"value"},"installid":{"value":"$install_id","target":"value"},"install_id":{"value":"$install_id","target":"value"}}},"header":{"replace":{"did":{"value":"$device_id","target":"value"},"deviceid":{"value":"$device_id","target":"value"},"device_id":{"value":"$device_id","target":"value"},"iid":{"value":"$install_id","target":"value"},"installid":{"value":"$install_id","target":"value"},"install_id":{"value":"$install_id","target":"value"}}}}}},"kids_mode_drop_request":{"title":"kids_mode_drop_request","cel":"true","conf":{"action":"fuse","fuse_config":{"code":410,"message":"this api is not allow in kids mode"}}},"kids_mode_remove_content":{"title":"kids_mode_remove_content","cel":"true","conf":{"action":"modify","check_modify_config_hit":true,"modify_config":{"content":{"remove":"$kids_mode_remove_param_keys"}}}}},"strategies":{"kids_mode_param":{"rules":["kids_mode_remove_param","kids_mode_replace_param"]},"kids_mode_request":{"rules":["kids_mode_drop_request"]},"kids_mode_content":{"rules":["kids_mode_remove_content"]}},"strategy_map":{"keys":["api_id","domain","path"],"rules":[{"title":"kids_mode_param","conf":{"strategy":"kids_mode_param"},"cel":"api_id in network_request_apis"},{"title":"kids_mode_request","conf":{"strategy":"kids_mode_request"},"cel":"api_id in network_request_apis && domain endwith main_domains && path out allow_paths"},{"title":"kids_mode_content","conf":{"strategy":"kids_mode_content"},"cel":"api_id in network_content_apis"}]}}}}