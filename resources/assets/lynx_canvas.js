(0,eval)("this").initBundle=function(_){var t=_.tt;return t.define("lynx_assets://lynx_canvas.js",(function(_,t,r){"use strict";function o(_,t){var r="function"==typeof Symbol&&_[Symbol.iterator];if(!r)return _;var o,e,n=r.call(_),i=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(_){e={error:_}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return i}function e(_,t,r){if(r||2===arguments.length)for(var o,e=0,n=t.length;e<n;e++)!o&&e in t||(o||(o=Array.prototype.slice.call(t,0,e)),o[e]=t[e]);return _.concat(o||Array.prototype.slice.call(t))}Object.defineProperty(r,"__esModule",{value:!0});const n=function(){return this||(0,eval)("this")}();function i(_){return"object"===function(_){const t=typeof _;return"object"!==t?t:Array.isArray(_)?"array":null==_?"null":_ instanceof Date?"date":_ instanceof RegExp?"regExp":"object"}(_)}(function(){return this||(0,eval)("this")})().groupId,nativeConsole;var p=nativeConsole;function a(_){var t=_.prototype.resetEventListenerStatus;_.prototype.triggerEvent=function(_,t){(function(_,t){var r=this;void 0===t&&(t={}),t.target=this,t.type=_,t.preventDefault=function(){},t.stopPropagation=function(){};var o=this._handlers&&this._handlers[_];o&&o.length&&o.slice().forEach((function(_){_.call(r,t)}));var e=this["on"+_];e&&"function"==typeof e&&e.call(this,t)}).call(this,_,t)},_.prototype.addEventListener=function(_,r){if(this._handlers||(this._handlers={}),r){var o=this._handlers[_];o?o.push(r):this._handlers[_]=[r],t&&t.call(this,_,this._handlers[_].length>0)}},_.prototype.removeEventListener=function(_,r){var o,e;if(this._handlers){var n=this._handlers[_];if(n){var i=Array.prototype.findIndex.call(n,(function(_){return r===_}));-1!=i&&n.splice(i,1)}t&&t.call(this,_,(null!==(e=null===(o=this._handlers[_])||void 0===o?void 0:o.length)&&void 0!==e?e:0)>0)}},_.prototype.dispatchEvent=function(_){var t=this,r=_.type;if(_.target=this,"function"==typeof this["on"+r]&&this["on"+r](_),this._handlers&&r in this._handlers){var o=this._handlers[r];o&&o.length&&o.forEach((function(r){r.call(t,_)}))}}}var h=function(_){if(_._commandBuffer)return _._commandBuffer;var t=_._commandBufferImpl,r=new Uint8Array(t.commands),o=new Float32Array(t.commands),e=new Int32Array(t.commands),n=new Uint32Array(t.commands),i=t.flushCommandBuffer,p=[];n[0]=1;var a=40960,h={activeTexture:function(_){var t=n[0];1==t&&(p=[]),n[t]=1,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},attachShader:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=2,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_._ptr_low,n[r+4]=_._ptr_high,p.push(_),n[r+5]=t._ptr_low,n[r+6]=t._ptr_high,p.push(t),r+=7,n[0]=r,r>a&&i()},bindBuffer:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=3,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=null==t?void 0:t._ptr_low,n[r+5]=null==t?void 0:t._ptr_high,p.push(t),r+=6,n[0]=r,r>a&&i()},bindFramebuffer:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=4,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=null==t?void 0:t._ptr_low,n[r+5]=null==t?void 0:t._ptr_high,p.push(t),r+=6,n[0]=r,r>a&&i()},bindRenderbuffer:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=5,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=null==t?void 0:t._ptr_low,n[r+5]=null==t?void 0:t._ptr_high,p.push(t),r+=6,n[0]=r,r>a&&i()},bindTexture:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=6,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=null==t?void 0:t._ptr_low,n[r+5]=null==t?void 0:t._ptr_high,p.push(t),r+=6,n[0]=r,r>a&&i()},blendColor:function(_,t,r,e){var h=n[0];1==h&&(p=[]),n[h]=7,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,o[h+3]=_,o[h+4]=t,o[h+5]=r,o[h+6]=e,h+=7,n[0]=h,h>a&&i()},blendEquation:function(_){var t=n[0];1==t&&(p=[]),n[t]=8,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},blendEquationSeparate:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=9,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t,r+=5,n[0]=r,r>a&&i()},blendFunc:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=10,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t,r+=5,n[0]=r,r>a&&i()},blendFuncSeparate:function(_,t,r,o){var e=n[0];1==e&&(p=[]),n[e]=11,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=_,n[e+4]=t,n[e+5]=r,n[e+6]=o,e+=7,n[0]=e,e>a&&i()},bufferData:function(_,t,o){var h=n[0];!t||t.byteLength&&h+Math.ceil(t.byteLength/4)>a?this.bufferData_(_,t,o):(n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,void 0===t.byteLength?function(_,t,r){var o=n[0];1==o&&(p=[]),n[o]=12,n[o+3]=_,e[o+4]=t,n[o+5]=r,o+=6,n[0]=o,o>a&&i()}(_,t,o):ArrayBuffer.isView(t)?function(_,t,o){var e=n[0];1==e&&(p=[]),n[e]=13,n[e+3]=_,n[e+4]=t.byteLength;var h=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);n[e+5]=o,e+=6,r.set(h,4*e),e+=Math.ceil(t.byteLength/4),n[0]=e,e>a&&i()}(_,t,o):function(_,t,o){var e=n[0];1==e&&(p=[]),n[e]=14,n[e+3]=_,n[e+4]=t.byteLength;var h=new Uint8Array(t);n[e+5]=o,e+=6,r.set(h,4*e),e+=Math.ceil(t.byteLength/4),n[0]=e,e>a&&i()}(_,t,o))},bufferSubData:function(_,t,o){var h=n[0];!o||!o.byteLength||h+Math.ceil(o.byteLength/4)>a?this.bufferSubData_(_,t,o):(n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,ArrayBuffer.isView(o)?function(_,t,o){var h=n[0];1==h&&(p=[]),n[h]=15,n[h+3]=_,e[h+4]=t,n[h+5]=o.byteLength;var E=new Uint8Array(o.buffer,o.byteOffset,o.byteLength);h+=6,r.set(E,4*h),h+=Math.ceil(o.byteLength/4),n[0]=h,h>a&&i()}(_,t,o):function(_,t,o){var h=n[0];1==h&&(p=[]),n[h]=16,n[h+3]=_,e[h+4]=t,n[h+5]=o.byteLength;var E=new Uint8Array(o);h+=6,r.set(E,4*h),h+=Math.ceil(o.byteLength/4),n[0]=h,h>a&&i()}(_,t,o))},clear:function(_){var t=n[0];1==t&&(p=[]),n[t]=17,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,(t>a||!this._drew_in_this_frame)&&(this._drew_in_this_frame=!0,i())},clearColor:function(_,t,r,e){var h=n[0];1==h&&(p=[]),n[h]=18,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,o[h+3]=_,o[h+4]=t,o[h+5]=r,o[h+6]=e,h+=7,n[0]=h,h>a&&i()},clearDepth:function(_){var t=n[0];1==t&&(p=[]),n[t]=19,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,o[t+3]=_,t+=4,n[0]=t,t>a&&i()},clearStencil:function(_){var t=n[0];1==t&&(p=[]),n[t]=20,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,e[t+3]=_,t+=4,n[0]=t,t>a&&i()},colorMask:function(_,t,r,o){var e=n[0];1==e&&(p=[]),n[e]=21,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=_,n[e+4]=t,n[e+5]=r,n[e+6]=o,e+=7,n[0]=e,e>a&&i()},compileShader:function(_){var t=n[0];1==t&&(p=[]),n[t]=22,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_._ptr_low,n[t+4]=_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},copyTexImage2D:function(_,t,r,o,h,E,s,u){var l=n[0];1==l&&(p=[]),n[l]=23,n[l+1]=this._ptr_low,n[l+2]=this._ptr_high,n[l+3]=_,e[l+4]=t,n[l+5]=r,e[l+6]=o,e[l+7]=h,e[l+8]=E,e[l+9]=s,e[l+10]=u,l+=11,n[0]=l,l>a&&i()},copyTexSubImage2D:function(_,t,r,o,h,E,s,u){var l=n[0];1==l&&(p=[]),n[l]=24,n[l+1]=this._ptr_low,n[l+2]=this._ptr_high,n[l+3]=_,e[l+4]=t,e[l+5]=r,e[l+6]=o,e[l+7]=h,e[l+8]=E,e[l+9]=s,e[l+10]=u,l+=11,n[0]=l,l>a&&i()},cullFace:function(_){var t=n[0];1==t&&(p=[]),n[t]=25,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},deleteBuffer:function(_){var t=n[0];1==t&&(p=[]),n[t]=26,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},deleteFramebuffer:function(_){var t=n[0];1==t&&(p=[]),n[t]=27,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},deleteProgram:function(_){var t=n[0];1==t&&(p=[]),n[t]=28,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},deleteRenderbuffer:function(_){var t=n[0];1==t&&(p=[]),n[t]=29,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},deleteShader:function(_){var t=n[0];1==t&&(p=[]),n[t]=30,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},deleteTexture:function(_){var t=n[0];1==t&&(p=[]),n[t]=31,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},depthFunc:function(_){var t=n[0];1==t&&(p=[]),n[t]=32,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},depthMask:function(_){var t=n[0];1==t&&(p=[]),n[t]=33,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},depthRange:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=34,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,o[r+3]=_,o[r+4]=t,r+=5,n[0]=r,r>a&&i()},detachShader:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=35,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_._ptr_low,n[r+4]=_._ptr_high,p.push(_),n[r+5]=t._ptr_low,n[r+6]=t._ptr_high,p.push(t),r+=7,n[0]=r,r>a&&i()},disable:function(_){var t=n[0];1==t&&(p=[]),n[t]=36,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},disableVertexAttribArray:function(_){var t=n[0];1==t&&(p=[]),n[t]=37,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},drawArrays:function(_,t,r){var o=n[0];1==o&&(p=[]),n[o]=38,n[o+1]=this._ptr_low,n[o+2]=this._ptr_high,n[o+3]=_,e[o+4]=t,e[o+5]=r,o+=6,n[0]=o,(o>a||!this._drew_in_this_frame)&&(this._drew_in_this_frame=!0,i())},drawElements:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=39,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=_,e[h+4]=t,n[h+5]=r,e[h+6]=o,h+=7,n[0]=h,(h>a||!this._drew_in_this_frame)&&(this._drew_in_this_frame=!0,i())},enable:function(_){var t=n[0];1==t&&(p=[]),n[t]=40,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},enableVertexAttribArray:function(_){var t=n[0];1==t&&(p=[]),n[t]=41,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},flush:function(){var _=n[0];1==_&&(p=[]),n[_]=42,n[_+1]=this._ptr_low,n[_+2]=this._ptr_high,_+=3,n[0]=_,(_>a||!this._drew_in_this_frame)&&(this._drew_in_this_frame=!0,i())},framebufferRenderbuffer:function(_,t,r,o){var e=n[0];1==e&&(p=[]),n[e]=43,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=_,n[e+4]=t,n[e+5]=r,n[e+6]=null==o?void 0:o._ptr_low,n[e+7]=null==o?void 0:o._ptr_high,p.push(o),e+=8,n[0]=e,e>a&&i()},framebufferTexture2D:function(_,t,r,o,h){var E=n[0];1==E&&(p=[]),n[E]=44,n[E+1]=this._ptr_low,n[E+2]=this._ptr_high,n[E+3]=_,n[E+4]=t,n[E+5]=r,n[E+6]=null==o?void 0:o._ptr_low,n[E+7]=null==o?void 0:o._ptr_high,p.push(o),e[E+8]=h,E+=9,n[0]=E,E>a&&i()},frontFace:function(_){var t=n[0];1==t&&(p=[]),n[t]=45,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},generateMipmap:function(_){var t=n[0];1==t&&(p=[]),n[t]=46,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},hint:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=47,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t,r+=5,n[0]=r,r>a&&i()},lineWidth:function(_){var t=n[0];1==t&&(p=[]),n[t]=48,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,o[t+3]=_,t+=4,n[0]=t,t>a&&i()},linkProgram:function(_){var t=n[0];1==t&&(p=[]),n[t]=49,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_._ptr_low,n[t+4]=_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},pixelStorei:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=50,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,e[r+4]=t,r+=5,n[0]=r,r>a&&i()},polygonOffset:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=51,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,o[r+3]=_,o[r+4]=t,r+=5,n[0]=r,r>a&&i()},renderbufferStorage:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=52,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=_,n[h+4]=t,e[h+5]=r,e[h+6]=o,h+=7,n[0]=h,h>a&&i()},sampleCoverage:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=53,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,o[r+3]=_,n[r+4]=t,r+=5,n[0]=r,r>a&&i()},scissor:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=54,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,e[h+3]=_,e[h+4]=t,e[h+5]=r,e[h+6]=o,h+=7,n[0]=h,h>a&&i()},stencilFunc:function(_,t,r){var o=n[0];1==o&&(p=[]),n[o]=55,n[o+1]=this._ptr_low,n[o+2]=this._ptr_high,n[o+3]=_,e[o+4]=t,n[o+5]=r,o+=6,n[0]=o,o>a&&i()},stencilFuncSeparate:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=56,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=_,n[h+4]=t,e[h+5]=r,n[h+6]=o,h+=7,n[0]=h,h>a&&i()},stencilMask:function(_){var t=n[0];1==t&&(p=[]),n[t]=57,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_,t+=4,n[0]=t,t>a&&i()},stencilMaskSeparate:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=58,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t,r+=5,n[0]=r,r>a&&i()},stencilOp:function(_,t,r){var o=n[0];1==o&&(p=[]),n[o]=59,n[o+1]=this._ptr_low,n[o+2]=this._ptr_high,n[o+3]=_,n[o+4]=t,n[o+5]=r,o+=6,n[0]=o,o>a&&i()},stencilOpSeparate:function(_,t,r,o){var e=n[0];1==e&&(p=[]),n[e]=60,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=_,n[e+4]=t,n[e+5]=r,n[e+6]=o,e+=7,n[0]=e,e>a&&i()},texParameterf:function(_,t,r){var e=n[0];1==e&&(p=[]),n[e]=61,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=_,n[e+4]=t,o[e+5]=r,e+=6,n[0]=e,e>a&&i()},texParameteri:function(_,t,r){var o=n[0];1==o&&(p=[]),n[o]=62,n[o+1]=this._ptr_low,n[o+2]=this._ptr_high,n[o+3]=_,n[o+4]=t,e[o+5]=r,o+=6,n[0]=o,o>a&&i()},uniform1f:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=63,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),o[r+5]=t,r+=6,n[0]=r,r>a&&i()},uniform1fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=64,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform1i:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=65,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),e[r+5]=t,r+=6,n[0]=r,r>a&&i()},uniform1iv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=66,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,e.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform2f:function(_,t,r){var e=n[0];1==e&&(p=[]),n[e]=67,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=null==_?void 0:_._ptr_low,n[e+4]=null==_?void 0:_._ptr_high,p.push(_),o[e+5]=t,o[e+6]=r,e+=7,n[0]=e,e>a&&i()},uniform2fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=68,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform2i:function(_,t,r){var o=n[0];1==o&&(p=[]),n[o]=69,n[o+1]=this._ptr_low,n[o+2]=this._ptr_high,n[o+3]=null==_?void 0:_._ptr_low,n[o+4]=null==_?void 0:_._ptr_high,p.push(_),e[o+5]=t,e[o+6]=r,o+=7,n[0]=o,o>a&&i()},uniform2iv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=70,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,e.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform3f:function(_,t,r,e){var h=n[0];1==h&&(p=[]),n[h]=71,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=null==_?void 0:_._ptr_low,n[h+4]=null==_?void 0:_._ptr_high,p.push(_),o[h+5]=t,o[h+6]=r,o[h+7]=e,h+=8,n[0]=h,h>a&&i()},uniform3fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=72,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform3i:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=73,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=null==_?void 0:_._ptr_low,n[h+4]=null==_?void 0:_._ptr_high,p.push(_),e[h+5]=t,e[h+6]=r,e[h+7]=o,h+=8,n[0]=h,h>a&&i()},uniform3iv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=74,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,e.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform4f:function(_,t,r,e,h){var E=n[0];1==E&&(p=[]),n[E]=75,n[E+1]=this._ptr_low,n[E+2]=this._ptr_high,n[E+3]=null==_?void 0:_._ptr_low,n[E+4]=null==_?void 0:_._ptr_high,p.push(_),o[E+5]=t,o[E+6]=r,o[E+7]=e,o[E+8]=h,E+=9,n[0]=E,E>a&&i()},uniform4fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=76,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniform4i:function(_,t,r,o,h){var E=n[0];1==E&&(p=[]),n[E]=77,n[E+1]=this._ptr_low,n[E+2]=this._ptr_high,n[E+3]=null==_?void 0:_._ptr_low,n[E+4]=null==_?void 0:_._ptr_high,p.push(_),e[E+5]=t,e[E+6]=r,e[E+7]=o,e[E+8]=h,E+=9,n[0]=E,E>a&&i()},uniform4iv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=78,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=null==_?void 0:_._ptr_low,n[r+4]=null==_?void 0:_._ptr_high,p.push(_),n[r+5]=t.length,r+=6,e.set(t,r),r+=t.length,n[0]=r,r>a&&i()},uniformMatrix2fv:function(_,t,r){var e=n[0];1==e&&(p=[]),n[e]=79,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=null==_?void 0:_._ptr_low,n[e+4]=null==_?void 0:_._ptr_high,p.push(_),n[e+5]=t,n[e+6]=r.length,e+=7,o.set(r,e),e+=r.length,n[0]=e,e>a&&i()},uniformMatrix3fv:function(_,t,r){var e=n[0];1==e&&(p=[]),n[e]=80,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=null==_?void 0:_._ptr_low,n[e+4]=null==_?void 0:_._ptr_high,p.push(_),n[e+5]=t,n[e+6]=r.length,e+=7,o.set(r,e),e+=r.length,n[0]=e,e>a&&i()},uniformMatrix4fv:function(_,t,r){var e=n[0];1==e&&(p=[]),n[e]=81,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=null==_?void 0:_._ptr_low,n[e+4]=null==_?void 0:_._ptr_high,p.push(_),n[e+5]=t,n[e+6]=r.length,e+=7,o.set(r,e),e+=r.length,n[0]=e,e>a&&i()},useProgram:function(_){var t=n[0];1==t&&(p=[]),n[t]=82,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},validateProgram:function(_){var t=n[0];1==t&&(p=[]),n[t]=83,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=_._ptr_low,n[t+4]=_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},vertexAttrib1f:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=84,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,o[r+4]=t,r+=5,n[0]=r,r>a&&i()},vertexAttrib1fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=85,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t.length,r+=5,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},vertexAttrib2f:function(_,t,r){var e=n[0];1==e&&(p=[]),n[e]=86,n[e+1]=this._ptr_low,n[e+2]=this._ptr_high,n[e+3]=_,o[e+4]=t,o[e+5]=r,e+=6,n[0]=e,e>a&&i()},vertexAttrib2fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=87,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t.length,r+=5,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},vertexAttrib3f:function(_,t,r,e){var h=n[0];1==h&&(p=[]),n[h]=88,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=_,o[h+4]=t,o[h+5]=r,o[h+6]=e,h+=7,n[0]=h,h>a&&i()},vertexAttrib3fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=89,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t.length,r+=5,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},vertexAttrib4f:function(_,t,r,e,h){var E=n[0];1==E&&(p=[]),n[E]=90,n[E+1]=this._ptr_low,n[E+2]=this._ptr_high,n[E+3]=_,o[E+4]=t,o[E+5]=r,o[E+6]=e,o[E+7]=h,E+=8,n[0]=E,E>a&&i()},vertexAttrib4fv:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=91,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t.length,r+=5,o.set(t,r),r+=t.length,n[0]=r,r>a&&i()},vertexAttribPointer:function(_,t,r,o,h,E){var s=n[0];1==s&&(p=[]),n[s]=92,n[s+1]=this._ptr_low,n[s+2]=this._ptr_high,n[s+3]=_,e[s+4]=t,n[s+5]=r,n[s+6]=o,e[s+7]=h,e[s+8]=E,s+=9,n[0]=s,s>a&&i()},viewport:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=93,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,e[h+3]=_,e[h+4]=t,e[h+5]=r,e[h+6]=o,h+=7,n[0]=h,h>a&&i()},drawArraysInstancedANGLE:function(_,t,r,o){var h=n[0];1==h&&(p=[]),n[h]=94,n[h+1]=this._ptr_low,n[h+2]=this._ptr_high,n[h+3]=_,e[h+4]=t,e[h+5]=r,e[h+6]=o,h+=7,n[0]=h,h>a&&i()},drawElementsInstancedANGLE:function(_,t,r,o,h){var E=n[0];1==E&&(p=[]),n[E]=95,n[E+1]=this._ptr_low,n[E+2]=this._ptr_high,n[E+3]=_,e[E+4]=t,n[E+5]=r,e[E+6]=o,e[E+7]=h,E+=8,n[0]=E,E>a&&i()},vertexAttribDivisorANGLE:function(_,t){var r=n[0];1==r&&(p=[]),n[r]=96,n[r+1]=this._ptr_low,n[r+2]=this._ptr_high,n[r+3]=_,n[r+4]=t,r+=5,n[0]=r,r>a&&i()},deleteVertexArrayOES:function(_){var t=n[0];1==t&&(p=[]),n[t]=97,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()},bindVertexArrayOES:function(_){var t=n[0];1==t&&(p=[]),n[t]=98,n[t+1]=this._ptr_low,n[t+2]=this._ptr_high,n[t+3]=null==_?void 0:_._ptr_low,n[t+4]=null==_?void 0:_._ptr_high,p.push(_),t+=5,n[0]=t,t>a&&i()}};return _._commandBuffer=h,h};function E(_,t){if("face"==_)return function(_){for(var t=new Int32Array(_),r=new Float32Array(_),o=t[0],e=[],n=function(_,o){var n=t[o+2];e[_]={id:t[o],score:r[o+1],actions:n&&{blink:n>>1&1,blink_left:n>>7&1,blink_right:n>>8&1,mouth_ah:n>>2&1,head_yaw:n>>3&1,head_yaw_indian:n>>9&1,head_pitch:n>>4&1,brow_jump:n>>5&1,mouth_pout:n>>6&1},yaw:r[o+3],pitch:r[o+4],roll:r[o+5],boundingBox:{x:t[o+12],y:t[o+13],width:t[o+14]-t[o+12],height:t[o+15]-t[o+13],left:t[o+12],top:t[o+13],right:t[o+14],bottom:t[o+15]},landmarks:u.map((function(_){return{type:_.type,locations:_.offsets.map((function(_){return{x:r[(_<<1)+o+16],y:r[(_<<1)+o+17]}}))}}))}},i=0,p=1;i<o;i++,p+=256)n(i,p);return e}(t);if("skeleton"==_)return function(_){for(var t=new Float32Array(_),r=new Int32Array(_),o=["Nose","Neck","RightShoulder","RightElbow","RightWrist","LeftShoulder","LeftElbow","LeftWrist","RightHip","RightKnee","RightAnkle","LeftHip","LeftKnee","LeftAnkle","RightEye","LeftEye","RightEar","LeftEar"],e=r[0],n=[],i=function(_,e){n[_]={id:r[e],boundingBox:{left:t[e+1],top:t[e+2],right:t[e+3],bottom:t[e+4],x:t[e+1],y:t[e+2],width:t[e+3]-t[e+1],height:t[e+4]-t[e+2]},keyPoints:function(){for(var _=[],n=0;n<18;n++)_.push({x:t[e+5+3*n],y:t[e+6+3*n],idDetect:r[e+7+3*n],part:o[n]});return _}()}},p=0,a=2;p<e;p++,a+=59)i(p,a);return n}(t);if("hand"==_)return function(_){var t=new Float32Array(_),r=new Int32Array(_),o=["heart_a","heart_b","heart_c","heart_d","ok","hand_open","thumb_up","thumb_down","rock","namaste","plam_up","fist","index_finger_up","double_finger_up","victory","big_v","phonecall","beg","thanks","unknown","cabbage","three","four","pistol","rock2","swear","holdface","salute","spread","pray","qigong","slide","palm_down","pistol2","naruto1","naruto2","naruto3","naruto4","naruto5","naruto7","naruto8","naruto9","naruto10","naruto11","naruto12","spiderman","avengers"],e=r[0],n=[];if(0==e)return n;for(var i=function(_,e){return n[_]={id:r[e],boundingBox:{x:r[e+1],y:r[e+2],width:r[e+3]-r[e+1],height:r[e+4]-r[e+2],left:r[e+1],top:r[e+2],right:r[e+3],bottom:r[e+4]},actions:o[r[e+5]],rotAngle:t[e+6],score:t[e+7],rotAngleBothhand:t[e+8],seqAction:r[e+9],keyPoints:function(){for(var _=[],r=0;r<22;r++)_.push({x:t[e+10+2*r],y:t[e+11+2*r]});return _}()},{value:n}},p=0,a=1;p<e;p++,a+=58){var h=i(p,a);if("object"==typeof h)return h.value}}(t);throw Error("not support yet "+_)}function s(_,t){return{map:function(r){for(var o=[],e=_;e<=t;e++)o[e-_]=r(e);return o}}}var u=[{type:"face",offsets:s(0,32)},{type:"eyebow",offsets:[33,34,35,36,37,64,65,66,67]},{type:"eyebow",offsets:[38,39,40,41,42,68,69,70,71]},{type:"eye",offsets:[52,53,54,55,56,57,72,73,74]},{type:"eye",offsets:[58,59,60,61,62,63,75,76,77]},{type:"nose",offsets:[43,44,45,46,47,48,49,50,51,78,79,80,81,82,83]},{type:"mouth",offsets:s(84,103)}];function l(_){var t,r=0,o=_.length>1e3?_.slice(0,1e3):_;if(0!=o.length)for(t=0;t<o.length;t++)r=(r<<5)-r+o.charCodeAt(t),r|=0;return"canvas_"+r}var f={scandium:function(_){return{LOAD_FONT:4,LOAD_ARRAYBUFFER:2,loadDataUrl:function(t,r){if(1==r||2==r)return _._loadDataUrl(t,r);if(4==r){var o=_._loadDataUrl(t,2),e=l(t);return _.loadFont(e,o)?e:void 0}},loadAsync:function(t,r,n){if(4!=r)return _._loadAsync(t,r,(function(){for(var _=[],t=0;t<arguments.length;t++)_[t]=arguments[t];n&&n.apply(void 0,e([],o(_),!1))}));_._loadAsync(t,2,(function(r){if(r&&r.byteLength>0){var o=l(t);_.loadFont(o,r)?n&&n(o):n&&n(!1)}else n&&n(!1)}))}}}},c=function(){function _(_,t){var r=_.lynx;this.krypton=r.krypton,this.krypton&&(this.PromiseConstructor=t,this.krypton.createdCanvas={},this.CanvasElement=this.krypton.CanvasElement,this.ImageElement=this.krypton.ImageElement,this.VideoElement=this.krypton.VideoElement,this._adoptCanvas(this.CanvasElement,this.krypton),a(this.CanvasElement),a(this.ImageElement),a(this.VideoElement))}return _.prototype._adoptCanvas=function(_,t){if(_){var r=_.prototype.getContext;_.prototype.getContext=function(_,o){if("webgl"===_||"webgl2"===_){var e=void 0;return(e=o?r.call(this,"webgl",o):r.call(this,"webgl"))?(n=e,i=h(t),n.activeTexture=i.activeTexture,n.attachShader=i.attachShader,n.bindBuffer=i.bindBuffer,n.bindFramebuffer=i.bindFramebuffer,n.bindRenderbuffer=i.bindRenderbuffer,n.bindTexture=i.bindTexture,n.blendColor=i.blendColor,n.blendEquation=i.blendEquation,n.blendEquationSeparate=i.blendEquationSeparate,n.blendFunc=i.blendFunc,n.blendFuncSeparate=i.blendFuncSeparate,n.bufferData=i.bufferData,n.bufferSubData=i.bufferSubData,n.clear=i.clear,n.clearColor=i.clearColor,n.clearDepth=i.clearDepth,n.clearStencil=i.clearStencil,n.colorMask=i.colorMask,n.compileShader=i.compileShader,n.copyTexImage2D=i.copyTexImage2D,n.copyTexSubImage2D=i.copyTexSubImage2D,n.cullFace=i.cullFace,n.deleteBuffer=i.deleteBuffer,n.deleteFramebuffer=i.deleteFramebuffer,n.deleteProgram=i.deleteProgram,n.deleteRenderbuffer=i.deleteRenderbuffer,n.deleteShader=i.deleteShader,n.deleteTexture=i.deleteTexture,n.depthFunc=i.depthFunc,n.depthMask=i.depthMask,n.depthRange=i.depthRange,n.detachShader=i.detachShader,n.disable=i.disable,n.disableVertexAttribArray=i.disableVertexAttribArray,n.drawArrays=i.drawArrays,n.drawElements=i.drawElements,n.enable=i.enable,n.enableVertexAttribArray=i.enableVertexAttribArray,n.flush=i.flush,n.framebufferRenderbuffer=i.framebufferRenderbuffer,n.framebufferTexture2D=i.framebufferTexture2D,n.frontFace=i.frontFace,n.generateMipmap=i.generateMipmap,n.hint=i.hint,n.lineWidth=i.lineWidth,n.linkProgram=i.linkProgram,n.pixelStorei=i.pixelStorei,n.polygonOffset=i.polygonOffset,n.renderbufferStorage=i.renderbufferStorage,n.sampleCoverage=i.sampleCoverage,n.scissor=i.scissor,n.stencilFunc=i.stencilFunc,n.stencilFuncSeparate=i.stencilFuncSeparate,n.stencilMask=i.stencilMask,n.stencilMaskSeparate=i.stencilMaskSeparate,n.stencilOp=i.stencilOp,n.stencilOpSeparate=i.stencilOpSeparate,n.texParameterf=i.texParameterf,n.texParameteri=i.texParameteri,n.uniform1f=i.uniform1f,n.uniform1fv=i.uniform1fv,n.uniform1i=i.uniform1i,n.uniform1iv=i.uniform1iv,n.uniform2f=i.uniform2f,n.uniform2fv=i.uniform2fv,n.uniform2i=i.uniform2i,n.uniform2iv=i.uniform2iv,n.uniform3f=i.uniform3f,n.uniform3fv=i.uniform3fv,n.uniform3i=i.uniform3i,n.uniform3iv=i.uniform3iv,n.uniform4f=i.uniform4f,n.uniform4fv=i.uniform4fv,n.uniform4i=i.uniform4i,n.uniform4iv=i.uniform4iv,n.uniformMatrix2fv=i.uniformMatrix2fv,n.uniformMatrix3fv=i.uniformMatrix3fv,n.uniformMatrix4fv=i.uniformMatrix4fv,n.useProgram=i.useProgram,n.validateProgram=i.validateProgram,n.vertexAttrib1f=i.vertexAttrib1f,n.vertexAttrib1fv=i.vertexAttrib1fv,n.vertexAttrib2f=i.vertexAttrib2f,n.vertexAttrib2fv=i.vertexAttrib2fv,n.vertexAttrib3f=i.vertexAttrib3f,n.vertexAttrib3fv=i.vertexAttrib3fv,n.vertexAttrib4f=i.vertexAttrib4f,n.vertexAttrib4fv=i.vertexAttrib4fv,n.vertexAttribPointer=i.vertexAttribPointer,n.viewport=i.viewport,n.drawArraysInstancedANGLE=i.drawArraysInstancedANGLE,n.drawElementsInstancedANGLE=i.drawElementsInstancedANGLE,n.vertexAttribDivisorANGLE=i.vertexAttribDivisorANGLE,n.deleteVertexArrayOES=i.deleteVertexArrayOES,n.bindVertexArrayOES=i.bindVertexArrayOES,n.__proto__.DEPTH_BUFFER_BIT=256,n.__proto__.STENCIL_BUFFER_BIT=1024,n.__proto__.COLOR_BUFFER_BIT=16384,n.__proto__.POINTS=0,n.__proto__.LINES=1,n.__proto__.LINE_LOOP=2,n.__proto__.LINE_STRIP=3,n.__proto__.TRIANGLES=4,n.__proto__.TRIANGLE_STRIP=5,n.__proto__.TRIANGLE_FAN=6,n.__proto__.ZERO=0,n.__proto__.ONE=1,n.__proto__.SRC_COLOR=768,n.__proto__.ONE_MINUS_SRC_COLOR=769,n.__proto__.SRC_ALPHA=770,n.__proto__.ONE_MINUS_SRC_ALPHA=771,n.__proto__.DST_ALPHA=772,n.__proto__.ONE_MINUS_DST_ALPHA=773,n.__proto__.DST_COLOR=774,n.__proto__.ONE_MINUS_DST_COLOR=775,n.__proto__.SRC_ALPHA_SATURATE=776,n.__proto__.FUNC_ADD=32774,n.__proto__.BLEND_EQUATION=32777,n.__proto__.BLEND_EQUATION_RGB=32777,n.__proto__.BLEND_EQUATION_ALPHA=34877,n.__proto__.FUNC_SUBTRACT=32778,n.__proto__.FUNC_REVERSE_SUBTRACT=32779,n.__proto__.BLEND_DST_RGB=32968,n.__proto__.BLEND_SRC_RGB=32969,n.__proto__.BLEND_DST_ALPHA=32970,n.__proto__.BLEND_SRC_ALPHA=32971,n.__proto__.CONSTANT_COLOR=32769,n.__proto__.ONE_MINUS_CONSTANT_COLOR=32770,n.__proto__.CONSTANT_ALPHA=32771,n.__proto__.ONE_MINUS_CONSTANT_ALPHA=32772,n.__proto__.BLEND_COLOR=32773,n.__proto__.ARRAY_BUFFER=34962,n.__proto__.ELEMENT_ARRAY_BUFFER=34963,n.__proto__.ARRAY_BUFFER_BINDING=34964,n.__proto__.ELEMENT_ARRAY_BUFFER_BINDING=34965,n.__proto__.STREAM_DRAW=35040,n.__proto__.STATIC_DRAW=35044,n.__proto__.DYNAMIC_DRAW=35048,n.__proto__.BUFFER_SIZE=34660,n.__proto__.BUFFER_USAGE=34661,n.__proto__.CURRENT_VERTEX_ATTRIB=34342,n.__proto__.FRONT=1028,n.__proto__.BACK=1029,n.__proto__.FRONT_AND_BACK=1032,n.__proto__.TEXTURE_2D=3553,n.__proto__.CULL_FACE=2884,n.__proto__.BLEND=3042,n.__proto__.DITHER=3024,n.__proto__.STENCIL_TEST=2960,n.__proto__.DEPTH_TEST=2929,n.__proto__.SCISSOR_TEST=3089,n.__proto__.POLYGON_OFFSET_FILL=32823,n.__proto__.SAMPLE_ALPHA_TO_COVERAGE=32926,n.__proto__.SAMPLE_COVERAGE=32928,n.__proto__.NO_ERROR=0,n.__proto__.INVALID_ENUM=1280,n.__proto__.INVALID_VALUE=1281,n.__proto__.INVALID_OPERATION=1282,n.__proto__.OUT_OF_MEMORY=1285,n.__proto__.CW=2304,n.__proto__.CCW=2305,n.__proto__.LINE_WIDTH=2849,n.__proto__.ALIASED_POINT_SIZE_RANGE=33901,n.__proto__.ALIASED_LINE_WIDTH_RANGE=33902,n.__proto__.CULL_FACE_MODE=2885,n.__proto__.FRONT_FACE=2886,n.__proto__.DEPTH_RANGE=2928,n.__proto__.DEPTH_WRITEMASK=2930,n.__proto__.DEPTH_CLEAR_VALUE=2931,n.__proto__.DEPTH_FUNC=2932,n.__proto__.STENCIL_CLEAR_VALUE=2961,n.__proto__.STENCIL_FUNC=2962,n.__proto__.STENCIL_FAIL=2964,n.__proto__.STENCIL_PASS_DEPTH_FAIL=2965,n.__proto__.STENCIL_PASS_DEPTH_PASS=2966,n.__proto__.STENCIL_REF=2967,n.__proto__.STENCIL_VALUE_MASK=2963,n.__proto__.STENCIL_WRITEMASK=2968,n.__proto__.STENCIL_BACK_FUNC=34816,n.__proto__.STENCIL_BACK_FAIL=34817,n.__proto__.STENCIL_BACK_PASS_DEPTH_FAIL=34818,n.__proto__.STENCIL_BACK_PASS_DEPTH_PASS=34819,n.__proto__.STENCIL_BACK_REF=36003,n.__proto__.STENCIL_BACK_VALUE_MASK=36004,n.__proto__.STENCIL_BACK_WRITEMASK=36005,n.__proto__.VIEWPORT=2978,n.__proto__.SCISSOR_BOX=3088,n.__proto__.COLOR_CLEAR_VALUE=3106,n.__proto__.COLOR_WRITEMASK=3107,n.__proto__.UNPACK_ALIGNMENT=3317,n.__proto__.PACK_ALIGNMENT=3333,n.__proto__.MAX_TEXTURE_SIZE=3379,n.__proto__.MAX_VIEWPORT_DIMS=3386,n.__proto__.SUBPIXEL_BITS=3408,n.__proto__.RED_BITS=3410,n.__proto__.GREEN_BITS=3411,n.__proto__.BLUE_BITS=3412,n.__proto__.ALPHA_BITS=3413,n.__proto__.DEPTH_BITS=3414,n.__proto__.STENCIL_BITS=3415,n.__proto__.POLYGON_OFFSET_UNITS=10752,n.__proto__.POLYGON_OFFSET_FACTOR=32824,n.__proto__.TEXTURE_BINDING_2D=32873,n.__proto__.SAMPLE_BUFFERS=32936,n.__proto__.SAMPLES=32937,n.__proto__.SAMPLE_COVERAGE_VALUE=32938,n.__proto__.SAMPLE_COVERAGE_INVERT=32939,n.__proto__.COMPRESSED_TEXTURE_FORMATS=34467,n.__proto__.COMPRESSED_RGB8_ETC2=37492,n.__proto__.COMPRESSED_RGBA8_ETC2_EAC=37496,n.__proto__.COMPRESSED_RGBA_ASTC_4x4_KHR=37808,n.__proto__.COMPRESSED_RGBA_ASTC_5x4_KHR=37809,n.__proto__.COMPRESSED_RGBA_ASTC_5x5_KHR=37810,n.__proto__.COMPRESSED_RGBA_ASTC_6x5_KHR=37811,n.__proto__.COMPRESSED_RGBA_ASTC_6x6_KHR=37812,n.__proto__.COMPRESSED_RGBA_ASTC_8x5_KHR=37813,n.__proto__.COMPRESSED_RGBA_ASTC_8x6_KHR=37814,n.__proto__.COMPRESSED_RGBA_ASTC_8x8_KHR=37815,n.__proto__.COMPRESSED_RGBA_ASTC_10x5_KHR=37816,n.__proto__.COMPRESSED_RGBA_ASTC_10x6_KHR=37817,n.__proto__.COMPRESSED_RGBA_ASTC_10x8_KHR=37818,n.__proto__.COMPRESSED_RGBA_ASTC_10x10_KHR=37819,n.__proto__.COMPRESSED_RGBA_ASTC_12x10_KHR=37820,n.__proto__.COMPRESSED_RGBA_ASTC_12x12_KHR=37821,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853,n.__proto__.COMPRESSED_RGB_ETC1_WEBGL=36196,n.__proto__.COMPRESSED_RGB_ATC_WEBGL=35986,n.__proto__.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987,n.__proto__.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798,n.__proto__.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,n.__proto__.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,n.__proto__.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,n.__proto__.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,n.__proto__.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,n.__proto__.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,n.__proto__.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,n.__proto__.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,n.__proto__.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916,n.__proto__.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917,n.__proto__.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918,n.__proto__.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919,n.__proto__.COMPRESSED_RED_RGTC1_EXT=36283,n.__proto__.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284,n.__proto__.COMPRESSED_RED_GREEN_RGTC2_EXT=36285,n.__proto__.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286,n.__proto__.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492,n.__proto__.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493,n.__proto__.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494,n.__proto__.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495,n.__proto__.DONT_CARE=4352,n.__proto__.FASTEST=4353,n.__proto__.NICEST=4354,n.__proto__.GENERATE_MIPMAP_HINT=33170,n.__proto__.BYTE=5120,n.__proto__.UNSIGNED_BYTE=5121,n.__proto__.SHORT=5122,n.__proto__.UNSIGNED_SHORT=5123,n.__proto__.INT=5124,n.__proto__.UNSIGNED_INT=5125,n.__proto__.FLOAT=5126,n.__proto__.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297,n.__proto__.RGBA16F_EXT=34842,n.__proto__.RGB16F_EXT=34843,n.__proto__.UNSIGNED_NORMALIZED_EXT=35863,n.__proto__.HALF_FLOAT_OES=5131,n.__proto__.DEPTH_COMPONENT=6402,n.__proto__.ALPHA=6406,n.__proto__.RGB=6407,n.__proto__.RGBA=6408,n.__proto__.LUMINANCE=6409,n.__proto__.LUMINANCE_ALPHA=6410,n.__proto__.UNSIGNED_SHORT_4_4_4_4=32819,n.__proto__.UNSIGNED_SHORT_5_5_5_1=32820,n.__proto__.UNSIGNED_SHORT_5_6_5=33635,n.__proto__.FRAGMENT_SHADER=35632,n.__proto__.VERTEX_SHADER=35633,n.__proto__.MAX_VERTEX_ATTRIBS=34921,n.__proto__.MAX_VERTEX_UNIFORM_VECTORS=36347,n.__proto__.MAX_VARYING_VECTORS=36348,n.__proto__.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,n.__proto__.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,n.__proto__.MAX_TEXTURE_IMAGE_UNITS=34930,n.__proto__.MAX_FRAGMENT_UNIFORM_VECTORS=36349,n.__proto__.SHADER_TYPE=35663,n.__proto__.DELETE_STATUS=35712,n.__proto__.LINK_STATUS=35714,n.__proto__.VALIDATE_STATUS=35715,n.__proto__.ATTACHED_SHADERS=35717,n.__proto__.ACTIVE_UNIFORMS=35718,n.__proto__.ACTIVE_ATTRIBUTES=35721,n.__proto__.SHADING_LANGUAGE_VERSION=35724,n.__proto__.CURRENT_PROGRAM=35725,n.__proto__.NEVER=512,n.__proto__.LESS=513,n.__proto__.EQUAL=514,n.__proto__.LEQUAL=515,n.__proto__.GREATER=516,n.__proto__.NOTEQUAL=517,n.__proto__.GEQUAL=518,n.__proto__.ALWAYS=519,n.__proto__.KEEP=7680,n.__proto__.REPLACE=7681,n.__proto__.INCR=7682,n.__proto__.DECR=7683,n.__proto__.INVERT=5386,n.__proto__.INCR_WRAP=34055,n.__proto__.DECR_WRAP=34056,n.__proto__.VENDOR=7936,n.__proto__.RENDERER=7937,n.__proto__.VERSION=7938,n.__proto__.NEAREST=9728,n.__proto__.LINEAR=9729,n.__proto__.NEAREST_MIPMAP_NEAREST=9984,n.__proto__.LINEAR_MIPMAP_NEAREST=9985,n.__proto__.NEAREST_MIPMAP_LINEAR=9986,n.__proto__.LINEAR_MIPMAP_LINEAR=9987,n.__proto__.TEXTURE_MAG_FILTER=10240,n.__proto__.TEXTURE_MIN_FILTER=10241,n.__proto__.TEXTURE_WRAP_S=10242,n.__proto__.TEXTURE_WRAP_T=10243,n.__proto__.TEXTURE=5890,n.__proto__.TEXTURE_CUBE_MAP=34067,n.__proto__.TEXTURE_BINDING_CUBE_MAP=34068,n.__proto__.TEXTURE_CUBE_MAP_POSITIVE_X=34069,n.__proto__.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,n.__proto__.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,n.__proto__.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,n.__proto__.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,n.__proto__.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,n.__proto__.MAX_CUBE_MAP_TEXTURE_SIZE=34076,n.__proto__.TEXTURE0=33984,n.__proto__.TEXTURE1=33985,n.__proto__.TEXTURE2=33986,n.__proto__.TEXTURE3=33987,n.__proto__.TEXTURE4=33988,n.__proto__.TEXTURE5=33989,n.__proto__.TEXTURE6=33990,n.__proto__.TEXTURE7=33991,n.__proto__.TEXTURE8=33992,n.__proto__.TEXTURE9=33993,n.__proto__.TEXTURE10=33994,n.__proto__.TEXTURE11=33995,n.__proto__.TEXTURE12=33996,n.__proto__.TEXTURE13=33997,n.__proto__.TEXTURE14=33998,n.__proto__.TEXTURE15=33999,n.__proto__.TEXTURE16=34e3,n.__proto__.TEXTURE17=34001,n.__proto__.TEXTURE18=34002,n.__proto__.TEXTURE19=34003,n.__proto__.TEXTURE20=34004,n.__proto__.TEXTURE21=34005,n.__proto__.TEXTURE22=34006,n.__proto__.TEXTURE23=34007,n.__proto__.TEXTURE24=34008,n.__proto__.TEXTURE25=34009,n.__proto__.TEXTURE26=34010,n.__proto__.TEXTURE27=34011,n.__proto__.TEXTURE28=34012,n.__proto__.TEXTURE29=34013,n.__proto__.TEXTURE30=34014,n.__proto__.TEXTURE31=34015,n.__proto__.ACTIVE_TEXTURE=34016,n.__proto__.REPEAT=10497,n.__proto__.CLAMP_TO_EDGE=33071,n.__proto__.MIRRORED_REPEAT=33648,n.__proto__.FLOAT_VEC2=35664,n.__proto__.FLOAT_VEC3=35665,n.__proto__.FLOAT_VEC4=35666,n.__proto__.INT_VEC2=35667,n.__proto__.INT_VEC3=35668,n.__proto__.INT_VEC4=35669,n.__proto__.BOOL=35670,n.__proto__.BOOL_VEC2=35671,n.__proto__.BOOL_VEC3=35672,n.__proto__.BOOL_VEC4=35673,n.__proto__.FLOAT_MAT2=35674,n.__proto__.FLOAT_MAT3=35675,n.__proto__.FLOAT_MAT4=35676,n.__proto__.SAMPLER_2D=35678,n.__proto__.SAMPLER_CUBE=35680,n.__proto__.VERTEX_ATTRIB_ARRAY_ENABLED=34338,n.__proto__.VERTEX_ATTRIB_ARRAY_SIZE=34339,n.__proto__.VERTEX_ATTRIB_ARRAY_STRIDE=34340,n.__proto__.VERTEX_ATTRIB_ARRAY_TYPE=34341,n.__proto__.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,n.__proto__.VERTEX_ATTRIB_ARRAY_POINTER=34373,n.__proto__.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,n.__proto__.IMPLEMENTATION_COLOR_READ_TYPE=35738,n.__proto__.IMPLEMENTATION_COLOR_READ_FORMAT=35739,n.__proto__.COMPILE_STATUS=35713,n.__proto__.LOW_FLOAT=36336,n.__proto__.MEDIUM_FLOAT=36337,n.__proto__.HIGH_FLOAT=36338,n.__proto__.LOW_INT=36339,n.__proto__.MEDIUM_INT=36340,n.__proto__.HIGH_INT=36341,n.__proto__.FRAMEBUFFER=36160,n.__proto__.RENDERBUFFER=36161,n.__proto__.RGBA4=32854,n.__proto__.RGB5_A1=32855,n.__proto__.RGB565=36194,n.__proto__.DEPTH_COMPONENT16=33189,n.__proto__.STENCIL_INDEX8=36168,n.__proto__.DEPTH_STENCIL=34041,n.__proto__.RENDERBUFFER_WIDTH=36162,n.__proto__.RENDERBUFFER_HEIGHT=36163,n.__proto__.RENDERBUFFER_INTERNAL_FORMAT=36164,n.__proto__.RENDERBUFFER_RED_SIZE=36176,n.__proto__.RENDERBUFFER_GREEN_SIZE=36177,n.__proto__.RENDERBUFFER_BLUE_SIZE=36178,n.__proto__.RENDERBUFFER_ALPHA_SIZE=36179,n.__proto__.RENDERBUFFER_DEPTH_SIZE=36180,n.__proto__.RENDERBUFFER_STENCIL_SIZE=36181,n.__proto__.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,n.__proto__.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,n.__proto__.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,n.__proto__.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,n.__proto__.COLOR_ATTACHMENT0=36064,n.__proto__.DEPTH_ATTACHMENT=36096,n.__proto__.STENCIL_ATTACHMENT=36128,n.__proto__.DEPTH_STENCIL_ATTACHMENT=33306,n.__proto__.NONE=0,n.__proto__.FRAMEBUFFER_COMPLETE=36053,n.__proto__.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,n.__proto__.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,n.__proto__.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,n.__proto__.FRAMEBUFFER_UNSUPPORTED=36061,n.__proto__.FRAMEBUFFER_BINDING=36006,n.__proto__.RENDERBUFFER_BINDING=36007,n.__proto__.MAX_RENDERBUFFER_SIZE=34024,n.__proto__.INVALID_FRAMEBUFFER_OPERATION=1286,n.__proto__.UNPACK_FLIP_Y_WEBGL=37440,n.__proto__.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,n.__proto__.CONTEXT_LOST_WEBGL=37442,n.__proto__.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,n.__proto__.BROWSER_DEFAULT_WEBGL=37444,n.__proto__.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070,n.__proto__.MIN_EXT=32775,n.__proto__.MAX_EXT=32776,n.__proto__.TEXTURE_MAX_ANISOTROPY_EXT=34046,n.__proto__.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,n.__proto__.VERTEX_ARRAY_BINDING_OES=34229,n.__proto__.COMPRESSED_R11_EAC=37488,n.__proto__.COMPRESSED_SIGNED_R11_EAC=37489,n.__proto__.COMPRESSED_RG11_EAC=37490,n.__proto__.COMPRESSED_SIGNED_RG11_EAC=37491,n.__proto__.COMPRESSED_RGB8_ETC2=37492,n.__proto__.COMPRESSED_RGBA8_ETC2_EAC=37496,n.__proto__.COMPRESSED_SRGB8_ETC2=37493,n.__proto__.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497,n.__proto__.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494,n.__proto__.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495,n.__proto__.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,n.__proto__.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,n.__proto__.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,n.__proto__.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,n.__proto__.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916,n.__proto__.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917,n.__proto__.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918,n.__proto__.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919,n.__proto__.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492,n.__proto__.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493,n.__proto__.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494,n.__proto__.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495,n.__proto__.COMPRESSED_RED_RGTC1_EXT=36283,n.__proto__.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284,n.__proto__.COMPRESSED_RED_GREEN_RGTC2_EXT=36285,n.__proto__.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286,n.__proto__.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723,n.__proto__.SRGB_EXT=35904,n.__proto__.SRGB_ALPHA_EXT=35906,n.__proto__.SRGB8_ALPHA8_EXT=35907,n.__proto__.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296,n.__proto__.TEXTURE_2D_ARRAY=35866,n.__proto__.RGBA32F=34836,e):null}return o?r.call(this,_,o):r.call(this,_);var n,i},_.prototype.dispose=function(){}}},_.prototype._createKryptonCanvas=function(_,t){if(this.CanvasElement&&_){if(t)return this._createHeliumLikeCanvas(_);var r=new this.CanvasElement(_,t);return r.style={},r}},_.prototype._createKryptonCanvasWithInitialSize=function(_,t,r,o){return o?this._createHeliumLikeCanvas(_,t,r):this._doCreateCanvas(_,t,r,o)},_.prototype._doCreateCanvas=function(_,t,r,o){if(this.CanvasElement){if(_){var e=new this.CanvasElement(_,o);return e.style={},t>0&&r>0&&(e.width=t,e.height=r,e.style={width:t,height:r}),e}return this.createOffscreenCanvas(t,r)}},_.prototype._createHeliumLikeCanvas=function(_,t,r){if(!this.CanvasElement)return p.error("canvas ng has not setup!!!"),null;var o=new this.CanvasElement(_,!0);if(o.isSurfaceCreated){var e=n.SystemInfo.pixelRatio;o.width=Math.ceil(o.touch_width*e),o.height=Math.ceil(o.touch_height*e)}else if(o.clientWidth>0&&o.clientHeight>0)e=n.SystemInfo.pixelRatio,o.width=Math.ceil(o.clientWidth*e),o.height=Math.ceil(o.clientHeight*e);else if(this.krypton._getSurfaceInfoFromUISync&&this.krypton._getSurfaceInfoFromUISync(_)){var i=this.krypton._getSurfaceInfoFromUISync(_);o.width=Math.ceil(i.width),o.height=Math.ceil(i.height)}else p.error("canvas ng canvas surface has not created!!!"),o=null;return o&&(o.style={width:o.width,height:o.height},t>0&&r>0&&(o.width=t,o.height=r,o.style={ratioOrWidth:t,height:r})),o},_.prototype._getCachedCanvas=function(_){if(_)return this.krypton&&this.krypton.createdCanvas?this.krypton.createdCanvas[_]:void 0},_.prototype.helium=function(){var _=this;return this.krypton&&(this.krypton.require=function(t){return f[t](_.krypton)}),this.krypton},_.prototype.aurum=function(){return this.krypton&&this.krypton._getAurum()},_.prototype.createAudio=function(_){var t=this.krypton&&this.krypton._getAurum();if(t){var r=new(0,t.Audio);return r.setLynxSrc=function(_){this.src=_},_&&(r.src=_),r}throw new Error("canvas ng getAurum return null!!")},_.prototype.createCanvas=function(_){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(!_)return null;if(p.log("create canvas-ng element"),this._getCachedCanvas(_)){var e=this._getCachedCanvas(_),n=e.width;return e.width=1,e.width=n,e}if(0==r.length)t=this._createHeliumLikeCanvas(_);else if(1==r.length)if("[object Boolean]"==Object.prototype.toString.call(r[0]))t=this._createKryptonCanvas(_,r[0]);else{if("[object Number]"!=Object.prototype.toString.call(r[0]))throw new Error("canvas ng create canvas illegal arguments!!!!");p.error("Specify ratio in canvas ng element is not supported!!!!"),t=this._createHeliumLikeCanvas(_)}else if(2==r.length)t=this._createHeliumLikeCanvas(_,r[0],r[1]);else{if(3!=r.length)throw new Error("canvas ng create canvas illegal arguments!!!!");t=this._createKryptonCanvasWithInitialSize(_,r[0],r[1],r[2])}return this.krypton.createdCanvas[_]=t,t},_.prototype.createLegacyKryptonCanvas=function(_,t,r){if(this._getCachedCanvas(_)){var o=this._getCachedCanvas(_);return t>0&&r>0&&(o.width=t,o.height=r,o.style={width:t,height:r}),o}var e=this._doCreateCanvas(_,t,r,!0);return this.krypton.createdCanvas[_]=e,e},_.prototype.createCanvasAsync=function(_,t,r,o,e){throw new Error("canvas ng lynx.createCanvasAsync is not implemented!!")},_.prototype.createImage=function(_){if(this.ImageElement){var t=new this.ImageElement;return t.setLynxSrc=function(_){this.src=_},_&&(t.src=_),t}},_.prototype.createOffscreenCanvas=function(_,t){if(this.CanvasElement){var r=new this.CanvasElement;return r.style={},_>0&&t>0&&(r.width=_,r.height=t),r}},_.prototype.createVideo=function(_,t){var r=new this.VideoElement(t||{});return r.setLynxSrc=function(_){this.src=_},_&&(r.src=_),r},_.prototype.disposeAllCanvases=function(){this.krypton&&(this.krypton.createdCanvas={}),p.error("canvas ng lynx.disposeAllCanvases is not implemented!!")},_.prototype.getAmaz=function(){var _=this.krypton.amazing;return _||(this.krypton.amazing=_=this.krypton._getAmaz(),_)},_.prototype.getAudioContext=function(){if(!this.krypton._audioContext){var _=this.krypton._getAurum().AudioContext;this.krypton._audioContext=new _}return this.krypton._audioContext},_.prototype.getCanvasCreatedByName=function(_){p.error("canvas ng lynx.getCanvasCreatedByName is not implemented!!")},_.prototype.getEffect=function(){var _=this,t=this.krypton.effect;if(t)return t;this.krypton.effect=t=this.krypton._getEffect();var r=function(t){return function(){var r=_.krypton._createDetector(t),o=r.detect;return r.detect=function(_){var e=o.call(r,_);return E(t,e)},r}};return t.createFaceDetector=r("face"),t.createHandDetector=r("hand"),t.createSkeletonDetector=r("skeleton"),t},_.prototype.getHardWareManager=function(){var _=this.krypton,t=function(){function t(){}return t.prototype._gyroscope=function(){return this._gyroscopeData||(this._gyroscopeData=new _.Gyroscope)},t.prototype.startGyroscope=function(_){return this._gyroscope().start(_)},t.prototype.stopGyroscope=function(){return this._gyroscope().stop()},t.prototype.getGyroscopeData=function(){var _=this._gyroscope();return{x:_.x,y:_.y,z:_.z,roll:_.roll,pitch:_.pitch,yaw:_.yaw}},t}();return this.krypton._hardware||(this.krypton._hardware=new t)},_.prototype.getUserMedia=function(_,t,r){var o=this;_?this.krypton._requestUserMediaPermission(_,(function(e){if(e)if(_.audio&&!_.video){var n=o.krypton._getAurum().setupCapture;t(n())}else o.krypton._getUserMediaCamera(_.video||_,(function(_,o){o?r(null,o):t(_)}));else r(null,"request permission failed.")})):r(null,"options {audio?, video?} must be set !!")},_.prototype.napi=function(){throw new Error("canvas ng lynx.getEffect is not implemented!!")},_.prototype.pauseMicrophone=function(){var _=this.aurum().pauseCapture;_&&_()},_.prototype.readFile=function(_,t,r){var n=r&&(null==r?void 0:r.encoding)?1:2;this.krypton._loadAsync(_,n,(function(){for(var _=[],r=0;r<arguments.length;r++)_[r]=arguments[r];t.apply(void 0,e([],o(_),!1))}))},_.prototype.readFileSync=function(_,t){throw new Error("canvas ng lynx.readFileSync is not implemented!!")},_.prototype.requestCamera=function(_,t,r,o){var e=this;return new this.PromiseConstructor((function(r,n){var p=i(_)?_:{};"environment"!==_&&"back"!==_||(p.facingMode=_),t&&(p.beautify=!0),o&&(p.hand=!0),e.getUserMedia({video:p},r,n)}))},_.prototype.requestMicrophone=function(){var _=this;return new this.PromiseConstructor((function(t,r){_.getUserMedia({audio:!0},t,r)}))},_.prototype.resumeMicrophone=function(){var _=this.aurum().resumeCapture;_&&_()},_.prototype.requestRtcEngine=function(_){var t=this;return new this.PromiseConstructor((function(r,o){_&&0!=_.length||o("requestRtcEngine error: appId param must not be null or empty."),t.krypton._requestUserMediaPermission({audio:!0},(function(e){if(e){var n=t.krypton._rtcEngine;n&&n.appId===_||(n=t.krypton._rtcEngine=t.krypton._createRtcEngine(_)),n&&n.appId===_?r(n):o("requestRtcEngine error: native createRtcEngine result error")}else o("requestRtcEngine error: request microphone permission failed.")}))}))},_}();r.initCanvas=function(_,t){_.lynx.krypton=n["napiLoaderOnRT"+_.nativeAppId].load("krypton");var r=new c(_,t),i=_.lynx;i.useCanvasOptimize=function(){return!0},i.helium=function(){return r.helium()},i.aurum=function(){return r.aurum()},i.createAudio=function(_){return r.createAudio(_)},i.createCanvasNG=function(){return new i.krypton.CanvasElement},i.createCanvas=function(_){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return r.createCanvas.apply(r,e([_],o(t),!1))},i.createCanvasAsync=function(_,t,o,e,n){return r.createCanvasAsync(_,t,o,e)},i.createImage=function(_){return r.createImage(_)},i.createOffscreenCanvas=function(_,t){return r.createOffscreenCanvas(_,t)},i.createVideo=function(_,t){return r.createVideo(_,t)},i.disposeAllCanvases=function(){return r.disposeAllCanvases()},i.getAmaz=function(){return r.getAmaz()},i.getAudioContext=function(){return r.getAudioContext()},i.getCanvasCreatedByName=function(_){return r.getCanvasCreatedByName(_)},i.getEffect=function(){return r.getEffect()},i.getHardWareManager=function(){return r.getHardWareManager()},i.getUserMedia=function(_,t,o){return r.getUserMedia(_,t,o)},i.napi=function(){return r.napi()},i.pauseMicrophone=function(){return r.pauseMicrophone()},i.readFile=function(_,t,o){return r.readFile(_,t,o)},i.readFileSync=function(_,t){return r.readFileSync(_,t)},i.requestCamera=function(_,t,o,e){return r.requestCamera(_,t,o,e)},i.requestMicrophone=function(){return r.requestMicrophone()},i.resumeMicrophone=function(){return r.resumeMicrophone()},i.requestRtcEngine=function(_){return r.requestRtcEngine(_)},i.createMediaRecorder=function(_,t){return i.krypton&&i.krypton.createMediaRecorder?i.krypton.createMediaRecorder(_,t):null};var p=r;i.krypton&&(i.krypton.aurum=function(){return p.aurum()},i.krypton.createAudio=function(_){return p.createAudio(_)},i.krypton.createCanvas=function(_,t,r){return p.createLegacyKryptonCanvas(_,t,r)},i.krypton.createCanvasAsync=function(_,t,r,o,e){return p.createCanvasAsync(_,t,r,o)},i.krypton.createImage=function(_){return p.createImage(_)},i.krypton.createOffscreenCanvas=function(_,t){return p.createOffscreenCanvas(_,t)},i.krypton.createVideo=function(_,t){return p.createVideo(_,t)},i.krypton.disposeAllCanvases=function(){return p.disposeAllCanvases()},i.krypton.getAmaz=function(){return p.getAmaz()},i.krypton.getAudioContext=function(){return p.getAudioContext()},i.krypton.getCanvasCreatedByName=function(_){return p.getCanvasCreatedByName(_)},i.krypton.getEffect=function(){return p.getEffect()},i.krypton.getHardWareManager=function(){return p.getHardWareManager()},i.krypton.getUserMedia=function(_,t,r){return p.getUserMedia(_,t,r)},i.krypton.napi=function(){return p.napi()},i.krypton.pauseMicrophone=function(){return p.pauseMicrophone()},i.krypton.readFile=function(_,t,r){return p.readFile(_,t,r)},i.krypton.readFileSync=function(_,t){return p.readFileSync(_,t)},i.krypton.requestCamera=function(_,t,r,o){return p.requestCamera(_,t,r,o)},i.krypton.requestMicrophone=function(){return p.requestMicrophone()},i.krypton.resumeMicrophone=function(){return p.resumeMicrophone()},i.krypton.requestRtcEngine=function(_){return p.requestRtcEngine(_)})}})),t.require("lynx_assets://lynx_canvas.js")};
//# sourceMappingURL=lynx_canvas.js.map
